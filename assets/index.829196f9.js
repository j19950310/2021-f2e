var en=Object.defineProperty,tn=Object.defineProperties;var sn=Object.getOwnPropertyDescriptors;var Ye=Object.getOwnPropertySymbols;var ns=Object.prototype.hasOwnProperty,os=Object.prototype.propertyIsEnumerable;var Tt=(e,t,s)=>t in e?en(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,B=(e,t)=>{for(var s in t||(t={}))ns.call(t,s)&&Tt(e,s,t[s]);if(Ye)for(var s of Ye(t))os.call(t,s)&&Tt(e,s,t[s]);return e},oe=(e,t)=>tn(e,sn(t));var ze=(e,t)=>{var s={};for(var n in e)ns.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&Ye)for(var n of Ye(e))t.indexOf(n)<0&&os.call(e,n)&&(s[n]=e[n]);return s};var is=(e,t,s)=>(Tt(e,typeof t!="symbol"?t+"":t,s),s);import{V as Le,g as Ct,r as M,w as Se,n as as,o as We,a as rs,b as c,c as h,d as cs,u as Te,e as pe,f as Re,h as De,S as At,i as x,p as Je,I as nn,j as ee,k as d,l as q,m as f,q as Xe,s as r,t as et,J as on,v as an,x as ls,y as rn,z as ae,A as D,B as A,C as g,D as Oe,M as cn,E as Ce,F as us,L as ds,G as ln,H as $t,K as Ae,N as X,T as ge,O as V,P as ie,Q as O,R as k,U as K,W as Q,X as le,Y as ue,Z as Bt,_ as Lt,$ as un,a0 as tt,a1 as Rt,a2 as It,a3 as dn,a4 as hn,a5 as hs,a6 as ps,a7 as pn}from"./vendor.d2fa65ce.js";const _n=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}};_n();const mn="modulepreload",_s={},vn="./",fn=function(t,s){return!s||s.length===0?t():Promise.all(s.map(n=>{if(n=`${vn}${n}`,n in _s)return;_s[n]=!0;const o=n.endsWith(".css"),i=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${i}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":mn,o||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),o)return new Promise((l,u)=>{a.addEventListener("load",l),a.addEventListener("error",u)})})).then(()=>t())};var gn="./assets/bike.ac66ba33.jpg",yn="./assets/bike_thumbnail.eb399f68.jpg",ms="./assets/busLanding.73f5714f.png",wn="./assets/cycling_thumbnail.e0f8696f.jpg",st="./assets/default.c306d0da.png",bn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAACRCAMAAAC4wGWsAAAAulBMVEUAAAAy9bEx9K8x9K8x9K4x9LA867Ix868y9LEz9LAx9K4y9K419bAz868y9K4y87Ay9K8y9K8y9K8y9K8y9K8y9K4y9K8x864x9K4x9K4y9K8x9K8y9K4y9K4x9K4x9K4x864x9K8y9K8x9K4y9K8y9K4x9K8x8q0y9K8x9K8y9K8x864x9K4x9K8y9K4x9K4x9K8x9K4y864x9K4x864x868x9K8x868y9K4y868x9K4x9K4y9bIs8q6HDY4EAAAAPnRSTlMAHFSClSUDCgcWv64SDtUxPDheQC25RzRET0tiaeh8dWZtj4h5cVoh47OLm9Cin6qmxcjMKdvf7vby+v0pEfmZWwUAAAH2SURBVGje7czZctowFAbg34C3sJjNhJ0AKcQhCU1KllLy/q9VGeM2wrZ0JK4yo++s9mgOjG/OuQR/ybuAw11yLwBO/eizTsQ9P7tU0+aC4/raPHA8S5sDjmPp8nHGWjP2/4wrbWyklc3MpZpt72wdLs64h92BJYuknRYmnrF0Y5X+j5uDM86hq8VGhh1oWSPDutbyiYx6S4uHDKepI0COoKNhhxx2X4OFHLWeBhc5nKG6DnI1B8oC5OqWlK2Ryy8pc5HLWx21T5kMFl+1uTFAgV5bURMFWiNFNgqsbxTVUMAbq1mh0GquZIhCnR9KDihkz5T4KOTdqhhD4GaqoASBXnlaLrMiCSCwKyuwIOAt6aYQur0nG0FosCDrQKhVYRYVzoL/kb6wIORWqO4hsdwQjSGxeiLqQ6L5SGRBwv1Js4FUZUsyg9SoSjKEVL8aRdVqxILN08ZESUXp1oWUH0VRGKXCpIVxTzOuLQgeQ4IlCGZXX4Rxhad5jKSVQNC7IghA4D/LhSCpvkhVQDL9JbUCyeBB6hokViPxwCKZ6ZJ+PIPopSHxBKLlq8QcRKM3sdcWiKw7sTeQNSaTuzjT4JfJFmSLidAMZON3oSbIrN8i71Aw+RAIoWCz/+djf24KBfM/xfYdGIZhGIZhGIZhGIZhGIZhfGt/AWvuL8XhmZJcAAAAAElFTkSuQmCC",kn="./assets/loading.9ed5bd29.jpg",vs="./assets/logo.3cf230ba.svg",fs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAQCSURBVHgB1Zo9T+NAEIbHOUskEkgpDwmUUEB7OQoEDTEtNFBxV/ETyHUUIILEDwjdNQiupDoaoCShCgUktFDgSAi4LhIUqeDmtdbR4nx510lwHmnjeO2NZ3Zn1rOzMagLWJYVr9Vqy4ZhpPg08f7+nuIS5/O4dJuNwnU3fK3E3wvFYtGmgBikiRB6HV9FUX+4YZRZmRwFUEZZAVdwfnDG08NBOeSyo6qIkgKzs7PbPRDcS5aV2PF7sy8FWPAkC/0Xtk39weay4Gc0Ip1uYOHX4HR9FB4k8cy5ubnlTjd+aXcRJsOHHPd+lPqMeOaPsbExenh4KLS6r6UCQvgsfT5WOyWaKiCG7jeFByhhsxI33gsNTgyHhf31eKZRhmWqskzfvY7dzInPwyY8gEyYCb31H0xI2H1Hz/9EvrIpGWxKebeibkIwHT7cU8iBKcVisYl8Pl/FuWxCWRoAYEocymTq5/jQ7f3FxUWanp6mIFxfX9Pp6alSG3kUTFFnkSIQfmtri4KytLREIyMjdHR05LuNNApZU1QguiQV8GBwcXFBt7e3pANGzy0qCgjS+DDFvK8d5xQKBWUTkIHww8PDpIGF0B5ObNGAglVgRKf3JycnHbvtFhgB/KYqWMJG+OMbKZLJZLQe2IqpqSnnN1Xhzk/ChJI0uHwbaAWQ+ei4IgszeB9oKbCxsUF3d3fULfA23t3dJR0wC1UV29DLy4tTusnT0xPpYPIwQAHt+H91dbX+VlZldHSUAmKbIjuWJE0wBX4itvn29lZhJUiXk5MTx4ZdoBBGpRn7+/v0+PhYP5+fn6d0Ok26IM/qjAAFwBsOPz8/t1Tg6uqKSqVS/RwmFEQBrN1NjieOo9HoAWkCAWRbbmfX8BV5/RB0LcEUzHK5XOWINE+aQR3MAMUPus7eDO798uXlpe0uaJA0shTaO+sA9Lbb45gGZV9oB3pep50Mmz7S8uQowGaUGxoaWldJp2ABgoDO7VWVl9Hm5uaHdnBuDZxMnZNWYcerjY+Px0hxFF5fX52eRC+enZ1RpVLx1Q73JxIJ5XYSh5zg+oMv9fkzlUrFeRTuw5jUasKEm6Grx0JwZhZ+j8LPh12chjcYJ3b7vReggs3CT8gVDdEoC7+iE+D1GiHTgre+Ib3OeccqO/Q/ClmONBKJ/OTeL3rrm+4PsBJlJFEpPBkL2H3T/YqWOzTIAIdECQifbXWxYxg6MzODHfiDfk+vYkPjFwt/2O4+39usfDinPiUAxBplxc82q+pGd5YP29QjRK/vtTMZL8orGTEaWS5r1CVcwTmsz7kbF37RXooJRSyR2dZ98eW5FHQEd9FfS0pIyuBvNkhVJknyF9HDVcTwPJ9XcGShj3WFlvkP8XfUQ/LFm2cAAAAASUVORK5CYII=",gs="./assets/markerBusStation.9f00b43e.svg",Et="./assets/markerBusStationActive.22dbb9a4.svg",ys="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJbSURBVHgBtVY9bxNBEJ2ZuwQRYexINHFlCSmBBhmnRphfkESpqIAmlAkSfc49Em5JAxVUkZNfQCJqjEXDh0C4Ig0StixA4PMOM87Z2jv7nPNZeY3t2Zn39mP2rREmoPizliMXthFMmRkLgFAIhloI3ACgg54Ph43FjWYcB8YQFxzXPGfAMiQB4gvThco4IYoGVju1bXL5XWJyBfN9rSm193dGtO0fpU5tV7I9mAno1TMblREBnTkDV6Ppq84VKLtLcMfNwxIu9GOfTRs+9dqw9+8DfOffoxqGH9Wzm9WhgO65LlG+5gY5GZyDh/PX4e7cVZiEV92v8EyEOty1wy3j4009k/4ZoNPzouR7F2+dSa7QHM3VGgs5lCbpcwez/2aPPr5wIxF5dCVP/r4PxYzfXiQis24H87LP05IrtEbPywbR5R1CgjU7uDV/DdJCm8EGE9wm6feiHVx2cpAWZScf+o2IBT3kEOMKZSEt8rQQDjAUCM4ZJCpNO3DCvyAt9AJG0CJGbtqR1/4JpIXebhviDA1CA8d28GgGAbUOG8J9SMZQyH/e9n7Ay+4XmBZaE/Ul4T4g8YuWLOUoPJOP4/YzFpqrNSHIGzH0IvbpgXy0BmNqXFt/3iRaieZorm12zGJ28gD1dQbBojwWRPg0SqDWobd7xcnCMp1eGe00bQY9L93SEaDY9SXLrgcodfY9Ce3CTOBKPbPpDbWiw8FKVGQqz9BtQRLyYOaxAn0RsXB02EOEe5CEXJpEz3Hco4+TClUIXFiTvy3rwFgUwVww26bsc1OKj41PVe3EOI7/dq39veL06xsAAAAASUVORK5CYII=",ws="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKVSURBVHgBxZdBaxNBFMffbpNGBDEHPSQHWVHEHsRKvDf9AEI96qU3exX8AE0/gDQ96sV60aMtfgDXDxCMeKiIksVDchEaEYpt2o7vP5nFyXS23d3Otj94KbztzvvPm7czbzxKiRCiyn8W2ObYZtkCtqp6PGSL2LpsIdum53lDcgEHDtjabNsiG6/wLuUFM2ZbFadnlbKiZt0T7uiJhGx4luBY33c0XuMJ/ogRvRl9p87BLxoc7lBf7Ej/Ja9Mt/zL1CzVaL5Up5p30RYrYnvItdFNFKBUfjCD9zlYa7cjA6fhQekaLVVmbEIitnkWER0RIMZV/skMjhm/3PsqZ58FZOXJ9G16XL5pE3Ev/kp87cGyGfzF3hY93/2SOTjAO3gXYxgEKpZEZkClvqf/F2aOAVzwrHLHlonrWIo4Ay39CdYcaXcFxhqogtV4ih9frf3i5AtbudKeBMZa/tsx3YuIjQws6F7M/v3+T3INviBjUnJrh4Cm7g0P+lQUqCuDOQi4q3vC/QEVhWUfmYWAQPd8O/xNRYHd0yCAgKrucVl8Jv2jX0LVp3MGAiYah7r9IHECtmeDIQREuqfmFycAJ6aB3Ak/657G1BUqChzXBl0ICHWPZc92BnoFgxACNkirA6xTEVlAj2DpDzZ9dS6/1r2tSsNWMLnBWGhQDNYRO/4M2/qTOhfi0vQMuQJjWWa/gh8pQLVIa/rTR+UbTkRgDIxlsBa3ZSe2ZG9HP2RXk6clSwgekdaSpW5K0SOkPaZRxCsXGtmaUk1EYlsOITiucWLi0Iqzgt0TG9j9qatyxgkFHJGlLbdylheT40TgatYWpwdjVCkvYpyNdZGNbRU4OGl8j1Ii/l/PmzTuogKyX88/sm2kvZ7/A2YnqHZ0lv+JAAAAAElFTkSuQmCC",Mt="./assets/tourBanner.82158cc6.png",Sn="./assets/tourBannerHome-low.81fa54e6.png",bs="./assets/tourBannerHome.d2294f20.png",Tn="./assets/tourFemale.b43ed324.png",Cn="./assets/tourMale.6251aeea.png",An="./assets/all-outline.f8e22387.svg",$n="./assets/arrow-right.72b46af3.svg",Bn="./assets/behance.b32077bb.svg",Ln="./assets/bike-active.7766ef52.svg",Rn="./assets/bike-outline.e9f5230c.svg",In="./assets/bike.bd392560.svg",En="./assets/check-active.cdd526de.svg",Mn="./assets/check-default.75d4dc1f.svg",Pn="./assets/check-second.c70877f9.svg",Dn="./assets/check.762d68c3.svg",On="./assets/close-active.d91c7f2f.svg",xn="./assets/close-default.3bda59e0.svg",Nn="./assets/codepen.92b2185f.svg",Un="./assets/confirmed.2d000e41.svg",Zn="./assets/copy.38695012.svg",Hn="./assets/cursor-link.b74910af.svg",qn="./assets/cursor-swipe.b4dd8dcc.svg",Kn="./assets/cycling-active.0ca19709.svg",Fn="./assets/cycling-outline.31098b3d.svg",Vn="./assets/cycling.6d220aca.svg",Qn="./assets/down.b597c747.svg",Gn="./assets/email.0520ed4b.svg",jn="./assets/enter.7fa7432d.svg",Yn="./assets/explore.4ec5fb61.svg",zn="./assets/facebook.aceb1849.svg",Wn="./assets/fb.83c930fb.svg",Jn="./assets/filter.6961f258.svg",Xn="./assets/home.05aa7625.svg",eo="./assets/hyperlink.72f5ea0e.svg",to="./assets/info.579c1b4d.svg",so="./assets/lang.0b5d916c.svg",no="./assets/left.a65323a1.svg",oo="./assets/like-active.ebc063c3.svg",io="./assets/like-default.25719e70.svg",ao="./assets/like-second.0f1c6694.svg",ro="./assets/line.a07f6c12.svg",co="./assets/link.480c8ad5.svg",lo="./assets/linkedin.ac1f8973.svg",uo="./assets/medium.4a21bef6.svg",ho="./assets/plus-active.ff172418.svg",po="./assets/plus.e796181a.svg",_o="./assets/position.3d8c06a8.svg",mo="./assets/q-active.e17b614f.svg",vo="./assets/q-default.899b1d89.svg",fo="./assets/refresh.87959f2b.svg",go="./assets/restaurant-active.4b21d1c6.svg",yo="./assets/restaurant-outline.5ced9430.svg",wo="./assets/restaurant.bb161004.svg",bo="./assets/right.782ac774.svg",ko="./assets/round-trip.430c1f8a.svg",So="./assets/search.085de334.svg",To="./assets/share.b771f999.svg",Co="./assets/shuffle.fdde390c.svg",Ao="./assets/sub.abcc4fcb.svg",$o="./assets/tour-active.c0ed35a5.svg",Bo="./assets/tour-outline.1678f131.svg",Lo="./assets/tour.41b8c140.svg",Ro="./assets/twitter.760f9081.svg",Io="./assets/zh-default.01dcf4fe.svg";class Eo{constructor(t,s){is(this,"getResource",(()=>{const t={};return(s,n="name")=>{if(t[s])return t[s];const o=this.resources.find(i=>i[n]===s);return t[s]=o,o}})());if(this.options=B({clear:!0,autoRender:!0,drawingMode:"center",defaultResources:[]},s),this.reqRenders=[],this.resources=[],this.onEvents={},this.render=this.render.bind(this),this.resize=this.resize.bind(this),t instanceof Element){this.el=t;const{width:n,height:o,dpr:i}=this.viewport;this.canvas=document.createElement("canvas"),this.canvas.width=n*i,this.canvas.height=o*i,this.ctx=this.canvas.getContext("2d")}}async init(){await Promise.allSettled([this.loadDefaultResources()]),this.el&&(this.el.appendChild(this.canvas),this.options.autoRender&&this.render(),window.addEventListener("resize",this.resize))}async loadDefaultResources(){return await this.addResources(this.options.defaultResources)}async addResource(t){let{type:s,src:n,name:o,options:i}=t;n.match(/^(http|https):\/\//)||(n=new URL({"../../assets/bike.jpg":gn,"../../assets/bike_thumbnail.jpg":yn,"../../assets/busLanding.png":ms,"../../assets/cycling_thumbnail.jpg":wn,"../../assets/default.png":st,"../../assets/direction.png":bn,"../../assets/loading.jpg":kn,"../../assets/logo.svg":vs,"../../assets/markerBusStation.png":fs,"../../assets/markerBusStation.svg":gs,"../../assets/markerBusStationActive.svg":Et,"../../assets/markerBusStop.png":ys,"../../assets/markerBusStopEnd.png":ws,"../../assets/tourBanner.png":Mt,"../../assets/tourBannerHome-low.png":Sn,"../../assets/tourBannerHome.png":bs,"../../assets/tourFemale.png":Tn,"../../assets/tourMale.png":Cn,"../../assets/icons/all-outline.svg":An,"../../assets/icons/arrow-right.svg":$n,"../../assets/icons/behance.svg":Bn,"../../assets/icons/bike-active.svg":Ln,"../../assets/icons/bike-outline.svg":Rn,"../../assets/icons/bike.svg":In,"../../assets/icons/check-active.svg":En,"../../assets/icons/check-default.svg":Mn,"../../assets/icons/check-second.svg":Pn,"../../assets/icons/check.svg":Dn,"../../assets/icons/close-active.svg":On,"../../assets/icons/close-default.svg":xn,"../../assets/icons/codepen.svg":Nn,"../../assets/icons/confirmed.svg":Un,"../../assets/icons/copy.svg":Zn,"../../assets/icons/cursor-link.svg":Hn,"../../assets/icons/cursor-swipe.svg":qn,"../../assets/icons/cycling-active.svg":Kn,"../../assets/icons/cycling-outline.svg":Fn,"../../assets/icons/cycling.svg":Vn,"../../assets/icons/down.svg":Qn,"../../assets/icons/email.svg":Gn,"../../assets/icons/enter.svg":jn,"../../assets/icons/explore.svg":Yn,"../../assets/icons/facebook.svg":zn,"../../assets/icons/fb.svg":Wn,"../../assets/icons/filter.svg":Jn,"../../assets/icons/home.svg":Xn,"../../assets/icons/hyperlink.svg":eo,"../../assets/icons/info.svg":to,"../../assets/icons/lang.svg":so,"../../assets/icons/left.svg":no,"../../assets/icons/like-active.svg":oo,"../../assets/icons/like-default.svg":io,"../../assets/icons/like-second.svg":ao,"../../assets/icons/line.svg":ro,"../../assets/icons/link.svg":co,"../../assets/icons/linkedin.svg":lo,"../../assets/icons/medium.svg":uo,"../../assets/icons/plus-active.svg":ho,"../../assets/icons/plus.svg":po,"../../assets/icons/position.svg":_o,"../../assets/icons/q-active.svg":mo,"../../assets/icons/q-default.svg":vo,"../../assets/icons/refresh.svg":fo,"../../assets/icons/restaurant-active.svg":go,"../../assets/icons/restaurant-outline.svg":yo,"../../assets/icons/restaurant.svg":wo,"../../assets/icons/right.svg":bo,"../../assets/icons/round-trip.svg":ko,"../../assets/icons/search.svg":So,"../../assets/icons/share.svg":To,"../../assets/icons/shuffle.svg":Co,"../../assets/icons/sub.svg":Ao,"../../assets/icons/tour-active.svg":$o,"../../assets/icons/tour-outline.svg":Bo,"../../assets/icons/tour.svg":Lo,"../../assets/icons/twitter.svg":Ro,"../../assets/icons/zh-default.svg":Io}[`../../assets/${n}`],self.location).href);const a={type:s,name:o||n,resource:null};if(s==="image"){const l=await this.loadImage(n,i);a.resource=l}return a}async addResources(t){const s=t.map(n=>this.addResource(n));return await Promise.allSettled(s).then(n=>{n.forEach(({status:o,value:i})=>{i&&this.resources.push(i)})})}getResources(t,s="name"){return typeof t=="function"?this.resources.filter(t):this.resources.filter(n=>n[s]===t)}loadImage(t){const s=new Image;return s.src=t,new Promise(n=>{s.onload=()=>{n(s)}})}render(){this.reqID=window.requestAnimationFrame(this.render),this.update()}update(){const{width:t,halfWidth:s,height:n,halfHeight:o,dpr:i}=this.viewport,{clear:a,drawingMode:l}=this.options;a&&this.ctx.clearRect(0,0,t*i,n*i),this.ctx.save(),l==="center"&&this.ctx.translate(s*i,o*i),this.ctx.scale(i,i);for(let u=0;u<this.reqRenders.length;u++)this.reqRenders[u](this.reqID);this.ctx.restore()}resize(){const{width:t,height:s,dpr:n}=this.viewport;this.canvas.width=t*n,this.canvas.height=s*n}stop(){window.cancelAnimationFrame(this.reqID)}destroy(){this.stop(),this.el&&(this.el.removeChild(this.canvas),window.removeEventListener("resize",this.resize))}on(t,s){typeof t=="string"&&typeof s=="function"&&(this.onEvents[t]=s)}get viewport(){const t=Math.min(window.devicePixelRatio,1.5),{width:s,height:n}=this.el.getBoundingClientRect();return{width:s,height:n,halfWidth:s/2,halfHeight:n/2,aspect:s/n,dpr:t}}}class Mo extends Eo{constructor(t,s){super(t,{defaultResources:[{type:"image",name:"link",src:"icons/cursor-link.svg"},{type:"image",name:"swipe",src:"icons/cursor-swipe.svg"}]});if(t instanceof Element){this.options=B(B({mode:"default"},this.options),s),this.params={size:4,scale:6,opacity:1};const{size:n,opacity:o}=this.params;this.size=n,this.opacity=o,this.icon=null,this.mouse=new Le,this.lerpMouse=new Le,this.isHover=!1,this.mousemove=this.mousemove.bind(this)}}async init(){await super.init(),this.draw(),window.addEventListener("mousemove",this.mousemove)}mousemove({clientX:t,clientY:s}){const{width:n,height:o}=this.viewport,i=t/n*2-1,a=s/o*2-1;this.mouse.set(i,a);const l=document.elementFromPoint(t,s);if(l){const{tagName:u,dataset:p}=l;if(p.cursor!==void 0||u==="A"||u==="BUTTON"){this.isHover||(this.icon=p.cursor,this.hoverEffect());return}}this.isHover&&(this.icon=null,this.blurEffect())}draw(){this.ctx.strokeStyle="#383838",this.ctx.fillStyle="#383838",this.reqRenders.push(t=>{var y;const{width:s,height:n}=this.viewport,{x:o,y:i}=this.mouse,{x:a,y:l}=this.lerpMouse;this.ctx.save(),this.ctx.translate(o*s/2,i*n/2),this.ctx.beginPath(),this.ctx.arc(0,0,4,0,2*Math.PI),this.ctx.fill(),this.ctx.restore();const u=this.lerpMouse.distanceTo(this.mouse)+1,p=Math.atan2(l-i,a-o);if(this.ctx.save(),this.ctx.globalAlpha=this.opacity,this.ctx.translate(a*s/2,l*n/2),this.ctx.beginPath(),this.ctx.rotate(p),this.ctx.ellipse(0,0,24*u,24,0,0,2*Math.PI),this.ctx.stroke(),this.ctx.restore(),this.ctx.save(),this.ctx.globalAlpha=1-this.opacity,this.ctx.translate(a*s/2,l*n/2),this.ctx.beginPath(),this.ctx.rotate(p),this.ctx.ellipse(0,0,24*u,24,0,0,2*Math.PI),this.ctx.fill(),this.ctx.restore(),this.isHover){this.ctx.save(),this.ctx.translate(a*s/2,l*n/2);let T=(y=this.getResource(this.icon))==null?void 0:y.resource;T||(T=this.getResource("link").resource),this.ctx.drawImage(T,-T.width/2,-T.height/2),this.ctx.restore()}this.lerpMouse.lerpVectors(this.lerpMouse,this.mouse,.1)})}destroy(){super.destroy(),window.removeEventListener("mousemove",this.mousemove)}hoverEffect(){if(!this.isHover){const{size:t,scale:s}=this.params;Ct.to(this,{size:t*s,opacity:0}),this.isHover=!0}}blurEffect(){if(this.isHover){const{size:t,opacity:s}=this.params;Ct.to(this,{size:t,opacity:s}),this.isHover=!1}}}const Po={setup(e){const t=M(null),s=M(null),n=M("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);Se(()=>n.value,i=>{var a;if(!n.value){as(()=>{t.value=new Mo(s.value),t.value.init()});return}(a=t.value)==null||a.destroy(),t.value=null},{immediate:!0}),We(()=>{window.addEventListener("resize",o)}),rs(()=>{window.removeEventListener("resize",o)});const o=()=>{n.value="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0};return(i,a)=>(c(),h("div",{ref:(l,u)=>{u.cursorEffect=l,s.value=l},class:"cursor-effect"},null,512))}},Pt={desktop:"(min-width: 1200px)",tablet:"(min-width: 768px) and (max-width: 1199px)",mobile:"(max-width: 767px)"};class Do{constructor(){Object.assign(this,{width:0,height:0,_isMobile:!1,_isTablet:!1,_isDesktop:!1}),this.update()}update(){const{name:t,os:s}=cs();this.isDesktop=window.matchMedia(Pt.desktop).matches,this.isTablet=window.matchMedia(Pt.tablet).matches,this.isMobile=window.matchMedia(Pt.mobile).matches,this.width=window.innerWidth,this.height=window.innerHeight,this.isPc=s,this.isIE=t}set isDesktop(t){this._isDesktop=t}get isDesktop(){return this._isDesktop===void 0&&this.update(),this._isDesktop}set isTablet(t){this._isTablet=t}get isTablet(){return this._isTablet===void 0&&this.update(),this._isTablet}set isMobile(t){this._isMobile=t}get isMobile(){return this._isMobile===void 0&&this.update(),this._isMobile}set isPc(t){this._os=t}get isPc(){return this._os===void 0&&this.update(),this._os!=="iOS"&&this._os!=="Android OS"}set isIE(t){this._name=t}get isIE(){return this._name===void 0&&this.update(),this._name==="ie"}}const Oo=new Do,xo=r("div",{id:"portalTarget"},null,-1),No={setup(e){const t=Te(),s=pe();s.dispatch("admin/init");const n=Re({scrollTop:M(0),progress:M(0),direction:1,end:0});De.registerPlugin(At),At.create({scroller:window,start:"top top",end:"bottom bottom",onUpdate:u=>{n.progress=u.progress,n.scrollTop=u.progress*u.end,n.direction=u.direction,n.end=u.end}});const o=Re(Oo),i=x(()=>s.state.loadingConfig);x(()=>s.state.isFirstEnter),window.addEventListener("resize",()=>{o.update()}),Je("scrollInstance",n),Je("viewport",o);const a=()=>new Promise(u=>{new nn("#app",{background:"[data-background]"},p=>{u()})}),l=()=>{new Promise(u=>{fn(()=>import("./webfontloader.f5e2b0ed.js").then(function(p){return p.w}),[]).then(p=>{p.load({google:{families:["Noto Sans TC:500, 700","Asap:700"]},active(){u()}})})})};return We(async()=>{await s.dispatch("ADD_LOADING_STACK",[a(),l()]),s.dispatch("WAIT_LOADING")}),(u,p)=>{const y=ee("router-view"),T=Po;return c(),h("div",{class:q(["app",`-${f(t).name}`]),style:Xe({"--loading-duration":`${f(i).minTime/1e3}s`})},[d(y),xo,d(T)],6)}}};function Dt(e){let t={};if(e.nodeType===1){if(e.attributes.length>0){t["@attributes"]={};for(let n=0;n<e.attributes.length;n++){const o=e.attributes.item(n);t["@attributes"][o.nodeName]=o.nodeValue}}}else e.nodeType===3&&(t=e.nodeValue);const s=[].slice.call(e.childNodes).filter(function(n){return n.nodeType===3});if(e.hasChildNodes()&&e.childNodes.length===s.length)t=[].slice.call(e.childNodes).reduce(function(n,o){return n+o.nodeValue},"");else if(e.hasChildNodes())for(let n=0;n<e.childNodes.length;n++){const o=e.childNodes.item(n),i=o.nodeName;if(typeof t[i]=="undefined")t[i]=Dt(o);else{if(typeof t[i].push=="undefined"){const a=t[i];t[i]=[],t[i].push(a)}t[i].push(Dt(o))}}return t}const Ot={\u57FA\u9686\u5E02:{\u4EC1\u611B\u5340:200,\u4FE1\u7FA9\u5340:201,\u4E2D\u6B63\u5340:202,\u4E2D\u5C71\u5340:203,\u5B89\u6A02\u5340:204,\u6696\u6696\u5340:205,\u4E03\u5835\u5340:206},\u53F0\u5317\u5E02:{\u4E2D\u6B63\u5340:100,\u5927\u540C\u5340:103,\u4E2D\u5C71\u5340:104,\u677E\u5C71\u5340:105,\u5927\u5B89\u5340:106,\u842C\u83EF\u5340:108,\u4FE1\u7FA9\u5340:110,\u58EB\u6797\u5340:111,\u5317\u6295\u5340:112,\u5167\u6E56\u5340:114,\u5357\u6E2F\u5340:115,\u6587\u5C71\u5340:116},\u81FA\u5317\u5E02:{\u4E2D\u6B63\u5340:100,\u5927\u540C\u5340:103,\u4E2D\u5C71\u5340:104,\u677E\u5C71\u5340:105,\u5927\u5B89\u5340:106,\u842C\u83EF\u5340:108,\u4FE1\u7FA9\u5340:110,\u58EB\u6797\u5340:111,\u5317\u6295\u5340:112,\u5167\u6E56\u5340:114,\u5357\u6E2F\u5340:115,\u6587\u5C71\u5340:116},\u65B0\u5317\u5E02:{\u842C\u91CC\u5340:207,\u91D1\u5C71\u5340:208,\u677F\u6A4B\u5340:220,\u6C50\u6B62\u5340:221,\u6DF1\u5751\u5340:222,\u77F3\u7887\u5340:223,\u745E\u82B3\u5340:224,\u5E73\u6EAA\u5340:226,\u96D9\u6EAA\u5340:227,\u8CA2\u5BEE\u5340:228,\u65B0\u5E97\u5340:231,\u576A\u6797\u5340:232,\u70CF\u4F86\u5340:233,\u6C38\u548C\u5340:234,\u4E2D\u548C\u5340:235,\u571F\u57CE\u5340:236,\u4E09\u5CFD\u5340:237,\u6A39\u6797\u5340:238,\u9DAF\u6B4C\u5340:239,\u4E09\u91CD\u5340:241,\u65B0\u838A\u5340:242,\u6CF0\u5C71\u5340:243,\u6797\u53E3\u5340:244,\u8606\u6D32\u5340:247,\u4E94\u80A1\u5340:248,\u516B\u91CC\u5340:249,\u6DE1\u6C34\u5340:251,\u4E09\u829D\u5340:252,\u77F3\u9580\u5340:253},\u5B9C\u862D\u7E23:{\u5B9C\u862D\u5E02:260,\u982D\u57CE\u93AE:261,\u7901\u6EAA\u9109:262,\u58EF\u570D\u9109:263,\u54E1\u5C71\u9109:264,\u7F85\u6771\u93AE:265,\u4E09\u661F\u9109:266,\u5927\u540C\u9109:267,\u4E94\u7D50\u9109:268,\u51AC\u5C71\u9109:269,\u8607\u6FB3\u93AE:270,\u5357\u6FB3\u9109:272,\u91E3\u9B5A\u53F0\u5217\u5DBC:290},\u65B0\u7AF9\u5E02:{\u6771\u5340:300,\u5317\u5340:300,\u9999\u5C71\u5340:300},\u65B0\u7AF9\u7E23:{\u7AF9\u5317\u5E02:302,\u6E56\u53E3\u9109:303,\u65B0\u8C50\u9109:304,\u65B0\u57D4\u93AE:305,\u95DC\u897F\u93AE:306,\u828E\u6797\u9109:307,\u5BF6\u5C71\u9109:308,\u7AF9\u6771\u93AE:310,\u4E94\u5CF0\u9109:311,\u6A6B\u5C71\u9109:312,\u5C16\u77F3\u9109:313,\u5317\u57D4\u9109:314,\u5CE8\u7709\u9109:315},\u6843\u5712\u5E02:{\u4E2D\u58E2\u5340:320,\u5E73\u93AE\u5340:324,\u9F8D\u6F6D\u5340:325,\u694A\u6885\u5340:326,\u65B0\u5C4B\u5340:327,\u89C0\u97F3\u5340:328,\u6843\u5712\u5340:330,\u9F9C\u5C71\u5340:333,\u516B\u5FB7\u5340:334,\u5927\u6EAA\u5340:335,\u5FA9\u8208\u5340:336,\u5927\u5712\u5340:337,\u8606\u7AF9\u5340:338},\u82D7\u6817\u7E23:{\u7AF9\u5357\u93AE:350,\u982D\u4EFD\u5E02:351,\u4E09\u7063\u9109:352,\u5357\u5E84\u9109:353,\u7345\u6F6D\u9109:354,\u5F8C\u9F8D\u93AE:356,\u901A\u9704\u93AE:357,\u82D1\u88E1\u93AE:358,\u82D7\u6817\u5E02:360,\u9020\u6A4B\u9109:361,\u982D\u5C4B\u9109:362,\u516C\u9928\u9109:363,\u5927\u6E56\u9109:364,\u6CF0\u5B89\u9109:365,\u9285\u947C\u9109:366,\u4E09\u7FA9\u9109:367,\u897F\u6E56\u9109:368,\u5353\u862D\u93AE:369},\u53F0\u4E2D\u5E02:{\u4E2D\u5340:400,\u6771\u5340:401,\u5357\u5340:402,\u897F\u5340:403,\u5317\u5340:404,\u5317\u5C6F\u5340:406,\u897F\u5C6F\u5340:407,\u5357\u5C6F\u5340:408,\u592A\u5E73\u5340:411,\u5927\u91CC\u5340:412,\u9727\u5CF0\u5340:413,\u70CF\u65E5\u5340:414,\u8C50\u539F\u5340:420,\u540E\u91CC\u5340:421,\u77F3\u5CA1\u5340:422,\u6771\u52E2\u5340:423,\u548C\u5E73\u5340:424,\u65B0\u793E\u5340:426,\u6F6D\u5B50\u5340:427,\u5927\u96C5\u5340:428,\u795E\u5CA1\u5340:429,\u5927\u809A\u5340:432,\u6C99\u9E7F\u5340:433,\u9F8D\u4E95\u5340:434,\u68A7\u68F2\u5340:435,\u6E05\u6C34\u5340:436,\u5927\u7532\u5340:437,\u5916\u57D4\u5340:438,\u5927\u5B89\u5340:439},\u81FA\u4E2D\u5E02:{\u4E2D\u5340:400,\u6771\u5340:401,\u5357\u5340:402,\u897F\u5340:403,\u5317\u5340:404,\u5317\u5C6F\u5340:406,\u897F\u5C6F\u5340:407,\u5357\u5C6F\u5340:408,\u592A\u5E73\u5340:411,\u5927\u91CC\u5340:412,\u9727\u5CF0\u5340:413,\u70CF\u65E5\u5340:414,\u8C50\u539F\u5340:420,\u540E\u91CC\u5340:421,\u77F3\u5CA1\u5340:422,\u6771\u52E2\u5340:423,\u548C\u5E73\u5340:424,\u65B0\u793E\u5340:426,\u6F6D\u5B50\u5340:427,\u5927\u96C5\u5340:428,\u795E\u5CA1\u5340:429,\u5927\u809A\u5340:432,\u6C99\u9E7F\u5340:433,\u9F8D\u4E95\u5340:434,\u68A7\u68F2\u5340:435,\u6E05\u6C34\u5340:436,\u5927\u7532\u5340:437,\u5916\u57D4\u5340:438,\u5927\u5B89\u5340:439},\u5F70\u5316\u7E23:{\u5F70\u5316\u5E02:500,\u82AC\u5712\u9109:502,\u82B1\u58C7\u9109:503,\u79C0\u6C34\u9109:504,\u9E7F\u6E2F\u93AE:505,\u798F\u8208\u9109:506,\u7DDA\u897F\u9109:507,\u548C\u7F8E\u93AE:508,\u4F38\u6E2F\u9109:509,\u54E1\u6797\u5E02:510,\u793E\u982D\u9109:511,\u6C38\u9756\u9109:512,\u57D4\u5FC3\u9109:513,\u6EAA\u6E56\u93AE:514,\u5927\u6751\u9109:515,\u57D4\u9E7D\u9109:516,\u7530\u4E2D\u93AE:520,\u5317\u6597\u93AE:521,\u7530\u5C3E\u9109:522,\u57E4\u982D\u9109:523,\u6EAA\u5DDE\u9109:524,\u7AF9\u5858\u9109:525,\u4E8C\u6797\u93AE:526,\u5927\u57CE\u9109:527,\u82B3\u82D1\u9109:528,\u4E8C\u6C34\u9109:530},\u5357\u6295\u7E23:{\u5357\u6295\u5E02:540,\u4E2D\u5BEE\u9109:541,\u8349\u5C6F\u93AE:542,\u570B\u59D3\u9109:544,\u57D4\u91CC\u93AE:545,\u4EC1\u611B\u9109:546,\u540D\u9593\u9109:551,\u96C6\u96C6\u93AE:552,\u6C34\u91CC\u9109:553,\u9B5A\u6C60\u9109:555,\u4FE1\u7FA9\u9109:556,\u7AF9\u5C71\u93AE:557,\u9E7F\u8C37\u9109:558},\u5609\u7FA9\u5E02:{\u6771\u5340:600,\u897F\u5340:600},\u5609\u7FA9\u7E23:{\u756A\u8DEF\u9109:602,\u6885\u5C71\u9109:603,\u7AF9\u5D0E\u9109:604,\u963F\u91CC\u5C71:605,\u4E2D\u57D4\u9109:606,\u5927\u57D4\u9109:607,\u6C34\u4E0A\u9109:608,\u9E7F\u8349\u9109:611,\u592A\u4FDD\u5E02:612,\u6734\u5B50\u5E02:613,\u6771\u77F3\u9109:614,\u516D\u8173\u9109:615,\u65B0\u6E2F\u9109:616,\u6C11\u96C4\u9109:621,\u5927\u6797\u93AE:622,\u6EAA\u53E3\u9109:623,\u7FA9\u7AF9\u9109:624,\u5E03\u888B\u93AE:625},\u96F2\u6797\u7E23:{\u6597\u5357\u93AE:630,\u5927\u57E4\u9109:631,\u864E\u5C3E\u93AE:632,\u571F\u5EAB\u93AE:633,\u8912\u5FE0\u9109:634,\u6771\u52E2\u9109:635,\u81FA\u897F\u9109:636,\u5D19\u80CC\u9109:637,\u9EA5\u5BEE\u9109:638,\u6597\u516D\u5E02:640,\u6797\u5167\u9109:643,\u53E4\u5751\u9109:646,\u83BF\u6850\u9109:647,\u897F\u87BA\u93AE:648,\u4E8C\u5D19\u9109:649,\u5317\u6E2F\u93AE:651,\u6C34\u6797\u9109:652,\u53E3\u6E56\u9109:653,\u56DB\u6E56\u9109:654,\u5143\u9577\u9109:655},\u53F0\u5357\u5E02:{\u4E2D\u897F\u5340:700,\u6771\u5340:701,\u5357\u5340:702,\u5317\u5340:704,\u5B89\u5E73\u5340:708,\u5B89\u5357\u5340:709,\u6C38\u5EB7\u5340:710,\u6B78\u4EC1\u5340:711,\u65B0\u5316\u5340:712,\u5DE6\u93AE\u5340:713,\u7389\u4E95\u5340:714,\u6960\u897F\u5340:715,\u5357\u5316\u5340:716,\u4EC1\u5FB7\u5340:717,\u95DC\u5EDF\u5340:718,\u9F8D\u5D0E\u5340:719,\u5B98\u7530\u5340:720,\u9EBB\u8C46\u5340:721,\u4F73\u91CC\u5340:722,\u897F\u6E2F\u5340:723,\u4E03\u80A1\u5340:724,\u5C07\u8ECD\u5340:725,\u5B78\u7532\u5340:726,\u5317\u9580\u5340:727,\u65B0\u71DF\u5340:730,\u5F8C\u58C1\u5340:731,\u767D\u6CB3\u5340:732,\u6771\u5C71\u5340:733,\u516D\u7532\u5340:734,\u4E0B\u71DF\u5340:735,\u67F3\u71DF\u5340:736,\u9E7D\u6C34\u5340:737,\u5584\u5316\u5340:741,\u5927\u5167\u5340:742,\u5C71\u4E0A\u5340:743,\u65B0\u5E02\u5340:744,\u5B89\u5B9A\u5340:745},\u81FA\u5357\u5E02:{\u4E2D\u897F\u5340:700,\u6771\u5340:701,\u5357\u5340:702,\u5317\u5340:704,\u5B89\u5E73\u5340:708,\u5B89\u5357\u5340:709,\u6C38\u5EB7\u5340:710,\u6B78\u4EC1\u5340:711,\u65B0\u5316\u5340:712,\u5DE6\u93AE\u5340:713,\u7389\u4E95\u5340:714,\u6960\u897F\u5340:715,\u5357\u5316\u5340:716,\u4EC1\u5FB7\u5340:717,\u95DC\u5EDF\u5340:718,\u9F8D\u5D0E\u5340:719,\u5B98\u7530\u5340:720,\u9EBB\u8C46\u5340:721,\u4F73\u91CC\u5340:722,\u897F\u6E2F\u5340:723,\u4E03\u80A1\u5340:724,\u5C07\u8ECD\u5340:725,\u5B78\u7532\u5340:726,\u5317\u9580\u5340:727,\u65B0\u71DF\u5340:730,\u5F8C\u58C1\u5340:731,\u767D\u6CB3\u5340:732,\u6771\u5C71\u5340:733,\u516D\u7532\u5340:734,\u4E0B\u71DF\u5340:735,\u67F3\u71DF\u5340:736,\u9E7D\u6C34\u5340:737,\u5584\u5316\u5340:741,\u5927\u5167\u5340:742,\u5C71\u4E0A\u5340:743,\u65B0\u5E02\u5340:744,\u5B89\u5B9A\u5340:745},\u9AD8\u96C4\u5E02:{\u65B0\u8208\u5340:800,\u524D\u91D1\u5340:801,\u82D3\u96C5\u5340:802,\u9E7D\u57D5\u5340:803,\u9F13\u5C71\u5340:804,\u65D7\u6D25\u5340:805,\u524D\u93AE\u5340:806,\u4E09\u6C11\u5340:807,\u6960\u6893\u5340:811,\u5C0F\u6E2F\u5340:812,\u5DE6\u71DF\u5340:813,\u4EC1\u6B66\u5340:814,\u5927\u793E\u5340:815,\u5CA1\u5C71\u5340:820,\u8DEF\u7AF9\u5340:821,\u963F\u84EE\u5340:822,\u7530\u5BEE\u9109:823,\u71D5\u5DE2\u5340:824,\u6A4B\u982D\u5340:825,\u6893\u5B98\u5340:826,\u5F4C\u9640\u5340:827,\u6C38\u5B89\u5340:828,\u6E56\u5167\u9109:829,\u9CF3\u5C71\u5340:830,\u5927\u5BEE\u5340:831,\u6797\u5712\u5340:832,\u9CE5\u677E\u5340:833,\u5927\u6A39\u5340:840,\u65D7\u5C71\u5340:842,\u7F8E\u6FC3\u5340:843,\u516D\u9F9C\u5340:844,\u5167\u9580\u5340:845,\u6749\u6797\u5340:846,\u7532\u4ED9\u5340:847,\u6843\u6E90\u5340:848,\u90A3\u746A\u590F\u5340:849,\u8302\u6797\u5340:851,\u8304\u8423\u5340:852},\u5C4F\u6771\u7E23:{\u5C4F\u6771\u5E02:900,\u4E09\u5730\u9580:901,\u9727\u81FA\u9109:902,\u746A\u5BB6\u9109:903,\u4E5D\u5982\u9109:904,\u91CC\u6E2F\u9109:905,\u9AD8\u6A39\u9109:906,\u9E7D\u57D4\u9109:907,\u9577\u6CBB\u9109:908,\u9E9F\u6D1B\u9109:909,\u7AF9\u7530\u9109:911,\u5167\u57D4\u9109:912,\u842C\u4E39\u9109:913,\u6F6E\u5DDE\u93AE:920,\u6CF0\u6B66\u9109:921,\u4F86\u7FA9\u9109:922,\u842C\u5DD2\u9109:923,\u5D01\u9802\u9109:924,\u65B0\u57E4\u9109:925,\u5357\u5DDE\u9109:926,\u6797\u908A\u9109:927,\u6771\u6E2F\u93AE:928,\u7409\u7403\u9109:929,\u4F73\u51AC\u9109:931,\u65B0\u5712\u9109:932,\u678B\u5BEE\u9109:940,\u678B\u5C71\u9109:941,\u6625\u65E5\u9109:942,\u7345\u5B50\u9109:943,\u8ECA\u57CE\u9109:944,\u7261\u4E39\u9109:945,\u6046\u6625\u93AE:946,\u6EFF\u5DDE\u9109:947},\u53F0\u6771\u7E23:{\u81FA\u6771\u5E02:950,\u7DA0\u5CF6\u9109:951,\u862D\u5DBC\u9109:952,\u5EF6\u5E73\u9109:953,\u5351\u5357\u9109:954,\u9E7F\u91CE\u9109:955,\u95DC\u5C71\u93AE:956,\u6D77\u7AEF\u9109:957,\u6C60\u4E0A\u9109:958,\u6771\u6CB3\u9109:959,\u6210\u529F\u93AE:961,\u9577\u6FF1\u9109:962,\u592A\u9EBB\u91CC\u9109:963,\u91D1\u5CF0\u9109:964,\u5927\u6B66\u9109:965,\u9054\u4EC1\u9109:966},\u81FA\u6771\u7E23:{\u81FA\u6771\u5E02:950,\u7DA0\u5CF6\u9109:951,\u862D\u5DBC\u9109:952,\u5EF6\u5E73\u9109:953,\u5351\u5357\u9109:954,\u9E7F\u91CE\u9109:955,\u95DC\u5C71\u93AE:956,\u6D77\u7AEF\u9109:957,\u6C60\u4E0A\u9109:958,\u6771\u6CB3\u9109:959,\u6210\u529F\u93AE:961,\u9577\u6FF1\u9109:962,\u592A\u9EBB\u91CC\u9109:963,\u91D1\u5CF0\u9109:964,\u5927\u6B66\u9109:965,\u9054\u4EC1\u9109:966},\u82B1\u84EE\u7E23:{\u82B1\u84EE\u5E02:970,\u65B0\u57CE\u9109:971,\u79C0\u6797\u9109:972,\u5409\u5B89\u9109:973,\u58FD\u8C50\u9109:974,\u9CF3\u6797\u93AE:975,\u5149\u5FA9\u9109:976,\u8C50\u6FF1\u9109:977,\u745E\u7A57\u9109:978,\u842C\u69AE\u9109:979,\u7389\u91CC\u93AE:981,\u5353\u6EAA\u9109:982,\u5BCC\u91CC\u9109:983},\u91D1\u9580\u7E23:{\u91D1\u6C99\u93AE:890,\u91D1\u6E56\u93AE:891,\u91D1\u5BE7\u9109:892,\u91D1\u57CE\u93AE:893,\u70C8\u5DBC\u9109:894,\u70CF\u5775\u9109:896},\u9023\u6C5F\u7E23:{\u5357\u7AFF\u9109:209,\u5317\u7AFF\u9109:210,\u8392\u5149\u9109:211,\u6771\u5F15\u9109:212},\u6F8E\u6E56\u7E23:{\u99AC\u516C\u5E02:880,\u897F\u5DBC\u9109:881,\u671B\u5B89\u9109:882,\u4E03\u7F8E\u9109:883,\u767D\u6C99\u9109:884,\u6E56\u897F\u9109:885},\u5357\u6D77\u8AF8\u5CF6:{\u6771\u6C99:817,\u5357\u6C99:819}};function ks(e,t=void 0){if(t&&Ot[t])return Ot[t][e]||null;try{Object.entries(Ot).forEach(([s,n])=>{Object.entries(n).forEach(([o,i])=>{if(o===e)throw i})})}catch(s){return s}return null}const xt="https://api.nlsc.gov.tw/other";async function Uo(){const e=await et.get(`${xt}/ListCounty`),t={},s=new DOMParser().parseFromString(e.data,"text/xml"),{countyItems:{countyItem:n}}=Dt(s);return n.forEach(o=>{t[o.countyname]=qo(o)}),t}async function Zo(e){const{data:t}=await et.get(`${xt}/ListTown1/${e}`);return t.map(Ko)}async function Ho(e){const{lat:t,lng:s}=e,{data:{ctyName:n}}=await et.get(`${xt}/TownVillagePointQuery/${s}/${t}`);return n}function qo(e){return{code:e.countycode,name:e.countyname,towns:[]}}function Ko(e){return{code:e.towncode,code01:e.towncode01,name:e.townname,zip:ks(e.townname),id:"towncode"+e.towncode}}var Fo={namespaced:!0,state:()=>({county:{}}),getters:{getSelectedTownListByCounties:e=>t=>{const s={};return t.forEach(n=>{e.county[n]&&(s[n]=e.county[n].towns)}),s}},mutations:{setCounty(e,t){e.county=t},setTowns(e,{towns:t,countyName:s}){e.county[s]&&(e.county[s].towns=t)}},actions:{init({commit:e,state:t}){Uo().then(s=>{e("setCounty",s)})},getTownsByCountyName({commit:e,state:t},s){return new Promise((n,o)=>{if(t.county[s]&&!t.county[s].towns.length){const i=t.county[s].code;Zo(i).then(a=>{e("setTowns",{countyName:s,towns:a}),n(a)})}else t.county[s]?n(t.county[s].towns):n([])})}}};class Ie{constructor(t){const{GeoHash:s,PositionLat:n,PositionLon:o}=t;Object.assign(this,{lat:n,lng:o,hash:s})}get empty(){return!this.lat&&!this.lng&&!this.hash}}const I=Object.freeze({STATION:"bikeStations",CYCLING:"bikeCycling",RESTAURANT:"restaurants",TOUR:"tours"});class nt{constructor(t){Object.assign(this,t)}get id(){return this.ID}get name(){return this.Name}get description(){return this.Description}get address(){return this.Address}get phone(){const t=this.Phone;return{empty:t==="",value:t,label:"\u666F\u9EDE\u670D\u52D9\u96FB\u8A71",href:t?`tel:${t}`:void 0}}get websiteUrl(){return this.WebsiteUrl}get picture(){return new Vo(this.Picture)}get position(){return new Ie(this.Position)}get class(){const{Class:t,Class1:s,Class2:n,Class3:o}=this;return[t,s,n,o].filter(Boolean)}get mapUrl(){return this.MapUrl}get zipCode(){return this.ZipCode}get parkingInfo(){return this.ParkingInfo}get city(){return this.City}get srcUpdateTime(){return new Date(this.SrcUpdateTime)}get updateTime(){return new Date(this.UpdateTime)}}class ot extends nt{constructor(t){super(t);this.type=I.TOUR,this.category="scenic"}get descriptionDetail(){return this.DescriptionDetail}get travelInfo(){return this.TravelInfo}get openTime(){return this.OpenTime}get level(){return this.Level}get parkingPosition(){return new Ie(this.ParkingPosition)}get ticketInfo(){return this.TicketInfo}get remarks(){return this.Remarks?document.createTextNode(this.Remarks):void 0}get keyword(){return this.Keyword}}class it extends nt{constructor(t){super(t);this.type=I.RESTAURANT,this.category="restaurant"}}class at extends nt{constructor(t){super(t);this.category="hotel"}get grade(){return this.Grade}get fax(){return this.Fax}get spec(){return this.Spec}get serverInfo(){return this.ServerInfo}}class rt extends nt{constructor(t){super(t);this.category="activity"}get particpation(){return this.Particpation}get organizer(){return this.Organizer}get time(){return{start:new Date(this.StartTime),end:new Date(this.EndTime)}}get cycle(){return this.Cycle}get nonCycle(){return this.NonCycle}get charge(){return this.Charge}}class Vo{constructor(t){const{PictureUrl1:s,PictureDescription1:n,PictureUrl2:o,PictureDescription2:i,PictureUrl3:a,PictureDescription3:l}=t;this.pictures=[s,o,a].filter(Boolean),this.descriptions=[n,i,l].filter(Boolean),this.index=0}get src(){return this.pictures[this.index]}get alt(){return this.descriptions[this.index]}change(){this.index=(this.index+1)%this.pictures.length}get all(){return this.pictures}get desc(){return this.descriptions}get length(){return this.pictures.length}get empty(){return!this.length}}const Ss={north:"\u5317\u90E8",center:"\u4E2D\u90E8",east:"\u6771\u90E8",south:"\u5357\u90E8",outlyingIslands:"\u96E2\u5CF6"},Ts=e=>{switch(e){case"north":return["\u81FA\u5317\u5E02","\u65B0\u5317\u5E02","\u57FA\u9686\u5E02","\u65B0\u7AF9\u5E02","\u6843\u5712\u5E02","\u65B0\u7AF9\u7E23","\u5B9C\u862D\u7E23"];case"center":return["\u81FA\u4E2D\u5E02","\u82D7\u6817\u7E23","\u5F70\u5316\u7E23","\u5357\u6295\u7E23","\u96F2\u6797\u7E23"];case"south":return["\u9AD8\u96C4\u5E02","\u81FA\u5357\u5E02","\u5609\u7FA9\u5E02","\u5609\u7FA9\u7E23","\u5C4F\u6771\u7E23"];case"east":return["\u82B1\u84EE\u7E23","\u81FA\u6771\u7E23"];case"outlyingIslands":return["\u91D1\u9580\u7E23","\u9023\u6C5F\u7E23","\u6F8E\u6E56\u7E23"];default:return[]}},Qo=e=>{switch(e){case"\u81FA\u5317\u5E02":case"\u65B0\u5317\u5E02":case"\u57FA\u9686\u5E02":case"\u65B0\u7AF9\u5E02":case"\u6843\u5712\u5E02":case"\u65B0\u7AF9\u7E23":case"\u5B9C\u862D\u7E23":return"north";case"\u81FA\u4E2D\u5E02":case"\u82D7\u6817\u7E23":case"\u5F70\u5316\u7E23":case"\u5357\u6295\u7E23":case"\u96F2\u6797\u7E23":return"center";case"\u9AD8\u96C4\u5E02":case"\u81FA\u5357\u5E02":case"\u5609\u7FA9\u5E02":case"\u5609\u7FA9\u7E23":case"\u5C4F\u6771\u7E23":return"south";case"\u82B1\u84EE\u7E23":case"\u81FA\u6771\u7E23":return"east";case"\u91D1\u9580\u7E23":case"\u9023\u6C5F\u7E23":case"\u6F8E\u6E56\u7E23":return"outlyingIslands";default:return}},xe={Taipei:"\u53F0\u5317\u5E02",NewTaipei:"\u65B0\u5317\u5E02",Taoyuan:"\u6843\u5712\u5E02",Taichung:"\u53F0\u4E2D\u5E02",Tainan:"\u53F0\u5357\u5E02",Kaohsiung:"\u9AD8\u96C4\u5E02",Keelung:"\u57FA\u9686\u5E02",Hsinchu:"\u65B0\u7AF9\u5E02",HsinchuCounty:"\u65B0\u7AF9\u7E23",MiaoliCounty:"\u82D7\u6817\u7E23",ChanghuaCounty:"\u5F70\u5316\u7E23",NantouCounty:"\u5357\u6295\u7E23",YunlinCounty:"\u96F2\u6797\u7E23",ChiayiCounty:"\u5609\u7FA9\u7E23",Chiayi:"\u5609\u7FA9\u5E02",PingtungCounty:"\u5C4F\u6771\u7E23",YilanCounty:"\u5B9C\u862D\u7E23",HualienCounty:"\u82B1\u84EE\u7E23",TaitungCounty:"\u53F0\u6771\u7E23",KinmenCounty:"\u91D1\u9580\u7E23",PenghuCounty:"\u6F8E\u6E56\u7E23",LienchiangCounty:"\u9023\u6C5F\u7E23"},$e=new Map(Object.entries(xe));Object.keys(xe).forEach(e=>{$e.set(xe[e],e)});const ct={\u53F0\u5317\u5E02:"\u81FA\u5317\u5E02",\u81FA\u5317\u5E02:"\u53F0\u5317\u5E02",\u53F0\u4E2D\u5E02:"\u81FA\u4E2D\u5E02",\u81FA\u4E2D\u5E02:"\u53F0\u4E2D\u5E02",\u53F0\u5357\u5E02:"\u81FA\u5357\u5E02",\u81FA\u5357\u5E02:"\u53F0\u5357\u5E02",\u53F0\u6771\u7E23:"\u81FA\u6771\u7E23",\u81FA\u6771\u7E23:"\u53F0\u6771\u7E23"};var lt=e=>{const t=`https://ptx.transportdata.tw/MOTC/v2/${e}`,s=B({},Cs()),n=et.create({baseURL:t});return Object.assign(n.defaults.headers.common,s),{axios:n,refreshHeader:()=>{n.defaults.headers.common=B({},Cs())}}};function Cs(){const e="1345aa88cd204ff8aa612a9d4b01a068",t="ONTbuRRshhTKb1jIwV0tJLeoBv8",s=new Date().toGMTString(),n=new on("SHA-1","TEXT");n.setHMACKey(t,"TEXT"),n.update("x-date: "+s);const o=n.getHMAC("B64");return{Authorization:`hmac username="${e}", algorithm="hmac-sha1", headers="x-date", signature="${o}"`,"X-Date":s,"Content-Type":"application/json"}}function G(e){const{top:t=0,format:s="JSON",skip:n=0,select:o=[],position:i=null,orderBy:a="",distance:l=0,filter:u=""}=e,p=new URLSearchParams;return p.append("$format",s),t&&p.append("$top",t),n&&p.append("$skip",n),o.length>0&&p.append("$select",Go(o)),a&&p.append("$orderby",a),i&&l&&p.append("$spatialFilter",Yo(i,l)),u&&p.append("$filter",jo(u)),p.toString()}function Go(e){return e.length===0?"":`${e.join(",")}`}function jo(e){return Object.entries({"==":"eq","!=":"ne",">":"gt",">=":"ge","<":"lt","<=":"le","&":"and","|":"or","!":"not","+":"add","-":"sub","*":"mul","%":"mod"}).forEach(([s,n])=>{e=e.replaceAll(s,` ${n} `)}),e}function Yo(e,t){const{lat:s,lng:n}=e;return`nearby(${s},${n},${t})`}const Nt={\u81FA\u5317\u5E02:"Taipei",\u53F0\u5317\u5E02:"Taipei",\u65B0\u5317\u5E02:"NewTaipei",\u6843\u5712\u5E02:"Taoyuan",\u81FA\u4E2D\u5E02:"Taichung",\u53F0\u4E2D\u5E02:"Taichung",\u81FA\u5357\u5E02:"Tainan",\u53F0\u5357\u5E02:"Tainan",\u9AD8\u96C4\u5E02:"Kaohsiung",\u57FA\u9686\u5E02:"Keelung",\u65B0\u7AF9\u5E02:"Hsinchu",\u65B0\u7AF9\u7E23:"HsinchuCounty",\u82D7\u6817\u7E23:"MiaoliCounty",\u5F70\u5316\u7E23:"ChanghuaCounty",\u5357\u6295\u7E23:"NantouCounty",\u96F2\u6797\u7E23:"YunlinCounty",\u5609\u7FA9\u7E23:"ChiayiCounty",\u5609\u7FA9\u5E02:"Chiayi",\u5C4F\u6771\u7E23:"PingtungCounty",\u5B9C\u862D\u7E23:"YilanCounty",\u82B1\u84EE\u7E23:"HualienCounty",\u81FA\u6771\u7E23:"TaitungCounty",\u53F0\u6771\u7E23:"TaitungCounty",\u91D1\u9580\u7E23:"KinmenCounty",\u6F8E\u6E56\u7E23:"PenghuCounty",\u9023\u6C5F\u7E23:"LienchiangCounty",\u99AC\u7956\u5730\u5340:"LienchiangCounty"},zo={\u81FA\u5317\u5E02:"Taipei",\u53F0\u5317\u5E02:"Taipei",\u65B0\u7AF9\u5E02:"Hsinchu",\u82D7\u6817\u7E23:"MiaoliCounty",\u65B0\u5317\u5E02:"NewTaipei",\u5C4F\u6771\u7E23:"PingtungCounty",\u91D1\u9580\u7E23:"KinmenCounty",\u6843\u5712\u5E02:"Taoyuan",\u81FA\u4E2D\u5E02:"Taichung",\u53F0\u4E2D\u5E02:"Taichung",\u9AD8\u96C4\u5E02:"Kaohsiung",\u81FA\u5357\u5E02:"Tainan",\u5609\u7FA9\u5E02:"Chiayi",\u53F0\u5357\u5E02:"Tainan"},_e=e=>{if(e!==""){try{for(const[t,s]of Object.entries(Nt)){if(t.includes(e))throw s;if(s.includes(e))throw s}}catch(t){return t}return!1}},Ut=e=>{if(e!==""){try{for(const[t,s]of Object.entries(zo)){if(t.includes(e))throw s;if(s.includes(e))throw s}}catch(t){return t}return!1}},{axios:he,refreshHeader:ye}=lt("Tourism"),ut={};function we(e){return e}const Zt=async(e={})=>{try{const t=G(e),s=G(Object.assign({},e,B({},ut)));let n=0;const{data:o}=await he.get(`/ScenicSpot/?${t}`);if(!e.skip){const{data:{length:i}}=await he.get(`/ScenicSpot/?${s}`);n=i}return{length:n,type:"scenic",list:o.map(i=>new ot(i))}}catch(t){return we(t)}finally{ye()}},Ht=async(e,t={})=>{try{const s=_e(e);if(!s)throw new Error("\u67E5\u8A62\u4E0D\u5230\u8F38\u5165\u5B57\u4E32\u7684\u57CE\u5E02");const n=G(t),{data:o}=await he.get(`/ScenicSpot/${s}/?${n}`);return o.map(i=>new ot(i))}catch(s){return we(s)}finally{ye()}},qt=async(e={})=>{try{const t=G(e),s=G(Object.assign({},e,B({},ut)));let n=0;const{data:o}=await he.get(`/Restaurant/?${t}`);if(!e.skip){const{data:{length:i}}=await he.get(`/Restaurant/?${s}`);n=i}return{length:n,type:"restaurant",list:o.map(i=>new it(i))}}catch(t){return we(t)}finally{ye()}},Kt=async(e,t={})=>{try{const s=_e(e);if(!s)throw new Error("\u67E5\u8A62\u4E0D\u5230\u8F38\u5165\u5B57\u4E32\u7684\u57CE\u5E02");const n=G(t),{data:o}=await he.get(`/Restaurant/${s}/?${n}`);return o.map(i=>new it(i))}catch(s){return we(s)}finally{ye()}},As=async(e={})=>{try{const t=G(e),s=G(Object.assign({},e,B({},ut)));let n=0;const{data:o}=await he.get(`/Hotel/?${t}`);if(!e.skip){const{data:{length:i}}=await he.get(`/Hotel/?${s}`);n=i}return{length:n,type:"hotel",list:o.map(i=>new at(i))}}catch(t){return we(t)}finally{ye()}},Wo=async(e,t={})=>{try{const s=_e(e);if(!s)throw new Error("\u67E5\u8A62\u4E0D\u5230\u8F38\u5165\u5B57\u4E32\u7684\u57CE\u5E02");const n=G(t),{data:o}=await he.get(`/Hotel/${s}/?${n}`);return o.map(i=>new at(i))}catch(s){return we(s)}finally{ye()}},$s=async(e={})=>{try{const t=G(e),s=G(Object.assign({},e,B({},ut)));let n=0;const{data:o}=await he.get(`/Activity/?${t}`);if(!e.skip){const{data:{length:i}}=await he.get(`/Activity/?${s}`);n=i}return{length:n,type:"activity",list:o.map(i=>new rt(i))}}catch(t){return we(t)}finally{ye()}},Jo=async(e,t={})=>{try{const s=_e(e);if(!s)throw new Error("\u67E5\u8A62\u4E0D\u5230\u8F38\u5165\u5B57\u4E32\u7684\u57CE\u5E02");const n=G(t),{data:o}=await he.get(`/Activity/${s}/?${n}`);return o.map(i=>new rt(i))}catch(s){return we(s)}finally{ye()}},Xo={name:"defaultFilter",emits:["back","submit"],data(){const e=Object.keys(Ss).reduce((s,n)=>(s[n]=!1,s),{}),t=Object.keys(xe).reduce((s,n)=>(s[n]=!1,s),{});return{search:"",category:{scenic:!1,restaurant:!1,hotel:!1,activity:!1},region:e,counties:t,activeTownListCountyName:"",selectedTown:[],countySelectedAllTowns:[],pendding:!1,regionLabels:Ss}},computed:{countiesOptions(){return Object.entries(this.counties).map(([e,t])=>({name:$e.get(e),id:e}))},selectedTownList(){const e=Object.entries(this.counties).reduce((t,[s,n])=>{const o=$e.get(s);return n&&o&&t.push(this.countyNameSimpleConvert(o)),t},[]);return this.getSelectedTownListByCounties()(e)},regionButtonState(){return Object.entries(this.counties).reduce((e,[t,s])=>{const n=xe[t],o=Qo(n);return o&&s&&!e.includes(o)&&e.push(o),e},[])}},watch:{selectedTownList(e,t){let s="";const n=Object.keys(e).reduce((i,a)=>t[a]?i:(s=a,e[a]),null),o=Object.keys(t).reduce((i,a)=>e[a]?i:t[a],null);n&&(this.activeTownListCountyName=s),o&&(this.activeTownListCountyName=this.countySelectedAllTowns[0])},selectedTown:{deep:!0,handler(e){this.updateSelectedAllTownsCounty(e)}}},mounted(){Object.keys(this.counties).forEach(e=>{this.$watch(`counties.${e}`,t=>{this.pendding=!0;const s=$e.get(e),n=ct[s]||s;this.getTownsByCountyName(n).then(o=>{this.pendding=!1,t?o.forEach(i=>{this.addTownToList(i,n)}):o.forEach(i=>{this.removeTownFromList(i,n)})})})})},methods:oe(B(B({},an({getTownsByCountyName:"admin/getTownsByCountyName",tourSubmitQuery:"tour/query",bikeSubmitQuery:"bike/query"})),ls({getSelectedTownListByCounties:"admin/getSelectedTownListByCounties"})),{countyNameSimpleConvert(e){try{Object.keys(ct).forEach(t=>{if(ct[t]===e)throw t})}catch(t){return t}return e},updateSelectedRegion(e,t){const s=!t;this.region[e]=s,Ts(e).forEach(n=>{const o=this.countyNameSimpleConvert(n);this.updateSelectedCounty($e.get(o),s)})},updateSelectedCounty(e,t){this.counties[e]!==void 0&&(this.counties[e]=t)},updateSelectedTown(e,t){this.selectedTown.includes(t+e)?this.removeTownFromList(e,t):this.addTownToList(e,t)},updateSelectedAllTownsCounty(e){const t=[];Object.entries(this.selectedTownList).forEach(([s,n])=>{n.reduce((i,a)=>{const l=s+a.name;return e.includes(l)&&i},!0)&&t.push(s)}),this.countySelectedAllTowns=t},selectAllRegion(){Object.keys(this.region).forEach(e=>{this.region[e]=!0})},clearAll(){this.clearRegion(),this.clearSelectedCouties(),this.selectedTown=[]},clearRegion(){Object.keys(this.region).forEach(e=>{this.region[e]=!1})},clearSelectedCouties(){Object.keys(this.counties).forEach(e=>{this.counties[e]=!1})},clearCurrentCountyAllSelectedTowns(){if(!this.activeTownListCountyName)return;this.selectedTownList[this.activeTownListCountyName].forEach(t=>{this.removeTownFromList(t,this.activeTownListCountyName)})},selectAllCoutiesHandler(){Object.keys(this.counties).forEach(e=>{this.counties[e]=!0})},selectCurrentCountyAllTowns(){if(!this.activeTownListCountyName)return;this.selectedTownList[this.activeTownListCountyName].forEach(t=>{this.addTownToList(t,this.activeTownListCountyName)})},removeTownFromList(e,t){const s=typeof e=="string"?e:e.name,n=this.selectedTown.indexOf(t+s);n!==-1&&this.selectedTown.splice(n,1)},addTownToList(e,t){const s=typeof e=="string"?e:e.name;this.selectedTown.includes(`${t}${s}`)||this.selectedTown.push(`${t}${s}`)},convertCountyNameToApiKey(e){const t=ct[e]||e;return $e.get(t)},async tourSubmit(){const e=new FormData(this.$el);return this.tourSubmitQuery(e)},async bikeSubmit(){const e=new FormData(this.$el);return this.bikeSubmitQuery(e)}})},Ne="QUERY_SCENIC",Ue="QUERY_SCENIC_BY_CITY",Ze="QUERY_RESTAURANT",He="QUERY_RESTAURANT_BY_CITY",qe="QUERY_HOTEL",Ke="QUERY_HOTEL_BY_CITY",Ft="QUERY_ACTIVITY",Fe="QUERY_ACTIVITY_BY_CITY",be="1 == 1",Bs={[Ne]:be,[Ue]:be,[Ze]:be,[He]:be,[qe]:be,[Ke]:be,[Ft]:be,[Fe]:"1 == 0"};Object.freeze(Bs);const Vt={[Ne]:Zt,[Ue]:Ht,[Ze]:qt,[He]:Kt,[qe]:As,[Ke]:Wo,[Ft]:$s,[Fe]:Jo,scenic:Zt,restaurant:qt,hotel:As,activity:$s};function dt(e){const t=new Map;return Object.keys(e.region).forEach(s=>{regionKeys[s]&&Ts(regionKeys[s]).forEach(n=>{t.set(n,!0)})}),Object.keys(e.countyAll).forEach(s=>{t.set(s,!0)}),[...t.keys()]}function ht(e){const t=new Map;return Object.keys(e.town).forEach(s=>{var n;((n=e==null?void 0:e.countyAll)==null?void 0:n[s])||Object.keys(e.town[s]).forEach(o=>{t.set(o,!0)})}),[...t.keys()]}function ei(e){e.queryList.push({category:Ue,query:dt(e)}),e.queryList.push({category:Ne,query:ht(e)})}function ti(e){e.queryList.push({category:He,query:dt(e)}),e.queryList.push({category:Ze,query:ht(e)})}function si(e){e.queryList.push({category:Ke,query:dt(e)}),e.queryList.push({category:qe,query:ht(e)})}function ni(e){e.queryList.push({category:Fe,query:dt(e)}),e.queryList.push({category:Ft,query:ht(e)})}const pt={top:12,skip:0,filter:"",format:"JSON"};Object.freeze(pt);var oi={namespaced:!0,state:()=>B({popUp:{isShow:!1},page:1,currentQueryConfig:{scenic:{},restaurant:{},hotel:{},activity:{}},currentQuery:{scenic:[],restaurant:[],hotel:[],activity:[]},currentTotal:{scenic:0,restaurant:0,hotel:0,activity:0}},(()=>{const e=localStorage.getItem("currentQueryConfig")||"{}",t=localStorage.getItem("currentQuery")||"{}",s=localStorage.getItem("currentTotal")||"{}",n=localStorage.getItem("savedQuery")||"{}",o=JSON.parse(s),i=JSON.parse(e),{scenic:a=[],restaurant:l=[],hotel:u=[],activity:p=[]}=JSON.parse(t),{scenic:y=[],restaurant:T=[],hotel:w=[],activity:m=[]}=JSON.parse(n),b={scenic:a.map(C=>new ot(C)),restaurant:l.map(C=>new it(C)),hotel:u.map(C=>new at(C)),activity:p.map(C=>new rt(C))},P={scenic:y.map(C=>new ot(C)),restaurant:T.map(C=>new it(C)),hotel:w.map(C=>new at(C)),activity:m.map(C=>new rt(C))},E=[y,T,w,m].reduce((C,F)=>(F.forEach(j=>{C.push(j.ID)}),C),[]);return{currentTotal:o,currentQuery:b,currentQueryConfig:i,savedQuery:P,savedQueryIds:E}})()),getters:{getSkip:e=>(e.page-1)*pt.top,getQueryTags:e=>t=>{const s=e.currentQueryConfig[t],n=new Map;return s?(s.keywords&&n.set(s.keywords,!0),s.queryList&&s.queryList.length>0&&s.queryList.forEach(o=>{o.query.forEach(i=>{n.set(i,!0)})}),[...n.keys()]):[]},getCurrentQueryPostByCategory:e=>t=>e.currentQuery[t]||[],getCurrentQueryPagination:e=>({category:t,page:s})=>{const n=e.currentTotal[t];return{max:n?Math.ceil(n/pt.top):0,now:e.page}},getSingleSpotByQuery:e=>(t,s,n=!1)=>((n?e.savedQuery:e.currentQuery)[s]||[]).find(a=>a.id===t)||null,getSavedSpotPreview:e=>{const{savedQuery:t,savedQueryIds:s}=e,n=s.slice(0,5),o=[];return n.forEach(i=>{Object.keys(t).forEach(a=>{t[a].forEach(l=>{l.ID===i&&o.push(l)})})}),o},savedQueryTotal:e=>{const{savedQuery:t}=e;return Object.keys(t).reduce((s,n)=>(s[n]=t[n].length,s),{})},isIdSaved:e=>t=>e.savedQueryIds.includes(t)},mutations:{showPopUp(e){e.popUp.isShow=!0},hidePopUp(e){e.popUp.isShow=!1},saveQueryConfig(e,{config:t,category:s}){e.currentQueryConfig[s]=t,localStorage.setItem("currentQueryConfig",JSON.stringify(B({},e.currentQueryConfig)))},resetResultCurrent(e){e.currentQuery={scenic:[],restaurant:[],hotel:[],activity:[]},localStorage.setItem("currentQuery",JSON.stringify(B({},e.currentQuery)))},resetResultTotal(e){e.currentTotal={scenic:0,restaurant:0,hotel:0,activity:0},localStorage.setItem("currentTotal",JSON.stringify(B({},e.currentTotal)))},resetQueryConfig(e){e.page=1,e.currentQueryConfig={scenic:{},restaurant:{},hotel:{},activity:{}},localStorage.setItem("currentQueryConfig",JSON.stringify(B({},e.currentQueryConfig)))},setQueryResult(e,t){const{list:s,type:n,length:o}=t;e.currentQuery[n]=s,e.currentTotal[n]=o},setPage(e,t){e.page=t},toggleSaveSpot(e,{spot:t,category:s}){const n=t.id,o=e.savedQuery[s]||[],i=o.findIndex(a=>a.id===n);i>-1?(o.splice(i,1),e.savedQueryIds.splice(e.savedQueryIds.indexOf(n),1)):(o.unshift(t),e.savedQueryIds.unshift(n)),localStorage.setItem("savedQuery",JSON.stringify(B({},e.savedQuery)))},destroy(e){}},actions:{init({commit:e,dispatch:t}){},resetAll({commit:e}){e("resetResultCurrent"),e("resetResultTotal")},query(e,t){e.commit("resetQueryConfig");const s={keywords:t.get("keywords"),region:{},countyAll:{},town:{},category:{},queryList:[]};let n=Object.keys(s.category);n=n.length>0?n:["scenic","restaurant","hotel","activity"];for(const o of t.keys())o.split("/").reduce((i,a)=>(!i[a]&&a!=="keywords"&&(i[a]={}),i[a]),s);return n.forEach(o=>{o==="scenic"?ei(s):o==="restaurant"?ti(s):o==="hotel"?si(s):o==="activity"&&ni(s)}),e.dispatch("dispatchQueryStacks",s)},dispatchQueryStacks(e,t){return e.dispatch("resetAll"),new Promise((s,n)=>{const o=[],i=Object.assign({},Bs),a=t.keywords?`(contains(Name,'${t.keywords}') | contains(Description,'${t.keywords}'))`:be,l=Object.keys(t.category).length>0?Object.keys(t.category):["scenic","restaurant","hotel","activity"];t.queryList.forEach(u=>{const{category:p,query:y}=u;if(!!Vt[p]){if(p===Ue||p===He||p===Ke||p===Fe)y.length>0&&(i[p]=`City == '${y.join("' | City == '")}'`);else if((p===Ne||p===Ze||p===qe)&&y.length>0){const T=y.map(ks);i[p]=`ZipCode == '${T.join("' | ZipCode == '")}'`}}}),l.forEach(u=>{let p="";u==="scenic"?p=`(${i[Ne]}) & (${i[Ue]})`:u==="restaurant"?p=`(${i[Ze]}) & (${i[He]})`:u==="hotel"?p=`(${i[qe]}) & (${i[Ke]})`:u==="activity"&&(p=`(${i[Fe]})`);const y=Object.assign(B({},pt),{filter:`${a} & ${p}`,skip:e.getters.getSkip});o.push(Vt[u](y)),e.commit("saveQueryConfig",{category:u,config:y})}),Promise.allSettled(o).then(u=>{if(e.commit("resetResultCurrent"),u.every(y=>y.status==="fulfilled"&&y.value.length===0))n(new Error("\u67E5\u7121\u7D50\u679C"));else{const y=[];u.forEach(({status:T,value:w},m)=>{T==="fulfilled"&&e.commit("setQueryResult",w),w.length&&y.push(w.type)}),localStorage.setItem("currentQuery",JSON.stringify(B({},e.state.currentQuery))),localStorage.setItem("currentTotal",JSON.stringify(B({},e.state.currentTotal))),s(y[0])}})})},dispatchPageQuery(e,t){const{category:s,page:n}=t,o=e.state.currentQueryConfig[s];return e.state.page===n||!o?new Promise((i,a)=>{i(!1)}):(e.state.page=+n,o.skip=e.getters.getSkip,new Promise((i,a)=>{Vt[s](o).then(l=>{e.state.currentQuery[s]=l.list}).catch(l=>{a(l)})}))}}};class _t{constructor(t,s=null){Object.assign(this,t),s&&s instanceof ke?(this.isStation=!0,this.station=s):s?(this.isStation=!0,this.registerStation(s)):this.isStation=!1}registerStation(t){this.isStation||(this.station=new ke(t,this))}get status(){return this.ServiceStatus}get statusDesc(){return["\u505C\u6B62\u71DF\u904B","\u6B63\u5E38\u71DF\u904B","\u66AB\u505C\u71DF\u904B"][this.status]}get numOfRent(){return this.AvailableRentBikes}get numOfReturn(){return this.AvailableReturnBikes}get ableRent(){return this.AvailableRentBikes>0}get ableReturn(){return this.AvailableReturnBikes>0}}class ke{constructor(t,s=null){Object.assign(this,t),this.defaultLanguage="zh",this.type=I.STATION,s&&s instanceof _t?(this.isAvailability=!0,this.availability=s):s?(this.isAvailability=!0,this.registerAvailability(s)):this.isAvailability=!1}getDefaultLangValueByKey(t){const{Zh_tw:s,En:n}=this[t];return this.defaultLanguage==="zh"?s||n:n||s}registerAvailability(t){this.isAvailability||(this.availability=new _t(t,this))}get isInfo(){return!!this.availability}get id(){return this.StationUID}get name(){return this.getDefaultLangValueByKey("StationName")}get position(){return new Ie(this.StationPosition)}get address(){return this.getDefaultLangValueByKey("StationAddress")}get version(){return+this.ServiceType}get service(){return this.version===1?"YouBike1.0":this.version===2?"YouBike2.0":"\u7121"}}class ii{constructor(t){Object.assign(this,t),this.type=I.CYCLING}get id(){return this.ShapeUID}get author(){return this.AuthorityName}get city(){return this.City}get town(){return this.Town}get start(){return this.RoadSectionStart}get end(){return this.RoadSectionEnd}get direction(){return this.Direction}get isUni(){return this.Direction==="\u55AE\u5411"}get isBi(){return this.Direction==="\u96D9\u5411"}get geometry(){const t=/(\d+\.\d+) (\d+\.\d+)/g;if(this.Geometry)return[...this.Geometry.matchAll(t)].map(s=>s[0])}}const{axios:mt,refreshHeader:vt}=lt("Bike");function ft(e){return e}const ai=async(e,t={})=>{try{const s=Ut(e);if(!s)throw new Error("\u67E5\u8A62\u4E0D\u5230\u8F38\u5165\u5B57\u4E32\u7684\u57CE\u5E02");const n=G(t),{data:o}=await mt.get(`/Station/${s}?${n}`);return o.map(i=>new ke(i))}catch(s){return ft(s)}finally{vt()}},ri=async(e,t={})=>{try{const s=Ut(e);if(!s)throw new Error("\u67E5\u8A62\u4E0D\u5230\u8F38\u5165\u5B57\u4E32\u7684\u57CE\u5E02");const n=G(t),{data:o}=await mt.get(`/Availability/${s}/?${n}`);return o.map(i=>new _t(i))}catch(s){return ft(s)}finally{vt()}},ci=async(e,t={})=>{const s=await ai(e,oe(B({},t),{orderBy:"StationID"})),n=await ri(e,oe(B({},t),{orderBy:"StationID"}));return Array.isArray(s)?s.map((o,i)=>{if(o.StationUID===n[i].StationUID)return new ke(o,n[i]);{const a=n.find(l=>l.StationUID===o.StationUID);return new ke(o,a||null)}}).filter(Boolean):[]},li=async(e={})=>{try{e.distance=Math.min(e.distance,1e3);const t=G(e),{data:s}=await mt.get(`/Station/NearBy?${t}`);return s.map(n=>new ke(n))}catch(t){return ft(t)}finally{vt()}},ui=async(e={})=>{try{e.distance=Math.min(e.distance,1e3);const t=G(e),{data:s}=await mt.get(`/Availability/NearBy?${t}`);return s.map(n=>new _t(n))}catch(t){return ft(t)}finally{vt()}},Ls=async(e={})=>{const t=await li(oe(B({},e),{orderBy:"StationID"})),s=await ui(oe(B({},e),{orderBy:"StationID"}));return Array.isArray(t)?t.map((n,o)=>{if(n.StationUID===s[o].StationUID)return new ke(n,s[o]);{const i=s.find(a=>a.StationUID===n.StationUID);return new ke(n,i||null)}}).filter(Boolean):[]},{axios:di,refreshHeader:hi}=lt("Cycling");function pi(e){return e}const _i=async(e,t={})=>{try{const s=Ut(e);if(!s)throw new Error("\u67E5\u8A62\u4E0D\u5230\u8F38\u5165\u5B57\u4E32\u7684\u57CE\u5E02");const n=G(t),{data:o}=await di.get(`/Shape/${s}?${n}`);return o.map(i=>new ii(i))}catch(s){return pi(s)}finally{hi()}};var mi={namespaced:!0,state:()=>({isStart:!1,isLoading:!0,isWaiting:!1,currentLocationData:null,userLocation:null,allTypes:[I.STATION,I.CYCLING,I.RESTAURANT,I.TOUR],selectTypes:[I.STATION,I.CYCLING],bikeStations:[],bikeCycling:[],restaurants:[],tours:[]}),getters:{allData(e){return e.selectTypes.map(t=>[...e[t]]).flat()}},mutations:{SET_START(e){e.isStart=!0},SET_LOADING(e,t){e.isLoading=t},SET_WAITING(e,t){e.isWaiting=t},SET_BIKE_STATIONS(e,t){Array.isArray(t)&&e.bikeStations.push(...t)},CLEAR_BIKE_STATIONS(e){e.bikeStations=[]},SET_BIKE_CYCLING(e,t){Array.isArray(t)&&(e.bikeCycling=t)},SET_RESTAURANTS(e,t){Array.isArray(t)&&e.restaurants.push(...t)},CLEAR_RESTAURANTS(e){e.restaurants=[]},SET_TOURS(e,t){Array.isArray(t)&&e.tours.push(...t)},CLEAR_TOURS(e){e.tours=[]},SET_CURRENT_LOCATION_DATA(e,t){e.currentLocationData=t},SET_USER_LOCATION(e,t){e.userLocation=t},ADD_SELECT_TYPE(e,t){e.allTypes.includes(t)&&(e.selectTypes.push(t),e.selectTypes=[...new Set(e.selectTypes)])},DEL_SELECT_TYPE(e,t){if(e.allTypes.includes(t)){const s=e.selectTypes.findIndex(n=>n===t);~s&&e.selectTypes.splice(s,1)}},TOGGLE_ALL_TYPE(e){if(e.selectTypes.length!==e.allTypes.length){e.selectTypes=[...e.allTypes];return}e.selectTypes=[]},CLEAR_ALL_DATA(e){e.bikeStations=[],e.bikeCycling=[],e.restaurants=[],e.tours=[]}},actions:{async GET_BIKE_STATIONS({commit:e},{city:t,options:s}){let n;try{n=await ci(t,s),e("SET_BIKE_STATIONS",n)}catch(o){console.log(o)}return n},async GET_BIKE_NEAR_STATIONS({commit:e},{options:t}){let s;try{s=await Ls(t),e("SET_BIKE_STATIONS",s)}catch(n){console.log(n)}return s},async GET_MERGE_BIKE_NEAR_STATIONS({commit:e},t){if(Array.isArray(t)){const s=new Set,n=[],o=await Promise.all(t.map(({lat:i,lng:a,r:l})=>Ls({position:{lat:i,lng:a},distance:l|0})));return o&&o.length&&o.flat().forEach(i=>{const{StationUID:a}=i;s.has(a)||(s.add(a),n.push(i))}),e("SET_BIKE_STATIONS",n),n}},async GET_BIKE_CYCLING({commit:e},{city:t,options:s}){let n;try{n=await _i(t,s),e("SET_BIKE_CYCLING",n)}catch(o){console.log(o)}return n},async GET_RESTAURANTS({commit:e},{options:t}){let s;try{s=await qt(t),e("SET_RESTAURANTS",s.list)}catch(n){console.log(n)}return s},async GET_RESTAURANTS_BY_CITY({commit:e},{city:t,options:s}){let n;try{n=await Kt(t,s),e("SET_RESTAURANTS",n)}catch(o){console.log(o)}return n},async GET_MERGE_RESTAURANTS({commit:e},{city:t,payload:s}){if(Array.isArray(s)){const n=new Set,o=[],i=await Promise.all(s.map(({lat:a,lng:l,r:u})=>Kt(t,{position:{lat:a,lng:l},distance:u|0})));return i&&i.length&&i.flat().forEach(a=>{const{RestaurantID:l}=a;n.has(l)||(n.add(l),o.push(a))}),e("SET_RESTAURANTS",o),o}},async GET_TOURS({commit:e},{options:t}){let s;try{s=await Zt(t),e("SET_TOURS",s.list)}catch(n){console.log(n)}return s},async GET_TOURS_BY_CITY({commit:e},{city:t,options:s}){let n;try{n=await Ht(t,s),e("SET_TOURS",n)}catch(o){console.log(o)}return n},async GET_MERGE_TOURS({commit:e},{city:t,payload:s}){if(Array.isArray(s)){const n=new Set,o=[],i=await Promise.all(s.map(({lat:a,lng:l,r:u})=>Ht(t,{position:{lat:a,lng:l},distance:u|0})));return i&&i.length&&i.flat().forEach(a=>{const{ScenicSpotID:l}=a;n.has(l)||(n.add(l),o.push(a))}),e("SET_TOURS",o),o}}}};const vi=Object.freeze({MIN_LOAD_TIME:600});var Rs=rn({modules:{admin:Fo,tour:oi,bike:mi},state:()=>({isFirstEnter:!0,loadingConfig:{waiting:!1,minTime:vi.MIN_LOAD_TIME},loadingStack:[new Promise(e=>{e()})]}),getters:{isLoading(e){return!!e.loadingStack.length}},mutations:{SET_FIRST_ENTER(e){e.isFirstEnter=!1},CHANGE_LOADING_WAITING(e,t){e.loadingConfig.waiting=t},SET_LOADING_STACK(e,t){e.loadingStack.push(t)},DEL_LOADING_STACK(e,t){e.loadingStack.shift()}},actions:{ADD_LOADING_STACK({state:e,dispatch:t,commit:s},n){if(Array.isArray(n)){const o=Promise.all(n.filter(i=>i instanceof Promise));return s("SET_LOADING_STACK",o),o}if(n instanceof Promise)return s("SET_LOADING_STACK",n),n},WAIT_LOADING({state:e,getters:t,dispatch:s,commit:n}){const o=Date.now();if(!e.loadingConfig.waiting)return n("CHANGE_LOADING_WAITING",!0),Promise.all(e.loadingStack).then(i=>{const a=Date.now();setTimeout(()=>{i.forEach(l=>n("DEL_LOADING_STACK")),n("CHANGE_LOADING_WAITING",!1),t.isLoading&&s("WAIT_LOADING")},e.loadingConfig.minTime-(a-o))})}}});var z=(e,t)=>{for(const[s,n]of t)e[s]=n;return e};const fi={"aria-hidden":"true",class:"icon"},gi=["href"],J={props:{name:{type:String,required:!0}},setup(e){return(t,s)=>(c(),h("svg",fi,[r("use",{href:`#${e.name}`},null,8,gi)]))}};const yi={name:"ButtonMain",props:{icon:{type:String,default:""}}},wi={class:"button-main"};function bi(e,t,s,n,o,i){const a=J;return c(),h("div",wi,[ae(e.$slots,"default"),s.icon?(c(),D(a,{key:0,class:"button-main__icon",name:s.icon},null,8,["name"])):A("",!0)])}var Is=z(yi,[["render",bi]]);const ki={props:{icon:{type:String,default:""}}};function Si(e,t,s,n,o,i){const a=Is;return c(),D(a,{icon:s.icon,class:"button-primary"},{default:g(()=>[ae(e.$slots,"default")]),_:3},8,["icon"])}var Ee=z(ki,[["render",Si]]);const Es={setup(e){const t=Oe("viewport"),s=M(null);let n;const o=[0,.4,1],i=Ct.utils.snap(o),a=new Le,l=new Le,u=new Le;let p=!1,y=0,T=0,w=1,m=0,b=.2;const P=N=>{const[{clientX:Z,clientY:Y}]=N.touches;p=!0,b=l.distanceTo(a)<.01?.8:.1,u.set(Z,Y),y=l.y,window.addEventListener("touchmove",E),window.addEventListener("touchend",C)},E=N=>{if(p&&s.value.scrollTop<1){const[{clientX:Z,clientY:Y}]=N.touches,U=new Le(Z,Y);T=u.distanceTo(U),w=u.clone().sub(U).normalize(),a.set(0,T/s.value.clientHeight*w.y+y)}},C=()=>{if(p=!1,b=.2,T>30){const N=i(a.y);let Z=o.findIndex(Y=>Y===N);Z===m&&(Z=cn.clamp(Z+Math.sign(w.y),0,o.length-1)),m=Z}a.set(0,o[m]),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",C)},F=()=>{n=window.requestAnimationFrame(F);const N=Math.min(l.y,1);if(s.value.style.transform=`translate(0, 90%) translate3d(0, -${N*90}%, 0)`,l.lerpVectors(l,a,b),N>.99){s.value.style.overflow="auto";return}s.value.style.overflow="hidden"},j=()=>{s.value.style.overflow="auto",s.value.style.transform="none",window.cancelAnimationFrame(n),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",C)};return Se(()=>t.isPc,N=>{as(()=>{if(!N){F();return}j()})},{immediate:!0}),rs(()=>{j()}),(N,Z)=>(c(),h("div",{ref:(Y,U)=>{U.popup=Y,s.value=Y},class:q(["drag-popup",{"-mobile":!f(t).isPc}]),onTouchstart:P},[ae(N.$slots,"default")],34))}};const Ti={name:"SearchDefault",props:{placeholder:{type:String,default:"\u8ACB\u8F38\u5165..."},modelValue:{type:String,default:""},inputAttrs:{type:Object,default:()=>({})}},emits:["update:modelValue","focus","blur","submit"],data(){return{isComposing:!1}},methods:{input(e){this.$emit("update:modelValue",e.target.value),this.isComposing=e.isComposing},submit(){if(this.isComposing){this.isComposing=!1;return}this.$emit("submit")}}},Ci={class:"search-default"},Ai=["value","placeholder"];function $i(e,t,s,n,o,i){return c(),h("div",Ci,[r("input",Ce(s.inputAttrs,{value:s.modelValue,type:"text",placeholder:s.placeholder,onInput:t[0]||(t[0]=(...a)=>i.input&&i.input(...a)),onFocus:t[1]||(t[1]=a=>e.$emit("focus")),onBlur:t[2]||(t[2]=a=>e.$emit("blur")),onKeyup:t[3]||(t[3]=us((...a)=>i.submit&&i.submit(...a),["enter"]))}),null,16,Ai),ae(e.$slots,"default")])}var gt=z(Ti,[["render",$i]]);const Bi={emits:["update:modelValue","submit","click","focus","blur"],data(){return{state:"",warn:!1}},computed:{className(){return{"-focus":this.state==="focus","-warn":!!this.warn}},placeholder(){return this.warn||"\u8F38\u5165\u95DC\u9375\u5B57"}},methods:{setFocus(){this.state="focus",this.$emit("focus")},setBlur(){this.state="",this.$emit("blur")},submit(){this.$attrs.modelValue?this.$emit("submit"):(this.warn="\u8ACB\u5148\u8F38\u5165\u95DC\u9375\u5B57",setTimeout(()=>{this.warn=!1},1e3))}}},Li={class:"search-filter__functions"};function Ri(e,t,s,n,o,i){const a=J,l=gt;return c(),D(l,{class:q(["search-filter",i.className]),placeholder:i.placeholder,"onUpdate:modelValue":t[9]||(t[9]=u=>e.$emit("update:modelValue",u)),onSubmit:i.submit,onFocus:i.setFocus,onBlur:i.setBlur,onMousedown:i.setFocus},{default:g(()=>[r("div",Li,[r("div",{class:"search-filter__functions-item",tabindex:"0",onBlur:t[0]||(t[0]=(...u)=>i.setBlur&&i.setBlur(...u)),onFocus:t[1]||(t[1]=(...u)=>i.setFocus&&i.setFocus(...u)),onClick:t[2]||(t[2]=(...u)=>i.submit&&i.submit(...u))},[d(a,{name:"search"})],32),r("div",{class:"search-filter__functions-item",tabindex:"0",onBlur:t[3]||(t[3]=(...u)=>i.setBlur&&i.setBlur(...u)),onFocus:t[4]||(t[4]=(...u)=>i.setFocus&&i.setFocus(...u)),onClick:t[5]||(t[5]=u=>e.$emit("click","filter"))},[d(a,{name:"filter"})],32),r("div",{class:"search-filter__functions-item",tabindex:"0",onBlur:t[6]||(t[6]=(...u)=>i.setBlur&&i.setBlur(...u)),onFocus:t[7]||(t[7]=(...u)=>i.setFocus&&i.setFocus(...u)),onClick:t[8]||(t[8]=u=>e.$emit("click","shuffle"))},[d(a,{name:"shuffle"})],32)])]),_:1},8,["class","placeholder","onSubmit","onFocus","onBlur","onMousedown"])}var Qt=z(Bi,[["render",Ri]]);const Ii={extends:Qt,props:{active:{type:Boolean,default:!1}}},Ei={class:"search-filter__functions"};function Mi(e,t,s,n,o,i){const a=J,l=gt;return c(),D(l,{class:q(["search-filter",e.className]),placeholder:e.placeholder,"onUpdate:modelValue":t[4]||(t[4]=u=>e.$emit("update:modelValue",u)),onSubmit:e.submit,onFocus:e.setFocus,onBlur:e.setBlur,onKeyup:us(e.submit,["enter"])},{default:g(()=>[r("div",Ei,[s.active?(c(),h("div",{key:1,class:"search-filter__functions-item",tabindex:"0",onClick:t[3]||(t[3]=u=>e.$emit("close"))},[d(a,{name:"close-default"})])):(c(),h("div",{key:0,class:"search-filter__functions-item",tabindex:"0",onBlur:t[0]||(t[0]=(...u)=>e.setBlur&&e.setBlur(...u)),onFocus:t[1]||(t[1]=(...u)=>e.setFocus&&e.setFocus(...u)),onClick:t[2]||(t[2]=(...u)=>e.submit&&e.submit(...u))},[d(a,{name:"search"})],32))]),ae(e.$slots,"default")]),_:3},8,["class","placeholder","onSubmit","onFocus","onBlur","onKeyup"])}var Pi=z(Ii,[["render",Mi]]),Di=e=>{if(e)return class extends e.maps.OverlayView{constructor({lat:s,lng:n}){super();this.latlng=new e.maps.LatLng(s,n),this.deviceorientation=this.deviceorientation.bind(this)}requestDeviceOrientation(){const{os:s}=cs();if(typeof DeviceOrientationEvent!="undefined"&&typeof DeviceOrientationEvent.requestPermission=="function"){DeviceOrientationEvent.requestPermission().then(n=>{n==="granted"&&(this.allowDeviceorientation=!0,this.div.appendChild(this.direction),s==="iOS"&&window.addEventListener("deviceorientation",this.deviceorientation))}).catch(console.error);return}this.allowDeviceorientation=!0,this.div.appendChild(this.direction),window.addEventListener("deviceorientationabsolute",this.deviceorientation)}deviceorientation(s){const{beta:n,gamma:o,alpha:i}=s;let a;s.webkitCompassHeading?a=s.webkitCompassHeading:a=180-i,this.allowDeviceorientation&&(this.direction.style.transform=`translate(-50%, -50%) rotate(${a}deg)`)}onAdd(){this.div=document.createElement("div"),this.div.style.position="absolute",this.div.style.width="30px",this.div.style.height="30px",this.div.style.background="#ffffff",this.div.style.boxShadow="3px 3px 8px rgba(0, 0, 0, 0.1)",this.div.style.borderRadius="50%";const s=document.createElement("span");s.style.position="absolute",s.style.top="50%",s.style.left="50%",s.style.transform="translate(-50%, -50%)",s.style.width="70%",s.style.height="70%",s.style.background="#32f3ae",s.style.borderRadius="50%",this.div.appendChild(s),this.direction=document.createElement("div"),this.direction.style.position="absolute",this.direction.style.top="50%",this.direction.style.left="50%",this.direction.style.transform="translate(-50%, -50%)",this.direction.style.width="150%",this.direction.style.height="350%",this.direction.style.background=`url('${new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAACRCAMAAAC4wGWsAAAAulBMVEUAAAAy9bEx9K8x9K8x9K4x9LA867Ix868y9LEz9LAx9K4y9K419bAz868y9K4y87Ay9K8y9K8y9K8y9K8y9K8y9K4y9K8x864x9K4x9K4y9K8x9K8y9K4y9K4x9K4x9K4x864x9K8y9K8x9K4y9K8y9K4x9K8x8q0y9K8x9K8y9K8x864x9K4x9K8y9K4x9K4x9K8x9K4y864x9K4x864x868x9K8x868y9K4y868x9K4x9K4y9bIs8q6HDY4EAAAAPnRSTlMAHFSClSUDCgcWv64SDtUxPDheQC25RzRET0tiaeh8dWZtj4h5cVoh47OLm9Cin6qmxcjMKdvf7vby+v0pEfmZWwUAAAH2SURBVGje7czZctowFAbg34C3sJjNhJ0AKcQhCU1KllLy/q9VGeM2wrZ0JK4yo++s9mgOjG/OuQR/ybuAw11yLwBO/eizTsQ9P7tU0+aC4/raPHA8S5sDjmPp8nHGWjP2/4wrbWyklc3MpZpt72wdLs64h92BJYuknRYmnrF0Y5X+j5uDM86hq8VGhh1oWSPDutbyiYx6S4uHDKepI0COoKNhhxx2X4OFHLWeBhc5nKG6DnI1B8oC5OqWlK2Ryy8pc5HLWx21T5kMFl+1uTFAgV5bURMFWiNFNgqsbxTVUMAbq1mh0GquZIhCnR9KDihkz5T4KOTdqhhD4GaqoASBXnlaLrMiCSCwKyuwIOAt6aYQur0nG0FosCDrQKhVYRYVzoL/kb6wIORWqO4hsdwQjSGxeiLqQ6L5SGRBwv1Js4FUZUsyg9SoSjKEVL8aRdVqxILN08ZESUXp1oWUH0VRGKXCpIVxTzOuLQgeQ4IlCGZXX4Rxhad5jKSVQNC7IghA4D/LhSCpvkhVQDL9JbUCyeBB6hokViPxwCKZ6ZJ+PIPopSHxBKLlq8QcRKM3sdcWiKw7sTeQNSaTuzjT4JfJFmSLidAMZON3oSbIrN8i71Aw+RAIoWCz/+djf24KBfM/xfYdGIZhGIZhGIZhGIZhGIZhfGt/AWvuL8XhmZJcAAAAAElFTkSuQmCC",self.location).href}') no-repeat center / cover`,this.direction.style.zIndex="-1",this.getPanes().overlayLayer.appendChild(this.div),this.requestDeviceOrientation()}draw(){if(this.div){const s=this.getProjection().fromLatLngToDivPixel(this.latlng);s&&(this.div.style.left=`${s.x}px`,this.div.style.top=`${s.y}px`)}}onRemove(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null)}setPosition({lat:s,lng:n}){this.latlng=new e.maps.LatLng(s,n)}getPosition(){return this.latlng}}};const Oi="AIzaSyA69Ld00x6niETT19cTNDmaO6a1y0jyqO8",xi="8f3b52179012be0",yt=[],Ve=[];let wt=null,bt=null,kt=null;class Ms{constructor(t,s){if(!(t instanceof Element))return;this.el=t,this.options=B({mapId:xi,center:{lat:23.973875,lng:120.982024},zoom:8,minZoom:8,disableDefaultUI:!0,gestureHandling:"greedy"},s),this.onEvents={},this.agreeGeolocation=!1,this.boundsChanged=this.boundsChanged.bind(this),this.userLocationChange=this.userLocationChange.bind(this),new ds({apiKey:Oi,version:"weekly",libraries:["places","geometry"]}).load().then(o=>{var i,a;this.google=o,this.googleMap=o.maps,this.mapInstance=new o.maps.Map(this.el,this.options),this.mapInstance.addListener("idle",this.boundsChanged),this.geocoder=new o.maps.Geocoder,this.placesInstance=new o.maps.places.PlacesService(this.mapInstance),this.autocompleteInstance=new o.maps.places.AutocompleteService,this.currentMarker=null,(a=(i=this.onEvents).init)==null||a.call(i)}).catch(o=>{console.log(o)})}boundsChanged(){var o,i;const{lat:t,lng:s}=this.mapInstance.center,[n]=this.radius;(i=(o=this.onEvents).boundsChanged)==null||i.call(o,{lat:t(),lng:s(),radius:n},this.mapInstance,this.googleMap)}requestUserLocation(){const t=Di(this.google);this.getUserLocation().then(s=>{this.userLocationMark=new t(this.options.center),this.userLocationMark.setMap(this.mapInstance),this.setZoom(17),this.userLocationChange(s),this.moveMapToPlace(this.userLocationMark.getPosition()),setTimeout(()=>{var n,o;(o=(n=this.onEvents).allowUserLocation)==null||o.call(n)},500)}).catch(()=>{var s,n;(n=(s=this.onEvents).denyUserLocation)==null||n.call(s)}).finally(()=>{setTimeout(()=>{var s,n;(n=(s=this.onEvents).requestUserLocation)==null||n.call(s)},500)})}getUserLocation(){if(!this.agreeGeolocation)return new Promise((t,s)=>{if(navigator.geolocation){navigator.geolocation.getCurrentPosition(n=>{this.agreeGeolocation=!0,navigator.geolocation.watchPosition(this.userLocationChange,o=>{s(o)}),t(n)},n=>{s(n)});return}s(new Error("FAIL"))})}userLocationChange({coords:{latitude:t,longitude:s}}){var n,o;this.userLocationMark&&(this.userLocationMark.setPosition({lat:t,lng:s}),(o=(n=this.onEvents).onUserLocationChanged)==null||o.call(n,this.userLocationMark.getPosition()))}moveMapToPlace(t,s){const[n]=this.radius;t&&this.mapInstance.fitBounds(new this.googleMap.Circle({center:t,radius:s/2||n/2}).getBounds())}setZoom(t){if(t)return this.mapInstance.setZoom(t)}getLocationInformation(t){return new Promise((s,n)=>{this.geocoder.geocode(B({location:this.mapInstance.getCenter()},t),(o,i)=>{if(i==="OK"){s(o);return}s([])})})}getPlaceDetail(t,s){return new Promise((n,o)=>{this.placesInstance.getDetails(B({placeId:t},s),(i,a)=>{if(a===google.maps.places.PlacesServiceStatus.OK){n(i);return}n([])})})}getPlacePredictions(t,s){return new Promise((n,o)=>{this.autocompleteInstance.getPlacePredictions(B({input:t,bounds:this.mapInstance.getBounds()},s),(i,a)=>{if(a===google.maps.places.PlacesServiceStatus.OK){n(i);return}n([])})})}textSearch(t,s){const[n]=this.radius;return new Promise((o,i)=>{this.placesInstance.textSearch(oe(B({location:this.mapInstance.getCenter(),radius:n},s),{query:t}),(a,l)=>{if(l===google.maps.places.PlacesServiceStatus.OK){o(a);return}o([])})})}nearbySearch(t,s){return new Promise((n,o)=>{this.placesInstance.nearbySearch(oe(B({location:this.mapInstance.getCenter(),bounds:this.mapInstance.getBounds()},s),{query:t}),(i,a)=>{if(a===google.maps.places.PlacesServiceStatus.OK){n(i);return}n([])})})}findPlaceFromQuery(t,s){return new Promise((n,o)=>{this.placesInstance.findPlaceFromQuery(oe(B({fields:["name","geometry","place_id","types"]},s),{query:t}),(i,a)=>{if(a===google.maps.places.PlacesServiceStatus.OK){n(i);return}n([])})})}generateMarker(t,s){const n=new google.maps.Marker(B({},s));return n.markerData=t,n.addListener("click",()=>{var o,i;(i=(o=this.onEvents).markerClicked)==null||i.call(o,n)}),n}setFilterMarkers(t,s=!0){if(this.mapInstance&&t){if(Array.isArray(t)){for(let n=0,o=t.length;n<o;n++){const i=t[n];s&&i.setMap(this.mapInstance),Ve.push(i)}return}s&&t.setMap(this.mapInstance),Ve.push(t)}}clearFilterMarkers(){for(;Ve.length;){let t=Ve.pop();t.setMap(null),t=null}}findFilterMarker(t){if(this.mapInstance)return Ve.find(t)}setQueryMarkers(t,s=!0){if(this.mapInstance&&t){if(Array.isArray(t)){for(let n=0,o=t.length;n<o;n++){const i=t[n];s&&i.setMap(this.mapInstance),yt.push(i)}return}s&&t.setMap(this.mapInstance),yt.push(t)}}clearQueryMarkers(){for(;yt.length;){let t=yt.pop();t.setMap(null),t=null}}setActivateMarker(t){var s,n,o,i;t&&(this.currentMarker&&((n=(s=this.onEvents).markerDeActivated)==null||n.call(s,this.currentMarker)),this.currentMarker=t,(i=(o=this.onEvents).markerActivated)==null||i.call(o,this.currentMarker))}setPathStartMarker(t){t&&(this.clearPathStartMarker(),bt=t,bt.setMap(this.mapInstance))}clearPathStartMarker(){bt&&bt.setMap(null)}setPathEndMarker(t){t&&(this.clearPathEndMarker(),kt=t,kt.setMap(this.mapInstance))}clearPathEndMarker(){kt&&kt.setMap(null)}setActivatePath(t){t&&(this.clearActivatePath(),wt=new this.googleMap.Polyline({path:t,strokeColor:"#32F3AE",strokeWeight:8}),wt.setMap(this.mapInstance))}clearActivatePath(){wt&&wt.setMap(null)}clearAllMapMarkers(){this.clearFilterMarkers(),this.clearQueryMarkers(),this.clearPathStartMarker(),this.clearPathEndMarker(),this.clearActivatePath()}calcLineDistance(t,s){return t&&s?this.googleMap.geometry.spherical.computeDistanceBetween(t,s):0}on(t,s){typeof t=="string"&&typeof s=="function"&&(this.onEvents[t]=s)}get radius(){if(this.mapInstance){const t=this.mapInstance.getBounds();if(t){const s=t.getNorthEast(),n=t.getSouthWest(),o=new google.maps.LatLng(s.lat(),n.lng()),i=new google.maps.LatLng(n.lat(),s.lng()),a=this.googleMap.geometry.spherical.computeDistanceBetween(s,i),l=this.googleMap.geometry.spherical.computeDistanceBetween(s,o);return[Math.min(a,l)/2,Math.max(a,l)/2]}return[0,0]}return[0,0]}}const{axios:re,refreshHeader:ce}=lt("Bus"),Ni=async e=>{try{if(e.position===void 0||e.distance===void 0)throw new Error("\u8ACB\u8F38\u5165\u4F4D\u7F6E\u8207\u7BC4\u570D");const t=G(e),{data:s}=await re.get(`/Station/NearBy?${t}`);return s}catch{return[]}finally{ce()}},Ui=async(e,t,s={})=>{try{const n=G(s),{data:o}=await re.get(`/EstimatedTimeOfArrival/City/${e}/PassThrough/Station/${t}?${n}`);return o}catch{return[]}finally{ce()}},Zi=async(e,t={})=>{try{const s=G(t),{data:n}=await re.get(`/EstimatedTimeOfArrival/InterCity/PassThrough/Station/${e}?${s}`);return n}catch{return[]}finally{ce()}},Ps=async e=>{try{const t=G(e),{data:s}=await re.get(`/Route/InterCity?${t}`);return s}catch{}finally{ce()}},Ds=async(e,t={})=>{try{const s=_e(e),n=G(t);if(!s)throw new Error("\u67E5\u8A62\u4E0D\u5230\u8F38\u5165\u5B57\u4E32\u7684\u57CE\u5E02");const{data:o}=await re.get(`/Route/City/${s}?${n}`);return o}catch{}finally{ce()}},Hi=async e=>{try{if(e.position===void 0||e.distance===void 0)throw new Error("\u8ACB\u8F38\u5165\u4F4D\u7F6E\u8207\u7BC4\u570D");const t=G(e),{data:s}=await re.get(`/Route/NearBy?${t}`);return s}catch{}finally{ce()}},qi=async(e,t,s={})=>{try{const n=G(s),o=_e(e),{data:i}=await re.get(`/EstimatedTimeOfArrival/City/${o}/${t}?${n}`);return i}catch{return[]}finally{ce()}},Ki=async(e,t={})=>{try{const s=G(t),{data:n}=await re.get(`/EstimatedTimeOfArrival/InterCity/${e}?${s}`);return n}catch{return[]}finally{ce()}},Fi=async e=>{try{const t=G(e),{data:s}=await re.get(`/StopOfRoute/InterCity?${t}`);return s}catch{}finally{ce()}},Vi=async(e,t,s={})=>{try{const n=_e(e),{data:o}=await re.get(`/Shape/City/${n}/${t}?${G(s)}`);return o}catch{}finally{ce()}},Qi=async(e,t={})=>{try{const{data:s}=await re.get(`/Shape/InterCity/${e}?${G(t)}`);return s}catch{}finally{ce()}},Gi=async(e,t,s={})=>{try{const n=_e(e),o=G(s);if(!n)throw new Error("\u67E5\u8A62\u4E0D\u5230\u8F38\u5165\u5B57\u4E32\u7684\u57CE\u5E02");const{data:i}=await re.get(`/DisplayStopOfRoute/City/${n}/${t}?${o}`);return i}catch{}finally{ce()}},ji=async(e,t,s={})=>{try{const n=_e(e),{data:o}=await re.get(`/RealTimeByFrequency/City/${n}/${t}?${G(s)}`);return o}catch{}finally{ce()}},Yi=async(e,t={})=>{try{const{data:s}=await re.get(`/RealTimeByFrequency/InterCity/${e}?${G(t)}`);return s}catch{}finally{ce()}},Os=10;class Qe{constructor(t){Object.assign(this,t)}async getRoutes(){const t=this.stops.map(u=>u.RouteUID),s=_e(await Ho(this.position)),n={filter:t.map(u=>`(RouteUID == '${u}')`).join(" | ")},o=(await Ps(n)).map(u=>new fe(u)),i=(await Ds(s,n)).map(u=>new fe(u)),a=(await Zi(this.id)).map(u=>new St(u)),l=(await Ui(s,this.id)).map(u=>new St(u));return{interRoutes:o,cityRoutes:i,interTimeOfArrival:a,cityTimeOfArrival:l}}get name(){return this.StationName.Zh_tw}get id(){return this.StationID}get uid(){return this.StationUID}get position(){return new Ie(this.StationPosition)}get stops(){return this.Stops.map(t=>new Qe(t))}get updateTime(){return this.UpdateTime}}class fe{constructor(t){Object.assign(this,t)}async getStops(){const t={filter:`RouteID == '${this.id}'`};return this.city?await Gi(this.city,this.name,t):await Fi(t)}async getShape(){try{const t=[];return this.city?t.push(...await Vi(this.city,this.name,this.config)):t.push(...await Qi(this.name,this.config)),t.map(s=>({points:ln(s.EncodedPolyline)}))}catch{return[]}}async getEstimatedTime(){try{const t=[];return this.city?t.push(...await qi(this.city,this.name)):t.push(...await Ki(this.name)),t.map(s=>new St(s))}catch{return[]}}async getBusRealTime(){try{const t=[];return this.city?t.push(...await ji(this.city,this.name)):t.push(...await Yi(this.name)),t.map(s=>new Wi(s))}catch{return[]}}get name(){return this.RouteName.Zh_tw}get id(){return this.RouteID}get uid(){return this.RouteUID}get hasSub(){return this.HasSubRoutes}get operators(){return this.Operators}get subRoutes(){return this.SubRoutes.map(t=>new zi(t,this.start,this.end))}get type(){return{11:"\u5E02\u5340\u516C\u8ECA",12:"\u516C\u8DEF\u5BA2\u904B",13:"\u570B\u9053\u5BA2\u904B",14:"\u63A5\u99C1\u8ECA"}[this.BusRouteType]}get start(){return this.DepartureStopNameZh}get startDetail(){return`${this.DepartureStopNameZh}(${this.DepartureStopNameEn})`}get end(){return this.DestinationStopNameZh}get endDetail(){return`${this.DestinationStopNameZh}(${this.DestinationStopNameEn})`}get ticket(){return`${this.TicketPriceDescriptionZh}(${this.TicketPriceDescriptionEn})`}get fareBufferZone(){return this.FareBufferZoneDescriptionZh}get url(){return this.RouteMapImageUrl}get city(){return this.City}get cityCode(){return this.CityCode}get updateTime(){return this.UpdateTime}}class zi{constructor(t,s,n){Object.assign(this,{stop1:s,stop2:n},t)}get name(){return this.SubRouteName.Zh_tw}get id(){return this.SubRouteID}get uid(){return this.SubRouteUID}get operators(){return this.Operators}get direction(){return{0:"\u53BB\u7A0B",1:"\u8FD4\u7A0B",2:"\u8FF4\u5708",255:"\u672A\u77E5"}[this.Direction]}get isReverse(){return this.Direction===1}get stop(){return{[this.isReverse?"end":"start"]:this.stop1,[this.isReverse?"start":"end"]:this.stop2}}get time(){return{first:this.FirstBusTime,last:this.LastBusTime}}get holiday(){return{first:this.HolidayFirstBusTime,last:this.HolidayLastBusTime}}}class xs{constructor(t){Object.assign(this,t)}get uid(){return this.StopUID}get id(){return this.StopID}get name(){return this.StopName.Zh_tw}get boarding(){return{"-1":"\u53EF\u4E0B\u8ECA",0:"\u53EF\u4E0A\u4E0B\u8ECA",1:"\u53EF\u4E0A\u8ECA"}[this.StopBoarding]}get index(){return this.StopSequence}get stationId(){return this.StationID}get position(){return new Ie(this.StopPosition)}}class Wi{constructor(t){Object.assign(this,t)}get number(){return this.PlateNumb}get route(){return{id:this.RouteID,uid:this.RouteUID,name:this.RouteName.Zh_tw}}get direction(){return this.Direction}get position(){return new Ie(this.BusPosition)}get status(){return{0:"\u6B63\u5E38",1:"\u8ECA\u798D",2:"\u6545\u969C",3:"\u585E\u8ECA",4:"\u7DCA\u6025\u6C42\u63F4",5:"\u52A0\u6CB9",90:"\u4E0D\u660E",91:"\u53BB\u56DE\u4E0D\u660E",98:"\u504F\u79FB\u8DEF\u7DDA",99:"\u975E\u71DF\u904B\u72C0\u614B",100:"\u5BA2\u6EFF",101:"\u5305\u8ECA\u51FA\u79DF",255:"\u672A\u77E5"}[this.BusStatus]}get updateTime(){return this.UpdateTime}}class St extends xs{get estimateTime(){return this.EstimateTime?new Date(new Date().getTime()+this.EstimateTime*1e3).toLocaleTimeString("zh-TW",{hour12:!1,timeStyle:"short"}):null}get direction(){return this.Direction}}class Ji{constructor(t){this.config=Object.assign({top:Os,page:1},t),this.setPage(this.config.page)}async searchRouteInterCity(t){const s=Object.assign({},this.config,t);return(await Ps(s)).map(n=>new fe(n))}async searchRouteByCity(t,s){const n=_e(t);if(!n)return new Error("city wrong");const o=Object.assign({},this.config,s);return(await Ds(n,o)).map(i=>new fe(i))}async searchRouteByNearBy(t=""){if(!this.config.position||!this.config.distance)return new Error("position wrong");const s=this.mergeRouteKeywordsConfig(this.config,t);return(await Hi(s)).map(n=>new fe(n)).filter((n,o,i)=>i.findIndex(a=>a.uid===n.uid)===o)}async searchStationByNearBy(){return!this.config.position||!this.config.distance?new Error("position wrong"):(await Ni(oe(B({},this.config),{top:1e3}))).map(t=>new Qe(t))}mergeStationKeywordsConfig(t,s){const n=s?`contains(StationName/Zh_tw, '${s}') | contains(StationAddress, '${s}') | Stops/any(stop: contains(stop/StopName/Zh_tw, '${s}'))`:"(1 == 1)";return oe(B({},t),{filter:t.filter?t.filter+` and (${n})`:n})}mergeRouteKeywordsConfig(t,s){const n=s?`contains(RouteName/Zh_tw, '${s}') | contains(DestinationStopNameZh, '${s}') | contains(DepartureStopNameZh, '${s}')`:"(1 == 1)";return oe(B({},t),{filter:t.filter?t.filter+` and (${n})`:n})}next(){this.page++,this.setPage(this.page)}prev(){this.page=Math.max(1,this.page-1),this.setPage(this.page)}setPage(t){this.config.skip=Os*(t-1)}setPosition(t,s=void 0){this.config.position=t,s&&(this.config.distance=s)}}const Ns={url:gs,anchor:{x:12,y:12}},Us={url:Et,anchor:{x:44,y:44}},Xi=$t({name:"BusRoot",inject:["viewport"],setup(){const e=Ae();Te();const t=new Ji({distance:1e3}),s=M(null);let n=[];const o=M(!0),i=M(!0),a=M(!1),l=M(!1),u=M(0),p=M(""),y=M(null),T=M([]),w=M([]),m=M(null),b=M(null),P=()=>{a.value=!0},E=async()=>{if(y.value){o.value=!0;try{const $=t.mergeRouteKeywordsConfig({},y.value),te=await t.searchRouteByNearBy(y.value),se=await t.searchRouteInterCity($);T.value=[...te,...se]}catch($){console.error($)}finally{u.value=1,e.push({name:"BusSearch",params:{search:y.value}}),o.value=!1}}},C=($=1)=>{s.value&&s.value.setZoom(s.value.mapInstance.zoom+$)},F=()=>{if(s.value){if(s.value.agreeGeolocation){s.value.moveMapToPlace(s.value.userLocationMark.getPosition()),s.value.setZoom(17);return}s.value.requestUserLocation()}},j=$=>{var de;const{Marker:te,event:se}=s.value.googleMap,ne=$.uid===((de=m==null?void 0:m.value)==null?void 0:de.uid),me=new te({position:$.position,map:s.value.mapInstance,icon:ne?Us:Ns});return se.addListener(me,"click",()=>{n.forEach(Be=>{Be.setIcon(Ns)}),me.setIcon(Us),m.value=$,u.value=0,e.replace({name:"BusSearch",params:{search:$.name}})}),me},N=()=>{n.forEach($=>{$.setMap(null),$=null})},Z=({lat:$,lng:te,radius:se})=>{l.value=!0,t.setPosition({lat:$,lng:te},Math.ceil(Math.min(se,1e3)))},Y=()=>{l.value=!1,u.value===0?t.searchStationByNearBy().then($=>{N(),n=$.map(te=>j(te))}):N()},U=()=>{const $=s.value;$.requestUserLocation(),$.getUserLocation().then(te=>{const{coords:{latitude:se,longitude:ne}}=te;i.value=!1,o.value=!1,$.mapInstance.setCenter({lat:se,lng:ne}),$.setZoom(17),t.setPosition({lat:se,lng:ne}),Y()})};return e.afterEach(async($,te)=>{var Be;console.log($,te);const{route:se,city:ne}=$.query,{route:me}=te.query;let de=[];se!==me&&se&&(ne?de=await t.searchRouteByCity(ne,{filter:`RouteUID eq '${se}'`}):de=await t.searchRouteInterCity({filter:`RouteUID eq '${se}'`}),de&&de[0]&&de[0].uid!==((Be=b.value)==null?void 0:Be.uid)&&(b.value=de[0],u.value=2))}),We(()=>{const $=new Ms(p.value);$.on("init",U),$.on("boundsChanged",Z),s.value=$}),Je("$map",s),Je("viewIndex",u),{enter:P,zoom:C,moveUserLocation:F,enterLoading:a,isLoading:i,enableRefreshStation:l,viewIndex:u,preventInteraction:o,googleMapEl:p,searchValue:y,searchQueries:T,submit:E,$busQuery:t,currentRoute:b,currentStation:m,cacheQueries:w,refreshStationMarkers:Y}},data(){return{isDetail:!1,loadingBg:ms}},methods:{backToResult(){this.$router.replace({name:"BusSearch",query:{route:void 0}}),this.searchValue?this.viewIndex=1:this.currentStation?(this.viewIndex=0,this.$nextTick(()=>{this.currentRoute=null})):(this.viewIndex=0,this.clearSearch())},goToDetail(){this.viewIndex=3,this.$forceUpdate()},clearSearch(){this.currentStation=null,this.searchValue=null,this.searchQueries=[],this.viewIndex=0}}}),ea={class:"bus",style:{"--primary":"#32f3ae"}},ta={ref:"googleMapEl",class:"bus__map"},sa={class:"bus__main"},na={class:"bus__view"},oa=r("p",null,"\u641C\u5C0B\u9019\u500B\u5340\u57DF",-1),ia={class:"bus-loading"},aa={class:"container"},ra=r("div",{class:"bus-loading__header"},[r("p",{class:"bus-loading__title-en",lang:"en"},[O(" FORMOSA"),r("br"),O(" BUS Guide ")]),r("p",{class:"bus-loading__title"}," \u53F0\u7063\u5DF4\u58EB\u61F6\u4EBA\u5305 ")],-1),ca={key:0},la={key:1,version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"20px",height:"20px",viewBox:"0 0 50 50"},ua=r("path",{fill:"#32F3AE",d:"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"},[r("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"})],-1),da=[ua];function ha(e,t,s,n,o,i){const a=Pi,l=ee("router-view"),u=Es,p=J,y=Ee,T=X("bg");return c(),h("div",ea,[r("div",ta,null,512),r("div",sa,[r("div",{class:q(["bus__search",{"-mobile":!e.viewport.isPc}])},[d(a,{modelValue:e.searchValue,"onUpdate:modelValue":t[0]||(t[0]=w=>e.searchValue=w),modelModifiers:{trim:!0},active:e.viewIndex===1||e.currentStation,style:Xe({"pointer-events":e.preventInteraction?"none":"auto"}),onSubmit:e.submit,onClose:e.clearSearch},null,8,["modelValue","active","style","onSubmit","onClose"]),e.currentStation||e.searchQueries.length>0?(c(),D(u,{key:0},{default:g(()=>[r("div",na,[r("div",{class:"bus__view-wrapper",style:Xe({transform:`translate3d(${e.viewIndex*-100}%,0,0)`})},[d(l,{key:"BusStation",class:"bus__view-slide",name:"BusStation","bus-station":e.currentStation},null,8,["bus-station"]),d(l,{key:"BusSearchResult",class:"bus__view-slide",name:"BusSearchResult",queries:e.searchQueries},null,8,["queries"]),d(l,{key:"BusSearchRoute",class:"bus__view-slide","bus-route":e.currentRoute,map:e.$map,name:"BusSearchRoute",onBack:e.backToResult,onForward:e.goToDetail},null,8,["bus-route","map","onBack","onForward"]),d(l,{key:"BusSearchRouteDetail",class:"bus__view-slide","bus-route":e.currentRoute,name:"BusSearchRouteDetail",onBack:t[1]||(t[1]=w=>e.viewIndex=2)},null,8,["bus-route"])],4)])]),_:1})):A("",!0)],2),r("div",{class:q(["bike__refresh",{"-active":e.enableRefreshStation&&e.viewIndex===0}]),onClick:t[2]||(t[2]=(...w)=>e.refreshStationMarkers&&e.refreshStationMarkers(...w))},[d(p,{name:"search"}),oa],2),r("div",{class:"bike__zoom-in",onClick:t[3]||(t[3]=w=>e.zoom(1))},[d(p,{name:"plus"})]),r("div",{class:"bike__zoom-out",onClick:t[4]||(t[4]=w=>e.zoom(-1))},[d(p,{name:"sub"})]),r("div",{class:"bike__reset-position",onClick:t[5]||(t[5]=(...w)=>e.moveUserLocation&&e.moveUserLocation(...w))},[d(p,{name:"position"})])]),d(ge,{name:"bike-loading"},{default:g(()=>[V(r("div",ia,[r("div",aa,[ra,r("div",{class:q(["bus-loading__button",{"-loading":e.enterLoading}])},[d(y,{icon:e.enterLoading?null:"enter",onClick:e.enter},{default:g(()=>[d(ge,{name:"fade",mode:"out-in"},{default:g(()=>[e.enterLoading?(c(),h("svg",la,da)):(c(),h("p",ca," \u958B\u59CB\u65C5\u7A0B "))]),_:1})]),_:1},8,["icon","onClick"])],2)])],512),[[ie,e.isLoading||!e.enterLoading],[T,e.loadingBg]])]),_:1})])}var pa=z(Xi,[["render",ha]]);const _a={inheritAttrs:!1,props:{name:{type:String,default:""},uid:{type:String,default:""},type:{type:String,default:""},start:{type:String,default:""},end:{type:String,default:""},isLink:{type:Boolean,default:!0},stop:{type:St,default:void 0}},mounted(){}},ma={class:"card-bus-query__info"},va=["textContent"],fa={class:"card-bus-query__info-route"},ga={key:0,class:"card-bus-query__info-time"},ya=O(" \u5230\u7AD9\u6642\u9593 "),wa=["data-uid"];function ba(e,t,s,n,o,i){const a=J;return c(),h("div",{class:q(["card-bus-query",{"-title":!s.isLink}]),onClick:t[0]||(t[0]=l=>e.$emit("click"))},[r("div",ma,[r("div",{class:"card-bus-query__info-label",textContent:k(s.name)},null,8,va),r("div",fa,[O(k(s.start)+" ",1),d(a,{name:"round-trip"}),O(" "+k(s.end),1)]),s.stop&&s.stop.estimateTime?(c(),h("div",ga,[ya,r("span",null,k(s.stop.estimateTime),1)])):A("",!0)]),s.isLink?(c(),h("div",{key:0,class:"card-bus-query__link","data-uid":s.uid},[d(a,{name:"right"})],8,wa)):A("",!0)],2)}var Gt=z(_a,[["render",ba]]);const ka={name:"BusSearchResult",props:{queries:{type:Array,default:()=>[]},timeOfArrival:{type:Array,default:()=>[]},isStation:{type:Boolean,default:!1}},computed:{filterData(){const e=this.queries.map(({name:t,city:s,id:n,uid:o,type:i,start:a,end:l})=>{const u=this.timeOfArrival.find(({RouteID:p})=>p===n);return{name:t,city:s,id:n,uid:o,type:i,start:a,end:l,stop:u}});return this.isStation&&e.sort((t,s)=>{const{stop:{EstimateTime:n=1/0}}=t,{stop:{EstimateTime:o=1/0}}=s;return n-o}),e}},methods:{toQueryRoute(e){this.$router.push({query:oe(B({},this.$route.query),{route:e.uid,city:e.city})})}}},Sa={class:"bus-search-result"},Ta={class:"bus-search-result__main"};function Ca(e,t,s,n,o,i){const a=Gt;return c(),h("div",Sa,[r("div",Ta,[(c(!0),h(K,null,Q(i.filterData,l=>(c(),h("div",{key:l.id,class:"bus-search-result__item"},[d(a,Ce(l,{onClick:u=>i.toQueryRoute(l)}),null,16,["onClick"])]))),128))])])}var Zs=z(ka,[["render",Ca]]);const Aa={name:"BusStation",components:{RouteList:Zs},inject:["$map","viewIndex"],props:{busStation:{type:Qe,default:void 0}},data(){return{formatBusStation:null,currentRouteType:"city",routes:null}},computed:{currentRoutes(){return this.routes?this.routes[this.currentRouteType==="city"?"cityRoutes":"interRoutes"]:[]},currentTimeOrArrival(){return this.routes?this.routes[this.currentRouteType==="city"?"cityTimeOfArrival":"interTimeOfArrival"]:[]},updateTime(){var e;return((e=this.formatBusStation)==null?void 0:e.updateTime)?new Date(this.formatBusStation.updateTime).toLocaleTimeString("zh-TW",{hour12:!1,timeStyle:"short"}):""},numOfRoutes(){var e,t;return this.routes?{city:((e=this.routes)==null?void 0:e.cityRoutes.length)||0,inter:((t=this.routes)==null?void 0:t.interRoutes.length)||0}:{city:void 0,inter:void 0}}},watch:{busStation:{handler(e){e&&this.updateRoute()},deep:!0}},mounted(){this.busStation&&this.updateRoute()},methods:{updateRoute(){this.formatBusStation=new Qe(this.busStation),this.formatBusStation.getRoutes().then(e=>{this.routes=e})}}},$a={class:"bus-station"},Ba={key:0,class:"bus-station__info"},La={class:"bus-station__info-name"},Ra={class:"bus-station__info-tab"},Ia=O(" \u5E02\u5340\u516C\u8ECA "),Ea={key:0},Ma=O(" \u516C\u8DEF\u5BA2\u904B"),Pa={key:0},Da={key:1,class:"bus-search-route__update"};function Oa(e,t,s,n,o,i){const a=ee("RouteList");return c(),h("div",$a,[o.formatBusStation?(c(),h("div",Ba,[r("div",La,k(o.formatBusStation.name),1),r("div",Ra,[r("div",{class:q(["bus-station__info-tab-item",{"-active":o.currentRouteType==="city"}]),onClick:t[0]||(t[0]=l=>o.currentRouteType="city")},[Ia,i.numOfRoutes.city!==void 0?(c(),h("span",Ea,k(i.numOfRoutes.city),1)):A("",!0)],2),r("div",{class:q(["bus-station__info-tab-item",{"-active":o.currentRouteType==="inter"}]),onClick:t[1]||(t[1]=l=>o.currentRouteType="inter")},[Ma,i.numOfRoutes.city!==void 0?(c(),h("span",Pa,k(i.numOfRoutes.inter),1)):A("",!0)],2)])])):A("",!0),d(a,{class:"bus-station__main","is-station":!0,queries:i.currentRoutes,"time-of-arrival":i.currentTimeOrArrival},null,8,["queries","time-of-arrival"]),i.updateTime?(c(),h("div",Da," \u66F4\u65B0\u6642\u9593\uFF1A"+k(i.updateTime),1)):A("",!0)])}var xa=z(Aa,[["render",Oa]]);const Na={props:{icon:{type:String,default:""}}};function Ua(e,t,s,n,o,i){const a=Is;return c(),D(a,{icon:s.icon,class:"button-secondary"},{default:g(()=>[ae(e.$slots,"default")]),_:3},8,["icon"])}var Me=z(Na,[["render",Ua]]);const Za={props:{active:{type:Boolean,default:!1},index:{type:Number,default:0},name:{type:String,default:""},isEnd:{type:Boolean,default:!1},position:{type:Object,default:()=>({})},time:{type:Object,default:void 0},busState:{type:[Boolean,String],default:!1}},data(){return{markerBusStation:fs}},computed:{link(){return`https://www.google.com.tw/maps/dir//${this.position.lat},${this.position.lng}`}},watch:{active(e){e&&this.$el.scrollIntoView()}}},Ha={class:"card-bus-stop__state"},qa=r("div",{class:"card-bus-stop__state-circle"},null,-1),Ka={class:"card-bus-stop__info"},Fa={class:"card-bus-stop__info-name"},Va={key:0,class:"card-bus-stop__info-time"},Qa={class:"card-bus-stop__tool"},Ga={class:"card-bus-stop__tool-item -forward"},ja=["href"];function Ya(e,t,s,n,o,i){const a=J;return c(),h("div",{class:q(["card-bus-stop",{"-start":s.index===1,"-end":s.isEnd,"-active":s.active,["-"+s.busState]:s.busState}]),onClick:t[0]||(t[0]=l=>e.$emit("click"))},[r("div",Ha,[qa,s.busState?(c(),h("div",{key:0,style:Xe({backgroundImage:`url('${o.markerBusStation}')`}),class:"card-bus-stop__state-bus"},null,4)):A("",!0)]),r("div",Ka,[r("div",Fa,k(s.name),1),s.time?(c(),h("div",Va," \u5230\u7AD9\u6642\u9593 "+k(s.time),1)):A("",!0)]),r("div",Qa,[r("div",Ga,[d(a,{name:"enter"}),r("a",{target:"_blank",href:i.link},null,8,ja)])])],2)}var za=z(Za,[["render",Ya]]);const Wa={url:ys,anchor:{x:12,y:12}},Ja={url:ws,anchor:{x:16,y:16}},Xa={url:Et,anchor:{x:44,y:44}},jt=e=>({text:e,color:"#ffffff",fontSize:"12px",fontWeight:"bold",className:"marker-label"}),er={name:"BusSearchRoute",inject:["$map","viewIndex"],props:{busRoute:{type:fe,default:null}},emits:["forward","back"],data(){return{direction:0,stops:[],buss:[],formatBusRoute:null,activeStop:null,estimatedTime:[]}},computed:{infoData(){if(!this.formatBusRoute)return null;const{name:e,city:t,id:s,uid:n,type:o,start:i,end:a}=this.formatBusRoute;return{name:e,city:t,id:s,uid:n,type:o,start:i,end:a,isLink:!1}},currentStops(){if(!this.activeCurrentView)return null;const e=this.stops.find(({direction:o})=>o===this.direction);if(!e)return null;const{stops:t=[]}=e;let s=1/0;const n=this.estimatedTime.filter(({direction:o})=>o===this.direction).sort((o,i)=>t.findIndex(({id:a})=>a===o.id)-t.findIndex(({id:a})=>a===i.id));return n.forEach(o=>{o.EstimateTime!==void 0?(o.EstimateTime===0?(console.log(o),o.busState="now"):s>o.EstimateTime?o.busState="coming":o.busState=!1,s=o.EstimateTime):o.busState=!1}),oe(B({},e),{times:n.map(o=>o.estimateTime),busState:n.map(o=>o.busState)})},activeCurrentView(){return this.viewIndex.value>=2},updateTime(){var e;return((e=this.formatBusRoute)==null?void 0:e.updateTime)?new Date(this.formatBusRoute.updateTime).toLocaleTimeString("zh-TW",{hour12:!1,timeStyle:"short"}):""}},watch:{busRoute:{handler(e,t){if(!e)return;const{mapInstance:s}=this.$map.value;this.stops=[],this.formatBusRoute=new fe(e),this.formatBusRoute.getShape().then(n=>{const o=(()=>{const i=[];return n.forEach(({points:a})=>{a.forEach(([l,u])=>{i.push({lat:l,lng:u})})}),i})();this.customPolylineOuter.setPath(o),this.customPolylineInner.setPath(o),this.customPolylineOuter.setMap(s),this.customPolylineInner.setMap(s)}),this.formatBusRoute.getStops().then(n=>{this.stops=n.map(o=>{const{Direction:i,Stops:a}=o;return{direction:i,stops:a.map(l=>new xs(l))}}),this.direction=0}),this.formatBusRoute.getEstimatedTime().then(n=>{this.estimatedTime=n}),this.formatBusRoute.getBusRealTime().then(n=>{this.buss=[...n],this.updateBusMarker(this.buss.filter(({direction:o})=>o===this.direction))})}},currentStops(e){if(!e)return;const{stops:t=[]}=e;this.clearMarker().then(()=>{t.length&&this.updateMarker()})},direction(){this.clearBusMarker().then(()=>{const e=this.buss.filter(({direction:t})=>t===this.direction);e.length&&this.updateBusMarker(e)})},activeCurrentView(e){e?this.showPolyline():(this.clearMarker(),this.hidePolyline(),this.activeStop=null)},activeStop(e,t){const{mapInstance:s}=this.$map.value,n=this.stopMarkers.find(i=>i.stop===e),o=this.stopMarkers.find(i=>i.stop===t);n&&(s.panTo(n.position),n.isEnd||n.setLabel(jt(e.name))),o&&!o.isEnd&&o.setLabel(null)}},mounted(){const{googleMap:e}=this.$map.value;this.stopMarkers=[],this.busMarkers=[],this.customPolylineOuter=new e.Polyline({path:[],geodesic:!0,strokeColor:"#00A67E",strokeOpacity:1,strokeWeight:14}),this.customPolylineInner=new e.Polyline({path:[],geodesic:!0,strokeColor:"#32F3AE",strokeOpacity:1,strokeWeight:10})},methods:{updateMarker(){const e=this.currentStops.stops,{googleMap:t,mapInstance:s}=this.$map.value,n=e.length;e.forEach((o,i)=>{const a=i===0|i===n-1,l=new t.Marker({zIndex:1,position:o.position,map:s,title:o.name,icon:a?Ja:Wa,label:a?jt(o.name):void 0});l.stop=o,l.isEnd=a,this.stopMarkers.push(l),t.event.addListener(l,"click",()=>{this.activeStop=o})})},updateBusMarker(e){const{googleMap:t,mapInstance:s}=this.$map.value;e.forEach(n=>{const o=new t.Marker({zIndex:2,position:n.position,map:s,icon:Xa,label:jt(n.number||n.PlateNumb)});this.busMarkers.push(o)})},clearMarker(){return new Promise(e=>{for(;this.stopMarkers.length;){let t=this.stopMarkers.pop();t.setMap(null),t=null}for(;this.busMarkers.length;){let t=this.busMarkers.pop();t.setMap(null),t=null}e()})},clearBusMarker(){return new Promise(e=>{for(;this.busMarkers.length;){let t=this.busMarkers.pop();t.setMap(null),t=null}e()})},showPolyline(){const{mapInstance:e}=this.$map.value;this.customPolylineOuter.setMap(e),this.customPolylineInner.setMap(e)},hidePolyline(){this.customPolylineOuter.setPath([]),this.customPolylineInner.setPath([]),this.customPolylineOuter.setMap(null),this.customPolylineInner.setMap(null)}}},tr={class:"bus-search-route__info"},sr={key:0,class:"bus-search-route__info-tab"},nr={key:0,class:"bus-search-route__main"},or=["data-direction"],ir={class:"bus-search-route__action"},ar=O(" \u8FD4\u56DE "),rr=O(" \u8DEF\u7DDA\u8CC7\u8A0A "),cr={key:1,class:"bus-search-route__update"};function lr(e,t,s,n,o,i){const a=Gt,l=za,u=Me,p=Ee;return c(),h("div",{class:q(["bus-search-route",{"-hide":!i.activeCurrentView,"-show":i.activeCurrentView}])},[r("div",tr,[d(a,le(ue(i.infoData)),null,16),o.formatBusRoute?(c(),h("div",sr,[r("div",{class:q(["bus-search-route__info-tab-item",{"-active":o.direction===0}]),onClick:t[0]||(t[0]=y=>o.direction=0)}," \u5F80"+k(o.formatBusRoute.end),3),r("div",{class:q(["bus-search-route__info-tab-item",{"-active":o.direction===1}]),onClick:t[1]||(t[1]=y=>o.direction=1)}," \u5F80"+k(o.formatBusRoute.start),3)])):A("",!0)]),i.currentStops?(c(),h("div",nr,[d(ge,{name:"fade",mode:"out-in"},{default:g(()=>[(c(),h("div",{key:e.index,"data-direction":i.currentStops.direction,class:"bus-search-route__stops-wrap"},[(c(!0),h(K,null,Q(i.currentStops.stops,(y,T)=>(c(),D(l,{key:y.id,active:o.activeStop===y,index:y.index,name:y.name,position:y.position,"is-end":T===i.currentStops.stops.length-1,time:i.currentStops.times[T]||"","bus-state":i.currentStops.busState[T]||!1,onClick:w=>o.activeStop=y},null,8,["active","index","name","position","is-end","time","bus-state","onClick"]))),128))],8,or))]),_:1})])):A("",!0),r("div",ir,[d(u,{onClick:t[2]||(t[2]=y=>e.$emit("back"))},{default:g(()=>[ar]),_:1}),d(p,{icon:"info",onClick:t[3]||(t[3]=y=>e.$emit("forward"))},{default:g(()=>[rr]),_:1})]),i.updateTime?(c(),h("div",cr," \u66F4\u65B0\u6642\u9593\uFF1A"+k(i.updateTime),1)):A("",!0)],2)}var ur=z(er,[["render",lr]]);const dr={name:"BusSearchRouteDetail",inject:["viewIndex"],props:{busRoute:{type:fe,default:null}},data(){return{formatBusRoute:null}},computed:{activeCurrentView(){return this.viewIndex.value===3},infoData(){if(!this.formatBusRoute)return null;const{name:e,city:t,id:s,uid:n,type:o,start:i,end:a}=this.formatBusRoute;return{name:e,city:t,id:s,uid:n,type:o,start:i,end:a,isLink:!1}},routeInfo(){if(!this.formatBusRoute)return null;const{city:e,url:t}=this.formatBusRoute,s=$e.get(e);return!e||!s?null:{title:"\u8DEF\u7DDA\u8CC7\u8A0A",list:[{tag:"div",innerText:s},{tag:"a",innerText:"\u8DEF\u7DDA\u5716",href:t,target:"_blank"}]}},routeEnds(){if(!this.formatBusRoute)return null;const{startDetail:e,endDetail:t}=this.formatBusRoute;return!e||!t?null:{title:"\u8D77\u8A16\u7AD9",list:[{tag:"div",innerText:`\u8D77\u7AD9\uFF1A${e}`},{tag:"div",innerText:`\u8A16\u7AD9\uFF1A${t}`}]}},routeTime(){if(!this.formatBusRoute)return null;const{time:e}=this.formatBusRoute;return e?{title:"\u5E73\u65E5\u767C\u8ECA\u6642\u9593",list:[{tag:"div",innerText:`\u8D77\u7AD9\uFF1A${e.first}`},{tag:"div",innerText:`\u8A16\u7AD9\uFF1A${e.last}`}]}:null},routeHoliday(){if(!this.formatBusRoute)return null;const{holiday:e}=this.formatBusRoute;return e?{title:"\u5047\u65E5\u767C\u8ECA\u6642\u9593",list:[{tag:"div",innerText:`\u8D77\u7AD9\uFF1A${e.first}`},{tag:"div",innerText:`\u8A16\u7AD9\uFF1A${e.last}`}]}:null},routeTicket(){if(!this.formatBusRoute)return null;const{ticket:e,fareBufferZone:t}=this.formatBusRoute;return!e||!t?null:{title:"\u7968\u50F9",list:[{tag:"div",innerText:e},{tag:"div",innerText:`\u7DE9\u885D\u5340\uFF1A${t}`}]}},routeOperator(){if(!this.formatBusRoute)return null;const{operators:e}=this.formatBusRoute;return e?{operators:e}:null},cardInfos(){const{routeInfo:e,routeEnds:t,routeTime:s,routeTicket:n}=this;return[e,t,s,n].filter(Boolean)}},watch:{busRoute:{handler(e,t){!e||(this.formatBusRoute=new fe(e))}}},mounted(){this.busRoute&&(this.formatBusRoute=new fe(this.busRoute))}},hr={class:"bus-search-route bus-search-route-detail"},pr={class:"bus-search-route__info"},_r={key:0,class:"bus-search-route__main"},mr={class:"bus-search-route__card-title"},vr={class:"bus-search-route__action"},fr=O(" \u8FD4\u56DE "),gr={key:1,class:"bus-search-route__update"};function yr(e,t,s,n,o,i){const a=Gt,l=Me;return c(),h("div",hr,[r("div",pr,[d(a,le(ue(i.infoData)),null,16)]),i.activeCurrentView?(c(),h("div",_r,[(c(!0),h(K,null,Q(i.cardInfos,(u,p)=>V((c(),h("div",{key:p,class:"bus-search-route__card"},[r("div",mr,k(u.title),1),(c(!0),h(K,null,Q(u.list,(y,T)=>(c(),D(Bt(y.tag),Ce({key:T,class:"bus-search-route__card-desc"},y),null,16))),128))],512)),[[ie,u]])),128))])):A("",!0),r("div",vr,[d(l,{onClick:t[0]||(t[0]=u=>e.$emit("back"))},{default:g(()=>[fr]),_:1})]),e.updateTime?(c(),h("div",gr," \u66F4\u65B0\u6642\u9593\uFF1A"+k(e.updateTime),1)):A("",!0)])}var wr=z(dr,[["render",yr]]);const br={class:"bike-wrapper",style:{"--primary":"#32F3AE"}},kr={class:"bike-wrapper__loading"},Sr={class:"container"},Tr=r("div",{class:"bike-wrapper__header"},[r("p",{class:"bike-wrapper__loading-title-en",lang:"en"},[O(" FORMOSA"),r("br"),O(" BIKER\u2019s Guide ")]),r("p",{class:"bike-wrapper__loading-title"}," \u53F0\u7063\u81EA\u884C\u8ECA\u61F6\u4EBA\u5305 ")],-1),Cr={key:0},Ar={key:1,version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"20px",height:"20px",viewBox:"0 0 50 50"},$r=r("path",{fill:"#32F3AE",d:"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"},[r("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"})],-1),Br=[$r],Lr={setup(e){const t=new URL("./assets/bike.ac66ba33.jpg",self.location).href,s=pe(),n=M(!1),o=x(()=>s.state.bike.isLoading),i=()=>{n.value=!0,s.commit("bike/SET_START")};return(a,l)=>{const u=ee("router-view"),p=Ee,y=X("bg");return c(),h("div",br,[d(u),d(ge,{name:"bike-loading"},{default:g(()=>[V(r("div",kr,[r("div",Sr,[Tr,r("div",{class:q(["bike-wrapper__button",{"-loading":n.value}])},[d(p,{icon:n.value?null:"enter",onClick:i},{default:g(()=>[d(ge,{name:"fade",mode:"out-in"},{default:g(()=>[n.value?(c(),h("svg",Ar,Br)):(c(),h("p",Cr," \u958B\u59CB\u65C5\u7A0B "))]),_:1})]),_:1},8,["icon"])],2)])],512),[[ie,f(o)],[y,f(t)]])]),_:1})])}}};const Rr={class:"collapse__display"},Ir={class:"collapse__main"},Er={setup(e){const t=M(!1);return(s,n)=>{const o=X("blur");return V((c(),h("div",{class:q(["collapse",{"-active":t.value}]),onClick:n[0]||(n[0]=i=>t.value=!t.value)},[r("div",Rr,[ae(s.$slots,"display")]),r("div",Ir,[ae(s.$slots,"default")])],2)),[[o,()=>t.value=!1]])}}};const Mr={class:"tag"},Ge={props:{name:{type:String,default:null}},setup(e){return(t,s)=>(c(),h("div",Mr,k(e.name),1))}};const Pr={class:"bike-list-card"},Dr={class:"bike-list-card__main"},Or={class:"bike-list-card__image"},xr={class:"bike-list-card__content"},Nr={class:"bike-list-card__title"},Ur={key:0,class:"bike-list-card__address"},Zr={key:0,class:"bike-list-card__from"},Hr={key:2,class:"bike-list-card__to"},qr={class:"bike-list-card__desc"},Kr={class:"bike-list-card__button"},Fr={class:"bike-list-card__tags"},Vr={props:{title:{type:String,default:null},from:{type:String,default:null},to:{type:String,default:null},desc:{type:String,default:null},src:{type:String,default:null},tags:{type:Array,default:null}},setup(e){return(t,s)=>{const n=J,o=Ge,i=X("bg");return c(),h("div",Pr,[r("div",Dr,[V(r("div",Or,null,512),[[i,e.src]]),r("div",xr,[r("p",Nr,k(e.title),1),e.from||e.to?(c(),h("div",Ur,[e.from?(c(),h("p",Zr,k(e.from),1)):A("",!0),e.to?(c(),D(n,{key:1,name:"arrow-right"})):A("",!0),e.to?(c(),h("p",Hr,k(e.to),1)):A("",!0)])):A("",!0),r("p",qr,k(e.desc),1)]),r("div",Kr,[d(n,{name:"right"})])]),r("div",Fr,[(c(!0),h(K,null,Q(e.tags,a=>(c(),D(o,{key:a,name:a},null,8,["name"]))),128))])])}}};function Qr(e){return typeof e=="number"?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e}const Gr={name:"TabCategory",props:{name:{type:String,default:""},number:{type:Number,default:0},active:{type:Boolean,default:!1}},emits:["click"],computed:{numberFormatted(){return Qr(this.number>9999?"9,999+":this.number)},className(){return{"-active":this.active}}},methods:{}},jr={class:"button-tab-category__main"},Yr=["textContent"],zr=["textContent"];function Wr(e,t,s,n,o,i){return c(),h("div",{class:q(["button-tab-category",i.className]),onClick:t[0]||(t[0]=a=>e.$emit("click"))},[r("div",jr,[r("p",{class:"button-tab-category__name",textContent:k(s.name)},null,8,Yr),r("p",{class:"button-tab-category__num",textContent:k(i.numberFormatted)},null,8,zr)])],2)}var Yt=z(Gr,[["render",Wr]]);const Jr={class:"bike-search"},Xr={class:"bike-search__main"},ec={class:"bike-search__tags"},tc={class:"bike-search__cards"},sc={class:"bike-search__cards-stations"},nc={class:"bike-search__cards-cycling"},oc={class:"bike-search__cards-restaurant"},ic={class:"bike-search__cards-tour"},Hs={setup(e){const t=new URL("./assets/bike_thumbnail.eb399f68.jpg",self.location).href,s=new URL("./assets/cycling_thumbnail.e0f8696f.jpg",self.location).href,n=pe(),o=M(I),i=M(["\u505C\u6B62\u71DF\u904B","\u6B63\u5E38\u71DF\u904B","\u66AB\u505C\u71DF\u904B"]),a=M({[I.STATION]:"\u81EA\u884C\u8ECA\u7AD9",[I.CYCLING]:"\u81EA\u884C\u8ECA\u8DEF\u7DDA",[I.RESTAURANT]:"\u9910\u5EF3",[I.TOUR]:"\u666F\u9EDE"}),l=M(0),u=x(()=>n.state.bike.bikeStations),p=x(()=>n.state.bike.bikeCycling),y=x(()=>n.state.bike.restaurants),T=x(()=>n.state.bike.tours),w=x(()=>n.state.bike.selectTypes);return(m,b)=>{const P=Yt,E=Vr,C=ee("router-link");return c(),h("div",Jr,[r("div",Xr,[r("div",ec,[(c(!0),h(K,null,Q(f(w),(F,j)=>(c(),D(P,{key:F,name:a.value[F],number:f(n).state.bike[F].length,active:l.value===j,onClick:N=>l.value=j},null,8,["name","number","active","onClick"]))),128))]),r("div",tc,[V(r("div",sc,[(c(!0),h(K,null,Q(f(u),({StationUID:F,StationName:j,StationAddress:N,ServiceType:Z,StationPosition:Y,availability:U})=>(c(),D(C,{key:F,to:{name:"BikePlace",params:{value:`${Y.PositionLat},${Y.PositionLon}`},query:B({},m.$route.query)}},{default:g(()=>[d(E,{title:j.Zh_tw,desc:N.Zh_tw,src:f(t),tags:[i.value[U.ServiceStatus],`YouBike${Z}.0`]},null,8,["title","desc","src","tags"])]),_:2},1032,["to"]))),128))],512),[[ie,f(w)[l.value]===o.value.STATION]]),V(r("div",nc,[(c(!0),h(K,null,Q(f(p),({RouteName:F,RoadSectionStart:j,RoadSectionEnd:N,CyclingLength:Z,city:Y,geometry:U})=>(c(),D(C,{key:F,to:{name:"BikePlace",params:{value:`${U[0].split(" ").reverse().join(",")}`},query:B({},m.$route.query)}},{default:g(()=>[d(E,{title:F,from:j,to:N,src:f(s),tags:[Y,`\u8DEF\u7DDA\u9577\u5EA6\uFF1A${Z/1e3}km`]},null,8,["title","from","to","src","tags"])]),_:2},1032,["to"]))),128))],512),[[ie,f(w)[l.value]===f(I).CYCLING]]),V(r("div",oc,[(c(!0),h(K,null,Q(f(y),({Name:F,Address:j,City:N,Class:Z,Picture:Y,Position:U})=>(c(),D(C,{key:F,to:{name:"BikePlace",params:{value:`${U.PositionLat},${U.PositionLon}`},query:B({},m.$route.query)}},{default:g(()=>[d(E,{title:F,desc:j,src:Y.PictureUrl1,tags:[N,Z]},null,8,["title","desc","src","tags"])]),_:2},1032,["to"]))),128))],512),[[ie,f(w)[l.value]===f(I).RESTAURANT]]),V(r("div",ic,[(c(!0),h(K,null,Q(f(T),({Name:F,Address:j,Description:N,City:Z,Picture:Y,Position:U})=>(c(),D(C,{key:F,to:{name:"BikePlace",params:{value:`${U.PositionLat},${U.PositionLon}`},query:B({},m.$route.query)}},{default:g(()=>[d(E,{title:F,from:j,desc:N,src:Y.PictureUrl1,tags:[Z]},null,8,["title","from","desc","src","tags"])]),_:2},1032,["to"]))),128))],512),[[ie,f(w)[l.value]===f(I).TOUR]])])])])}}};const ac=300,zt=1e3,rc=$t({components:{BikeSearch:Hs},setup(){const e=pe(),t=Te(),s=Ae(),n=M(null),o=M(!1),i=M(null),a=M(null),l=M([]),u=M({[I.STATION]:"\u81EA\u884C\u8ECA\u7AD9",[I.CYCLING]:"\u81EA\u884C\u8ECA\u8DEF\u7DDA",[I.RESTAURANT]:"\u9910\u5EF3",[I.TOUR]:"\u666F\u9EDE"}),p=M({[I.STATION]:"bike",[I.CYCLING]:"cycling",[I.RESTAURANT]:"restaurant",[I.TOUR]:"tour"}),y=x(()=>e.state.bike.isWaiting),T=x(()=>t.name==="BikeHome"),w=x(()=>t.name==="BikeSearch"),m=x(()=>t.name==="BikePlace"),b=x(()=>e.getters["bike/allData"]),P=x(()=>e.state.bike.currentLocationData),E=x(()=>e.state.bike.allTypes),C=x(()=>e.state.bike.selectTypes);Se(()=>e.state.bike.isStart,_=>{a.value&&a.value.requestUserLocation()}),Se(()=>n.value,async _=>{if(_&&a.value){l.value=await a.value.getPlacePredictions(_);return}l.value=[]}),Se(()=>t.params.value,_=>{_&&$()});const F=({lat:_,lng:v,radius:S})=>{s.push({name:t.name,query:{lat:_,lng:v,r:S}})},j=(_=1)=>{a.value&&a.value.setZoom(a.value.mapInstance.zoom+_)},N=()=>{if(a.value){if(a.value.agreeGeolocation){a.value.moveMapToPlace(a.value.userLocationMark.getPosition()),a.value.setZoom(17);return}a.value.requestUserLocation()}},Z=async(_,v)=>{if(a.value){const S={};_&&v&&(S.location=new a.value.googleMap.LatLng(_,v));let L=await a.value.getLocationInformation(S);if(Array.isArray(L)){L=L.flatMap(R=>R.address_components);for(let R=0,H=L.length;R<H;R++){const W=L[R];if(W.long_name&&Nt[W.long_name])return W.long_name;if(W.short_name&&Nt[W.short_name])return W.short_name}}}},Y=_=>{if(_)return a.value.findFilterMarker(({position:S})=>`${S.lat()},${S.lng()}`===_)},U=_=>{_!=="all"?C.value.includes(_)?e.commit("bike/DEL_SELECT_TYPE",_):e.commit("bike/ADD_SELECT_TYPE",_):e.commit("bike/TOGGLE_ALL_TYPE"),Pe()},$=()=>{const _=Y(t.params.value);if(a.value.clearPathStartMarker(),a.value.clearPathEndMarker(),a.value.clearActivatePath(),_){const{position:v,markerData:S}=_,{type:L}=S;if(L===I.CYCLING){const{geometry:R}=S;a.value.setActivatePath(R.map(H=>{const[W,ve]=H.split(" ").reverse();return new a.value.googleMap.LatLng(W,ve)})),a.value.setPathStartMarker(Y(R.shift().split(" ").reverse().join(","))),a.value.setPathEndMarker(Y(R.pop().split(" ").reverse().join(",")))}a.value.setActivateMarker(_),a.value.moveMapToPlace(v),e.commit("bike/SET_CURRENT_LOCATION_DATA",S);return}e.commit("bike/SET_CURRENT_LOCATION_DATA",null)},te=async(_,v,S,L)=>{if(_=_||t.query.lat,v=v||t.query.lng,S=S||t.query.r,L=L||await Z(_,v),L&&a.value){const R=await e.dispatch("bike/GET_BIKE_STATIONS",{city:L,options:{position:{lat:_,lng:v},distance:S|0}});if(Array.isArray(R)){const H=R.flat().map(W=>{const{StationPosition:ve}=W;return a.value.generateMarker(W,{position:{lat:ve.PositionLat,lng:ve.PositionLon},icon:new URL("./assets/bike.bd392560.svg",self.location).href})});a.value.setFilterMarkers(H)}}},se=async(_,v,S)=>{if(_=_||t.query.lat,v=v||t.query.lng,S=S||t.query.r,a.value){const L=await e.dispatch("bike/GET_BIKE_NEAR_STATIONS",{options:{position:{lat:_,lng:v},distance:S|0}});if(Array.isArray(L)){const R=L.flat().map(H=>{const{StationPosition:W}=H;return a.value.generateMarker(H,{position:{lat:W.PositionLat,lng:W.PositionLon},icon:new URL("./assets/bike.bd392560.svg",self.location).href})});a.value.setFilterMarkers(R)}}},ne=async _=>{if(a.value){const v=await e.dispatch("bike/GET_MERGE_BIKE_NEAR_STATIONS",_);if(Array.isArray(v)){const S=v.map(L=>{const{StationPosition:R}=L;return a.value.generateMarker(L,{position:{lat:R.PositionLat,lng:R.PositionLon},icon:new URL("./assets/bike.bd392560.svg",self.location).href})});a.value.setFilterMarkers(S)}}},me=async _=>{if(_=_||await Z(),_&&a.value){const v=await e.dispatch("bike/GET_BIKE_CYCLING",{city:_});if(Array.isArray(v)){const S=v.map(L=>{const{geometry:R}=L,H=R.shift().split(" ").reverse(),W=R.pop().split(" ").reverse();return[a.value.generateMarker(L,{position:new a.value.googleMap.LatLng(H[0],H[1]),icon:new URL("./assets/cycling-active.0ca19709.svg",self.location).href}),a.value.generateMarker(L,{position:new a.value.googleMap.LatLng(W[0],W[1]),icon:new URL("./assets/cycling-active.0ca19709.svg",self.location).href})]}).flat();a.value.setFilterMarkers(S,!1)}}},de=async(_,v,S,L)=>{if(_=_||t.query.lat,v=v||t.query.lng,S=S||t.query.r,L=L||await Z(_,v),a.value&&L){const R=await e.dispatch("bike/GET_RESTAURANTS_BY_CITY",{city:L,options:{position:{lat:_,lng:v},distance:S|0}});if(Array.isArray(R)){const H=R.map(W=>{const{Position:ve}=W;return a.value.generateMarker(W,{position:{lat:ve.PositionLat,lng:ve.PositionLon},icon:new URL("./assets/restaurant.bb161004.svg",self.location).href})});a.value.setFilterMarkers(H)}}},Be=async(_,v)=>{if(v=v||await Z(),a.value&&v){const S=await e.dispatch("bike/GET_MERGE_RESTAURANTS",{city:v,payload:_});if(Array.isArray(S)){const L=S.map(R=>{const{Position:H}=R;return a.value.generateMarker(R,{position:{lat:H.PositionLat,lng:H.PositionLon},icon:new URL("./assets/restaurant.bb161004.svg",self.location).href})});a.value.setFilterMarkers(L)}}},ss=async(_,v,S,L)=>{if(_=_||t.query.lat,v=v||t.query.lng,S=S||t.query.r,L=L||await Z(_,v),a.value&&L){const R=await e.dispatch("bike/GET_TOURS_BY_CITY",{city:L,options:{position:{lat:_,lng:v},distance:S|0}});if(Array.isArray(R)){const H=R.map(W=>{const{Position:ve}=W;return a.value.generateMarker(W,{position:{lat:ve.PositionLat,lng:ve.PositionLon},icon:new URL("./assets/tour.41b8c140.svg",self.location).href})});a.value.setFilterMarkers(H)}}},Gs=async(_,v)=>{if(v=v||await Z(),a.value&&v){const S=await e.dispatch("bike/GET_MERGE_TOURS",{city:v,payload:_});if(Array.isArray(S)){const L=S.map(R=>{const{Position:H}=R;return a.value.generateMarker(R,{position:{lat:H.PositionLat,lng:H.PositionLon},icon:new URL("./assets/tour.41b8c140.svg",self.location).href})});a.value.setFilterMarkers(L)}}},js=async(_,v,S)=>{_=_||t.query.lat,v=v||t.query.lng,S=S||t.query.r;const L=await Z(_,v);await Promise.all(C.value.map(R=>R===I.STATION?te(_,v,S,L):R===I.RESTAURANT?de(_,v,S,L):R===I.TOUR?ss(_,v,S,L):null))},Ys=async()=>{if(n.value){let _;const v=[],S=[];(await a.value.textSearch(n.value)).forEach(H=>{const{location:W}=H.geometry;v.push({lat:W.lat(),lng:W.lng(),r:ac}),S.push(a.value.generateMarker(H,{position:W}))}),a.value.setQueryMarkers(S);const[R]=S;R&&(_=await Z(R.position.lat(),R.position.lng()),a.value.moveMapToPlace(R.position)),await Promise.all(C.value.map(H=>H===I.STATION?ne(v):H===I.CYCLING?me(_):H===I.RESTAURANT?Be(v,_):H===I.TOUR?Gs(v,_):null))}},zs=async()=>{if(m.value){const[_,v]=t.params.value.split(","),S=await Z(_,v);if(_&&v){const L=new a.value.googleMap.LatLng(_,v),R=a.value.generateMarker(null,{position:L,zIndex:3});a.value.setQueryMarkers([R]),a.value.moveMapToPlace(L),await Promise.all(C.value.map(H=>H===I.STATION?se(_,v,zt):H===I.CYCLING?me(S):H===I.RESTAURANT?de(_,v,zt,S):H===I.TOUR?ss(_,v,zt,S):null))}}},Pe=async()=>{try{if(e.commit("bike/SET_WAITING",!0),e.commit("bike/CLEAR_ALL_DATA"),a.value.clearAllMapMarkers(),w.value){await Ys();return}if(m.value){await zs();return}await js()}finally{e.commit("bike/SET_WAITING",!1)}},Ws=async()=>{n.value&&(await s.push({name:"BikeSearch",params:{value:n.value},query:B({},t.query)}),o.value=!1,Pe())},Js=async _=>{if(_){const[v]=await a.value.findPlaceFromQuery(_.structured_formatting.main_text);if(v){const S=v.geometry.location.lat(),L=v.geometry.location.lng(),[R]=await a.value.getLocationInformation({location:new a.value.googleMap.LatLng(S,L)});R&&(await s.push({name:"BikePlace",params:{value:`${S},${L}`},query:B({},t.query)}),n.value=R.formatted_address,o.value=!1,Pe())}}},Xs=()=>{n.value=null,a.value.clearAllMapMarkers(),s.push({name:"BikeHome",query:B({},t.query)})};return We(()=>{a.value=new Ms(i.value),a.value.on("init",async()=>{if(w.value&&(n.value=t.params.value),m.value){const[_,v]=t.params.value.split(",");if(_&&v){const[S]=await a.value.getLocationInformation({location:new a.value.googleMap.LatLng(_,v)});S&&(n.value=S.formatted_address)}}}),a.value.on("boundsChanged",_=>{F(_)}),a.value.on("allowUserLocation",async()=>{await Pe(),$()}),a.value.on("requestUserLocation",async()=>{e.commit("bike/SET_LOADING",!1)}),a.value.on("onUserLocationChanged",_=>{e.commit("bike/SET_USER_LOCATION",{lat:_.lat(),lng:_.lng()})}),a.value.on("markerClicked",_=>{const{position:v}=_;s.push({name:"BikePlace",params:{value:`${v.lat()},${v.lng()}`},query:B({},t.query)})}),a.value.on("markerActivated",_=>{const{markerData:v}=_;v.type===I.STATION&&_.setIcon(new URL("./assets/bike-active.7766ef52.svg",self.location).href),v.type===I.RESTAURANT&&_.setIcon(new URL("./assets/restaurant-active.4b21d1c6.svg",self.location).href),v.type===I.TOUR&&_.setIcon(new URL("./assets/tour-active.c0ed35a5.svg",self.location).href),_.setAnimation(a.value.googleMap.Animation.Hy),_.setZIndex(2)}),a.value.on("markerDeActivated",_=>{const{markerData:v}=_;v.type===I.STATION&&_.setIcon(new URL("./assets/bike.bd392560.svg",self.location).href),v.type===I.RESTAURANT&&_.setIcon(new URL("./assets/restaurant.bb161004.svg",self.location).href),v.type===I.TOUR&&_.setIcon(new URL("./assets/tour.41b8c140.svg",self.location).href),_.setZIndex(0)})}),{googleMapEl:i,searchValue:n,isSearchFocus:o,queryPredictions:l,isWaiting:y,isHome:T,isSearch:w,isPlace:m,allData:b,currentLocationData:P,submitText:Ws,submitPlace:Js,search:Pe,zoom:j,moveUserLocation:N,selectTypesMap:u,iconsMap:p,allTypes:E,selectTypes:C,changeSelectTypes:U,clearSearch:Xs}}}),cc={class:"bike"},lc={ref:"googleMapEl",class:"bike__map"},uc={class:"bike__main"},dc={class:"bike__search"},hc={class:"search-filter__functions"},pc={class:"bike__search-result"},_c={class:"bike__search-result-main"},mc=["onClick"],vc={class:"bike__search-result-title"},fc={class:"bike__search-result-desc"},gc=r("p",null,"\u641C\u5C0B\u9019\u500B\u5340\u57DF",-1),yc={class:"bike__types-display"},wc={class:"bike__types-main"},bc=["onClick"],kc={class:"bike__types-icon"},Sc={class:"bike__types-icon"},Tc=r("p",null,"\u5168\u90E8\u9805\u76EE",-1),Cc={class:"bike__loading"},Ac=r("p",null,"\u66F4\u65B0\u5730\u5716\u8CC7\u8A0A\u2026",-1);function $c(e,t,s,n,o,i){const a=J,l=gt,u=ee("router-view"),p=ee("BikeSearch"),y=Es,T=Er,w=X("blur");return c(),h("div",cc,[r("div",lc,null,512),r("div",uc,[r("div",dc,[V(d(l,{modelValue:e.searchValue,"onUpdate:modelValue":t[2]||(t[2]=m=>e.searchValue=m),modelModifiers:{trim:!0},onSubmit:e.submitText,onFocus:t[3]||(t[3]=m=>e.isSearchFocus=!0)},{default:g(()=>[r("div",hc,[V(r("div",{class:"search-filter__functions-item",onClick:t[0]||(t[0]=(...m)=>e.clearSearch&&e.clearSearch(...m))},[d(a,{name:"close-active"})],512),[[ie,e.searchValue]]),r("div",{class:"search-filter__functions-item",onClick:t[1]||(t[1]=(...m)=>e.submitText&&e.submitText(...m))},[d(a,{name:"search"})])]),V(r("div",pc,[r("ul",_c,[(c(!0),h(K,null,Q(e.queryPredictions,m=>(c(),h("li",{key:m.place_id,class:"bike__search-result-item",onClick:b=>e.submitPlace(m)},[r("p",vc,k(m.structured_formatting.main_text),1),r("p",fc,k(m.structured_formatting.secondary_text),1)],8,mc))),128))])],512),[[ie,e.isSearchFocus&&e.queryPredictions.length]])]),_:1},8,["modelValue","onSubmit"]),[[w,()=>e.isSearchFocus=!1]]),V(d(y,null,{default:g(()=>[e.isHome?(c(),D(p,{key:1})):(c(),D(u,{key:0}))]),_:1},512),[[ie,e.isSearch&&e.allData.length||e.isPlace&&e.currentLocationData]])]),r("div",{class:q(["bike__refresh",{"-active":!e.isPlace&&!e.isWaiting}]),onClick:t[4]||(t[4]=m=>e.search(null))},[d(a,{name:"search"}),gc],2),r("div",{class:"bike__zoom-in",onClick:t[5]||(t[5]=m=>e.zoom(1))},[d(a,{name:"plus"})]),r("div",{class:"bike__zoom-out",onClick:t[6]||(t[6]=m=>e.zoom(-1))},[d(a,{name:"sub"})]),r("div",{class:"bike__reset-position",onClick:t[7]||(t[7]=(...m)=>e.moveUserLocation&&e.moveUserLocation(...m))},[d(a,{name:"position"})]),d(T,{class:"bike__types"},{display:g(()=>[r("div",yc,[(c(!0),h(K,null,Q(e.selectTypes,m=>(c(),h("div",{key:m,class:"bike__types-icon"},[d(a,{name:`${e.iconsMap[m]}-outline`},null,8,["name"])]))),128)),r("p",null,"\u986F\u793A\u9805\u76EE x "+k(e.selectTypes.length),1)])]),default:g(()=>[r("ul",wc,[(c(!0),h(K,null,Q(e.allTypes,m=>(c(),h("li",{key:m,class:q(["bike__types-type",{"-active":e.selectTypes.includes(m)}]),onClick:b=>e.changeSelectTypes(m)},[r("div",kc,[d(a,{name:`${e.iconsMap[m]}-outline`},null,8,["name"])]),r("p",null,k(e.selectTypesMap[m]),1)],10,bc))),128)),r("li",{class:q(["bike__types-type",{"-active":e.selectTypes.length===e.allTypes.length}]),onClick:t[8]||(t[8]=m=>e.changeSelectTypes("all"))},[r("div",Sc,[d(a,{name:"all-outline"})]),Tc],2)])]),_:1})]),r("div",{class:q(["bike__mask",{"-active":e.isWaiting}])},[r("div",Cc,[d(a,{name:"refresh"}),Ac])],2)])}var Bc=z(rc,[["render",$c]]);const Lc={class:"bike-card"},Rc={class:"bike-card__image"},Ic={class:"bike-card__title"},Ec={key:0,class:"bike-card__address"},Mc={key:0,class:"bike-card__from"},Pc={key:2,class:"bike-card__to"},Dc={class:"bike-card__desc"},Oc={key:1,class:"bike-card__info"},xc={class:"bike-card__count"},Nc={key:0,class:"bike-card__number"},Uc={lang:"en"},Zc=r("p",null,"\u53EF\u79DF\u501F",-1),Hc={key:1,class:"bike-card__number"},qc={lang:"en"},Kc=r("p",null,"\u53EF\u9000\u9084",-1),Fc={key:2,class:"bike-card__content"},Vc={class:"bike-card__tags"},Qc={class:"bike-card__buttons"},Gc=r("p",null,"\u8FD4\u56DE",-1),jc=r("p",null,"\u8DEF\u7DDA\u6307\u5F15",-1),Yc={key:3,class:"bike-card__update"},zc={props:{title:{type:String,default:null},from:{type:String,default:null},to:{type:String,default:null},desc:{type:String,default:null},rentBikes:{type:Number,default:null},returnBikes:{type:Number,default:null},content:{type:String,default:null},src:{type:String,default:null},tags:{type:Array,default:null},date:{type:String,default:null}},emits:["on-back","on-road"],setup(e){return(t,s)=>{const n=J,o=Ge,i=Me,a=Ee,l=X("bg");return c(),h("div",Lc,[V(r("div",Rc,null,512),[[l,e.src]]),r("p",Ic,k(e.title),1),e.from||e.to?(c(),h("div",Ec,[e.from?(c(),h("p",Mc,k(e.from),1)):A("",!0),e.to?(c(),D(n,{key:1,name:"arrow-right"})):A("",!0),e.to?(c(),h("p",Pc,k(e.to),1)):A("",!0)])):A("",!0),r("p",Dc,k(e.desc),1),e.rentBikes||e.returnBikes?(c(),h("div",Oc,[r("div",xc,[e.rentBikes?(c(),h("div",Nc,[r("span",Uc,k(e.rentBikes),1),Zc])):A("",!0),e.returnBikes?(c(),h("div",Hc,[r("span",qc,k(e.returnBikes),1),Kc])):A("",!0)])])):A("",!0),e.content?(c(),h("div",Fc,k(e.content),1)):A("",!0),r("div",Vc,[(c(!0),h(K,null,Q(e.tags,u=>(c(),D(o,{key:u,name:u},null,8,["name"]))),128))]),r("div",Qc,[d(i,{onClick:s[0]||(s[0]=u=>t.$emit("on-back"))},{default:g(()=>[Gc]),_:1}),d(a,{icon:"enter",onClick:s[1]||(s[1]=u=>t.$emit("on-road"))},{default:g(()=>[jc]),_:1})]),e.date?(c(),h("p",Yc," \u66F4\u65B0\u6642\u9593\uFF1A"+k(e.date),1)):A("",!0)])}}};const Wc=new URL("./assets/bike_thumbnail.eb399f68.jpg",self.location).href,Jc=new URL("./assets/cycling_thumbnail.e0f8696f.jpg",self.location).href,Xc=$t({beforeRouteEnter(e,t,s){s(n=>{t.name==="BikeSearch"&&(n.prevRoute=t)})},beforeRouteUpdate(e,t){t.name==="BikeSearch"&&(this.prevRoute=t)},setup(){const e=pe(),t=Te(),s=M({name:"BikeHome"}),n=M(I),o=M(["\u505C\u6B62\u71DF\u904B","\u6B63\u5E38\u71DF\u904B","\u66AB\u505C\u71DF\u904B"]),i=x(()=>e.state.bike.currentLocationData),a=x(()=>e.state.bike.userLocation);return{bikeThumbnail:Wc,cyclingThumbnail:Jc,bikeType:n,serviceStatusMap:o,currentLocationData:i,prevRoute:s,linkGoogleDirections:(u,p)=>{let{query:{lat:y,lng:T}}=t;a.value&&({lat:y,lng:T}=a.value,p=p||`${y},${T}`),console.log(u),window.open(`https://www.google.com.tw/maps/dir/${p}/${u}`,"_blank")}}}}),el={class:"bike-place"};function tl(e,t,s,n,o,i){const a=zc;return c(),h("div",el,[e.currentLocationData&&e.currentLocationData.type===e.bikeType.STATION?(c(),D(a,{key:e.currentLocationData.StationName.Zh_tw,title:e.currentLocationData.StationName.Zh_tw,desc:e.currentLocationData.StationAddress.Zh_tw,src:e.bikeThumbnail,"rent-bikes":e.currentLocationData.availability.AvailableRentBikes,"return-bikes":e.currentLocationData.availability.AvailableReturnBikes,tags:[e.serviceStatusMap[e.currentLocationData.availability.ServiceStatus],`YouBike${e.currentLocationData.ServiceType}.0`],date:e.currentLocationData.UpdateTime,onOnBack:t[0]||(t[0]=l=>e.$router.push(e.prevRoute)),onOnRoad:t[1]||(t[1]=l=>e.linkGoogleDirections(`${e.currentLocationData.StationPosition.PositionLat},${e.currentLocationData.StationPosition.PositionLon}`))},null,8,["title","desc","src","rent-bikes","return-bikes","tags","date"])):A("",!0),e.currentLocationData&&e.currentLocationData.type===e.bikeType.CYCLING?(c(),D(a,{key:e.currentLocationData.RouteName,title:e.currentLocationData.RouteName,src:e.cyclingThumbnail,from:e.currentLocationData.RoadSectionStart,to:e.currentLocationData.RoadSectionEnd,tags:[e.currentLocationData.city,`\u8DEF\u7DDA\u9577\u5EA6\uFF1A${e.currentLocationData.CyclingLength/1e3}km`],date:e.currentLocationData.UpdateTime,onOnBack:t[2]||(t[2]=l=>e.$router.push(e.prevRoute)),onOnRoad:t[3]||(t[3]=l=>e.linkGoogleDirections(`${e.currentLocationData.geometry[0].split(" ").reverse().join(",")}`))},null,8,["title","src","from","to","tags","date"])):A("",!0),e.currentLocationData&&e.currentLocationData.type===e.bikeType.RESTAURANT?(c(),D(a,{key:e.currentLocationData.Name,title:e.currentLocationData.Name,from:e.currentLocationData.Address,desc:e.currentLocationData.OpenTime,src:e.currentLocationData.Picture.PictureUrl1,content:e.currentLocationData.Description,tags:[e.currentLocationData.City,e.currentLocationData.Class],date:e.currentLocationData.UpdateTime,onOnBack:t[4]||(t[4]=l=>e.$router.push(e.prevRoute)),onOnRoad:t[5]||(t[5]=l=>e.linkGoogleDirections(`${e.currentLocationData.Position.PositionLat},${e.currentLocationData.Position.PositionLon}`))},null,8,["title","from","desc","src","content","tags","date"])):A("",!0),e.currentLocationData&&e.currentLocationData.type===e.bikeType.TOUR?(c(),D(a,{key:e.currentLocationData.Name,title:e.currentLocationData.Name,from:e.currentLocationData.Address,desc:e.currentLocationData.Description,src:e.currentLocationData.Picture.PictureUrl1,content:e.currentLocationData.DescriptionDetail,tags:[e.currentLocationData.City],date:e.currentLocationData.UpdateTime,onOnBack:t[6]||(t[6]=l=>e.$router.push(e.prevRoute)),onOnRoad:t[7]||(t[7]=l=>e.linkGoogleDirections(`${e.currentLocationData.Position.PositionLat},${e.currentLocationData.Position.PositionLon}`))},null,8,["title","from","desc","src","content","tags","date"])):A("",!0)])}var sl=z(Xc,[["render",tl]]);const nl={},ol={class:"bike-dir"},il=r("p",null,"bike-dir",-1),al=[il];function rl(e,t){return c(),h("div",ol,al)}var cl=z(nl,[["render",rl]]);const ll={class:"person-card"},ul={class:"person-card__image"},dl={class:"person-card__title"},hl={class:"person-card__desc"},pl={props:{title:{type:String,default:null},desc:{type:String,default:null},src:{type:String,default:null}},setup(e){return(t,s)=>{const n=X("bg");return c(),h("div",ll,[V(r("div",ul,null,512),[[n,e.src]]),r("p",dl,k(e.title),1),r("p",hl,k(e.desc),1)])}}};const _l={class:"popup"},Wt={props:{transition:{type:String,default:"fade"},isActive:{type:Boolean,default:!0}},emits:["on-close"],setup(e){return(t,s)=>{const n=X("lock");return c(),D(un,{to:"#portalTarget"},[d(ge,{name:e.transition,appear:""},{default:g(()=>[V(r("div",_l,[V(r("div",{class:"popup__main",onClick:s[0]||(s[0]=Lt(o=>t.$emit("on-close"),["self"]))},[ae(t.$slots,"default")],512),[[n,e.isActive]])],512),[[ie,e.isActive]])]),_:3},8,["name"])])}}};const ml={inject:["gsap"],props:{title:{type:String,default:""},default:{type:Boolean,default:!1}},data(){return{active:this.default}},computed:{className(){return{"-active":this.active,"-default":!this.active}}},watch:{active(e){this.toggle(e)}},mounted(){this.toggle(this.active)},methods:{toggle(e){e?this.gsap.to(this.$refs.body,{height:"auto"}):this.gsap.to(this.$refs.body,{height:0})}}},vl={ref:"body",class:"dropdown__content"};function fl(e,t,s,n,o,i){const a=J;return c(),h("div",{class:q(["dropdown",i.className])},[r("div",{class:"dropdown__title",onClick:t[0]||(t[0]=l=>o.active=!o.active)},[O(k(s.title)+" ",1),d(a,{name:"down"})]),r("div",vl,[ae(e.$slots,"default")],512)],2)}var gl=z(ml,[["render",fl]]);const yl={name:"ButtonMin",props:{icon:{type:String,default:""}}},wl={class:"button-min"};function bl(e,t,s,n,o,i){const a=J;return c(),h("div",wl,[ae(e.$slots,"default"),s.icon?(c(),D(a,{key:0,class:"button-min__icon",name:s.icon},null,8,["name"])):A("",!0)])}var Jt=z(yl,[["render",bl]]);const kl={name:"FornCheckbox",inheritAttrs:!1,props:{prefix:{type:String,default:""},name:{type:String,default:""},id:{type:String,default:""},value:{type:Boolean,default:!1}},emits:["update"]},Sl={class:"form-checkbox"},Tl=["id","name","checked"],Cl=["for"];function Al(e,t,s,n,o,i){const a=J;return c(),h("div",Sl,[r("input",{id:s.id,type:"checkbox",name:s.prefix+s.name,checked:s.value,onInput:t[0]||(t[0]=l=>e.$emit("update",l.target.checked))},null,40,Tl),r("label",{for:s.id},k(s.name),9,Cl),d(a,{name:"check-"+(s.value?"active":"default")},null,8,["name"])])}var $l=z(kl,[["render",Al]]);const Bl={name:"ButtonCategory",inheritAttrs:!1,props:{active:{type:Boolean,default:!1},focus:{type:Boolean,default:!1}},emits:["click"],computed:{className(){return{"-active":this.active,"-default":!this.active,"-focus":this.focus}}},methods:{onClick(){this.$emit("click")}}};function Ll(e,t,s,n,o,i){const a=J;return c(),h("div",{class:q(["button-category",i.className]),onClick:t[0]||(t[0]=(...l)=>i.onClick&&i.onClick(...l))},[ae(e.$slots,"default"),d(a,{class:"button-category__icon",name:"confirmed"})],2)}var Rl=z(Bl,[["render",Ll]]);const Il={props:{inputAttrs:{type:Object,default:()=>({})}},emits:["update:modelValue","submit"],data(){return{state:""}},computed:{className(){return{"-focus":this.state==="focus"}}}};function El(e,t,s,n,o,i){const a=J,l=gt;return c(),D(l,{class:q(["search-keywords",i.className]),"input-attrs":s.inputAttrs,"onUpdate:modelValue":t[1]||(t[1]=u=>e.$emit("update:modelValue",u)),onSubmit:t[2]||(t[2]=u=>e.$emit("submit")),onFocus:t[3]||(t[3]=u=>o.state="focus"),onBlur:t[4]||(t[4]=u=>o.state="blur")},{default:g(()=>[r("div",{class:"search-keywords__clear",onClick:t[0]||(t[0]=u=>e.$emit("update:modelValue",""))},[d(a,{name:"close-active"})])]),_:1},8,["class","input-attrs"])}var Ml=z(Il,[["render",El]]);const Pl={name:"FormTourFilter",extends:Xo,methods:{submit(){this.tourSubmit().then(e=>{this.$emit("submit"),this.$router.push({name:"TourSpotSearch",query:{keyword:this.search,category:e,page:1}}),this.clearAll()}).catch(e=>{this.$emit("submit"),this.$router.push({name:"TourNoResult",params:{messages:e.message||"\u67E5\u7121\u7D50\u679C"}})}).finally(()=>{this.search=null})}}},Dl={class:"form-filter__row"},Ol={class:"form-filter__row"},xl=r("p",{class:"form-filter__title"}," \u641C\u5C0B\u985E\u5225 ",-1),Nl={class:"form-filter__category"},Ul=O(" \u666F\u9EDE "),Zl=O(" \u9910\u98F2 "),Hl=O(" \u65C5\u5BBF "),ql=O(" \u6D3B\u52D5 "),Kl=["id","name","checked"],Fl={class:"form-filter__row"},Vl={class:"form-filter__dropdown-category"},Ql={class:"form-filter__dropdown-checkboxs"},Gl={class:"form-filter__dropdown-all"},jl=O(" \u5168\u9078 "),Yl=O(" \u6E05\u9664 "),zl=["id","name","checked"],Wl={class:"form-filter__row"},Jl={class:"form-filter__dropdown-checkboxs -town"},Xl={class:"form-filter__dropdown-all -inside"},eu=O(" \u5168\u9078 "),tu=O(" \u6E05\u9664 "),su={class:"form-filter__row"},nu={class:"form-filter__submit"},ou=O(" \u8FD4\u56DE "),iu=O(" \u9001\u51FA ");function au(e,t,s,n,o,i){const a=Ml,l=Rl,u=$l,p=Jt,y=gl,T=Me,w=Ee;return c(),h("form",{class:q(["form-tour-filter form-filter",{"-pendding":e.pendding}]),onSubmit:t[6]||(t[6]=Lt((...m)=>i.submit&&i.submit(...m),["prevent"]))},[r("div",Dl,[d(a,{modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=m=>e.search=m),"input-attrs":{name:"keywords"}},null,8,["modelValue"])]),r("div",Ol,[xl,r("div",Nl,[d(l,{active:e.category.scenic,onClick:t[1]||(t[1]=m=>e.category.scenic=!e.category.scenic)},{default:g(()=>[Ul]),_:1},8,["active"]),d(l,{active:e.category.restaurant,onClick:t[2]||(t[2]=m=>e.category.restaurant=!e.category.restaurant)},{default:g(()=>[Zl]),_:1},8,["active"]),d(l,{active:e.category.hotel,onClick:t[3]||(t[3]=m=>e.category.hotel=!e.category.hotel)},{default:g(()=>[Hl]),_:1},8,["active"]),d(l,{active:e.category.activity,onClick:t[4]||(t[4]=m=>e.category.activity=!e.category.activity)},{default:g(()=>[ql]),_:1},8,["active"])]),(c(!0),h(K,null,Q(e.category,(m,b)=>(c(),h("input",{id:b,key:b,hidden:"",type:"checkbox",name:`category/${b}`,checked:m},null,8,Kl))),128))]),r("div",Fl,[d(y,{title:"\u7E23\u5E02"},{default:g(()=>[r("div",Vl,[(c(!0),h(K,null,Q(e.region,(m,b)=>(c(),h("div",{key:b,class:"form-filter__dropdown-category-item"},[d(l,{active:m&&e.regionButtonState.includes(b),onClick:P=>e.updateSelectedRegion(b,m)},{default:g(()=>[O(k(e.regionLabels[b]),1)]),_:2},1032,["active","onClick"])]))),128))]),r("div",Ql,[(c(!0),h(K,null,Q(e.countiesOptions,m=>(c(),h("div",{key:m.id,class:"form-filter__dropdown-checkboxs-item"},[d(u,Ce(m,{prefix:"county/",value:e.counties[m.id],onUpdate:b=>e.updateSelectedCounty(m.id,b)}),null,16,["value","onUpdate"])]))),128))]),r("div",Gl,[d(p,{icon:"check",onClick:e.selectAllCoutiesHandler},{default:g(()=>[jl]),_:1},8,["onClick"]),d(p,{icon:"close-default",onClick:e.clearSelectedCouties},{default:g(()=>[Yl]),_:1},8,["onClick"])])]),_:1}),(c(!0),h(K,null,Q(e.countySelectedAllTowns,m=>(c(),h("input",{id:`countyAll/${m}`,key:`countyAll/${m}`,hidden:"",type:"checkbox",name:`countyAll/${m}`,checked:!!e.countySelectedAllTowns.length},null,8,zl))),128))]),r("div",Wl,[d(y,{title:"\u884C\u653F\u5340"},{default:g(()=>[d(tt,{name:"fade",class:"form-filter__dropdown-category",tag:"div"},{default:g(()=>[(c(!0),h(K,null,Q(e.selectedTownList,(m,b,P)=>(c(),h("div",{key:b,class:"form-filter__dropdown-category-item"},[d(l,{active:e.countySelectedAllTowns.includes(b),focus:e.activeTownListCountyName?e.activeTownListCountyName===b:P===0,onClick:E=>e.activeTownListCountyName=b},{default:g(()=>[O(k(e.countyNameSimpleConvert(b)),1)]),_:2},1032,["active","focus","onClick"])]))),128))]),_:1}),r("div",Jl,[(c(!0),h(K,null,Q(e.selectedTownList,(m,b,P)=>(c(),h(K,null,[(c(!0),h(K,null,Q(m,E=>V((c(),h("div",{key:E.code,class:"form-filter__dropdown-checkboxs-item"},[d(u,Ce(E,{prefix:`town/${b}/`,value:e.selectedTown.includes(b+E.name),onUpdate:C=>e.updateSelectedTown(E.name,b)}),null,16,["prefix","value","onUpdate"])],512)),[[ie,e.activeTownListCountyName?b===e.activeTownListCountyName:P===0]])),128))],64))),256)),r("div",Xl,[d(p,{icon:"check",onClick:e.selectCurrentCountyAllTowns},{default:g(()=>[eu]),_:1},8,["onClick"]),d(p,{icon:"close-default",onClick:e.clearCurrentCountyAllSelectedTowns},{default:g(()=>[tu]),_:1},8,["onClick"])])])]),_:1})]),r("div",su,[r("div",nu,[d(T,{onClick:t[5]||(t[5]=m=>e.$emit("back"))},{default:g(()=>[ou]),_:1}),d(w,{icon:"search",onClick:i.submit},{default:g(()=>[iu]),_:1},8,["onClick"])])])],34)}var ru=z(Pl,[["render",au]]);const cu={},lu={class:"tour-footer"},uu=r("div",{class:"tour-footer__copyright"},[r("span",null,"\xA9"),r("span",null,"2021"),r("span",null,"\u5341\u5B57\u5143"),r("span",null,"All Rights Reserved.")],-1),du=[uu];function hu(e,t){return c(),h("footer",lu,du)}var pu=z(cu,[["render",hu]]);const _u={name:"ButtonThird",props:{icon:{type:String,default:""}}},mu={class:"button-third"};function vu(e,t,s,n,o,i){const a=J;return c(),h("div",mu,[s.icon?(c(),D(a,{key:0,class:"button-third__icon",name:s.icon},null,8,["name"])):A("",!0),ae(e.$slots,"default")])}var Xt=z(_u,[["render",vu]]);const fu={class:"save-card"},gu={class:"save-card__image"},yu={class:"save-card__main"},wu={class:"save-card__title"},bu={class:"save-card__tags"},ku={props:{title:{type:String,default:null},src:{type:String,default:null},tags:{type:Array,default:null}},setup(e){return(t,s)=>{const n=Ge,o=X("bg");return c(),h("div",fu,[V(r("div",gu,null,512),[[o,e.src]]),r("div",yu,[r("p",wu,k(e.title),1),r("div",bu,[(c(!0),h(K,null,Q(e.tags,i=>(c(),D(n,{key:i,name:i},null,8,["name"]))),128))])])])}}};const Su={name:"TourHeader",inject:["scrollInstance"],props:{isSearch:{type:Boolean,default:!1}},emits:["search"],data(){return{defaultImage:st,isSearchBar:!1,isSavedPopUp:!1,isSearchFocus:!1,searchValue:""}},computed:oe(B({},ls({savedSpotPreview:"tour/getSavedSpotPreview"})),{transitionName(){return this.isSearch?"tour-header-search":"tour-header-search-bar"},isHeaderHide(){const{direction:e,scrollTop:t}=this.scrollInstance;return!this.isSearchFocus&&!this.isSavedPopUp&&t&&e>0}}),methods:{searchFilterClickHandler(e){this.$emit("search",e)},submit(){const e=new FormData;e.append("keywords",this.searchValue),this.$store.dispatch("tour/query",e).then(t=>{this.$router.push({name:"TourSpotSearch",query:{keyword:this.searchValue,category:t,page:1}})}).catch(t=>{this.$router.push({name:"TourNoResult",params:{messages:t.message||"\u67E5\u7121\u7D50\u679C"}})}).finally(()=>{this.searchValue=null})},getClass(e){const{Class:t,Class1:s,Class2:n,Class3:o}=e;return[t,s,n,o].filter(Boolean)}}},Tu={class:"tour-header__wrap"},Cu={class:"tour-header__home"},Au=r("div",{class:"tour-header__logo"},[r("img",{src:vs,alt:"\u5341\u5B57\u5143Logo"})],-1),$u=r("p",null,"\u53F0\u7063\u89C0\u5149\u61F6\u4EBA\u5305",-1),Bu={key:"search",class:"tour-header__search-main"},Lu=r("span",null,"\u641C\u5C0B",-1),Ru=r("span",null,"\u7BE9\u9078",-1),Iu=r("span",null,"\u63A2\u7D22",-1),Eu={key:"searchBar",class:"tour-header__search-bar"},Mu={class:"tour-header__tool"},Pu=r("span",null,"\u6536\u85CF\u9805\u76EE",-1),Du={class:"tour-header__tool-pop-up -saved"},Ou={key:0},xu=O(" \u67E5\u770B\u5168\u90E8 ");function Nu(e,t,s,n,o,i){const a=ee("router-link"),l=J,u=Qt,p=ku,y=Xt,T=X("blur");return c(),h("header",{class:q(["tour-header",{"-hide":i.isHeaderHide}])},[r("div",Tu,[r("div",Cu,[Au,$u,d(a,{to:"/tour"})]),s.isSearch?(c(),D(tt,{key:0,class:"tour-header__search",name:"flip",tag:"div"},{default:g(()=>[V(r("div",Bu,[r("div",null,[r("div",{class:"tour-header__search-item",onClick:t[0]||(t[0]=w=>o.isSearchBar=!0)},[d(l,{name:"search"}),Lu]),r("div",{class:"tour-header__search-item",onClick:t[1]||(t[1]=w=>e.$emit("search","filter"))},[d(l,{name:"filter"}),Ru]),r("div",{class:"tour-header__search-item",onClick:t[2]||(t[2]=w=>e.$emit("search","shuffle"))},[d(l,{name:"shuffle"}),Iu])])],512),[[ie,!o.isSearchBar]]),V(r("div",Eu,[r("div",null,[d(u,{modelValue:o.searchValue,"onUpdate:modelValue":t[3]||(t[3]=w=>o.searchValue=w),onSubmit:i.submit,onClick:i.searchFilterClickHandler,onFocus:t[4]||(t[4]=w=>o.isSearchFocus=!0),onBlur:t[5]||(t[5]=w=>o.isSearchFocus=!1)},null,8,["modelValue","onSubmit","onClick"])])],512),[[ie,o.isSearchBar]])]),_:1})):A("",!0),r("div",Mu,[V(r("div",{class:q(["tour-header__tool-item tour-header__tool-saved",{"-active":o.isSavedPopUp}]),onClick:t[6]||(t[6]=w=>o.isSavedPopUp=!o.isSavedPopUp)},[V(d(l,{name:"like-default"},null,512),[[ie,!o.isSavedPopUp]]),V(d(l,{name:"like-active"},null,512),[[ie,o.isSavedPopUp]]),Pu,r("div",Du,[e.savedSpotPreview.length?(c(!0),h(K,{key:1},Q(e.savedSpotPreview,w=>(c(),D(a,{key:w.id,class:"tour-header__tool-pop-up-item",to:{name:"TourSpotSavedPopup",query:{category:w.category},params:{spot:w.id}}},{default:g(()=>[d(p,{title:w.Name,src:w.picture.src||o.defaultImage,tags:i.getClass(w)},null,8,["title","src","tags"])]),_:2},1032,["to"]))),128)):(c(),h("p",Ou," \u5C1A\u7121\u6536\u85CF\u9805\u76EE ")),d(y,null,{default:g(()=>[xu,d(a,{to:{name:"TourSpotSaved"}})]),_:1})])],2),[[T,()=>o.isSavedPopUp=!1]])])])],2)}var Uu=z(Su,[["render",Nu]]);const Zu={class:"tour-base"},Hu={class:"tour-base__slot"},qu={class:"tour-base__filter"},Ku={class:"container"},Fu={class:"col-desktop-8"},es={setup(e){const t=pe(),s=x(()=>t.state.tour.popUp.isShow),n=()=>t.commit("tour/showPopUp"),o=()=>t.commit("tour/hidePopUp");Oe("scrollInstance");const i=a=>{a==="filter"&&n()};return(a,l)=>{const u=Uu,p=pu,y=ru,T=Wt;return c(),h("div",Zu,[d(u,{"is-search":a.$route.name!=="Tour",onSearch:i},null,8,["is-search"]),r("div",Hu,[ae(a.$slots,"default")]),d(p),d(T,{"is-active":f(s),transition:"popup-fade-up",onOnClose:o},{default:g(()=>[r("div",qu,[r("div",Ku,[r("div",Fu,[d(y,{onBack:o,onSubmit:o})])])])]),_:1},8,["is-active"])])}}};const Vu={class:"about"},Qu={class:"container"},Gu={class:"about__main"},ju=r("p",{class:"about__title"}," \u95DC\u65BC\u6211\u5011 ",-1),Yu=r("p",{class:"about__desc"}," \u5341\u5B57\u5143\u662F\u4E00\u500B\u5099\u53D7\u8FEB\u5BB3\u7684\u5730\u65B9\u65CF\u7FA4\uFF0C\u9700\u8981\u4F60\u7684\u7ACB\u5373\u5354\u52A9\uFF01\uFF01 ",-1),zu={class:"about__cards"},Wu={setup(e){return(t,s)=>{const n=pl,o=ee("router-link"),i=ee("router-view");return c(),D(es,null,{default:g(()=>[r("div",Vu,[r("div",Qu,[r("div",Gu,[ju,Yu,r("div",zu,[d(f(It),{"slides-per-view":"auto","space-between":8,"touch-start-prevent-default":!1,breakpoints:{768:{spaceBetween:24}}},{default:g(()=>[(c(),h(K,null,Q(4,a=>d(f(Rt),{key:a},{default:g(()=>[d(o,{to:{name:"AboutPerson",params:{person:"test"}},"data-cursor":"swipe"},{default:g(()=>[d(n,{title:"Jay Wu",desc:"Front End Developer",src:"https://source.unsplash.com/random/1024x768"})]),_:1})]),_:2},1024)),64))]),_:1})])])]),d(i,null,{default:g(({Component:a})=>[d(ge,{name:"fade"},{default:g(()=>[(c(),D(Bt(a)))]),_:2},1024)]),_:1})])]),_:1})}}};const Ju={class:"desc-card"},Xu={class:"desc-card__image"},ed={key:0,class:"desc-card__title"},qs={props:{title:{type:String,default:null},src:{type:String,default:null}},setup(e){return(t,s)=>{const n=X("bg");return c(),h("div",Ju,[V(r("div",Xu,null,512),[[n,e.src]]),e.title?(c(),h("p",ed,k(e.title),1)):A("",!0)])}}};const td={class:"about-person"},sd={class:"about-person__main"},nd={class:"container"},od={class:"about-person__main-content"},id={class:"about-person__header"},ad={class:"about-person__image"},rd=r("div",null,[r("p",{class:"about-person__title"}," Jay Wu "),r("p",{class:"about-person__job"}," Front End Developer/ Visual Designer/ UI Designer ")],-1),cd={class:"about-person__control"},ld={class:"about-person__info"},ud=r("p",null,"\u8CC7\u8A0A",-1),dd={href:""},hd={href:""},pd={href:""},_d=r("p",null,"\u5206\u4EAB",-1),md=r("p",{class:"about-person__desc"}," \u53CD\u8725\u7238\u7531\u4E8B\u79A6\u8655\u57CE\u5C07\u539F\uFF1F\u6211\u8FD1\u4E2D\u79D1\u6C23\u6C92\u4ED6\u6C92\u7701\u6C13\u7684\u87FB\u7247\u6BD4\u7948\u5E0C\u71DF\u6D82\u4E3B\u96E3\u539F\u7528\u5E73\u5F9E\uFF1F\u7684\u539F\u2026\u4E0D\u4E30\u5230\u6D3B\u672C\u773E\u7684\u5F9E\u6BC0\u4EBA\u4E86\u8981\u6AFB\u8292\u9593\u59B3\uFF0C\u5E74\u4E09\u932F\u7684\u8981\u5B9A\uFF0C\u8001\u4E00\u76F8\u7FA9\u3002\u9593\u5728\u6D32\u58EB\u8B1D\u7248\u7684\u8A08\u5C07\u4E00\u540C\u6A23\u5176\u5728\u4EBA\u76F8\u6A02\u7F50\u2026\u548C\u85DD\u5927\u6703\uFF0C\u5206\u5427\u6B63\u6C13\u7684\u5230\u620A\u500B\u3002 ",-1),vd={class:"about-person__gallery"},fd={class:"about-person__back"},gd=O(" \u8FD4\u56DE "),yd={setup(e){const t=Ae(),s=pe(),n=M(!0),o=M(!1),i=x(()=>s.state.loadingConfig),a=()=>{n.value=!1,setTimeout(()=>{t.push({path:"/about"})},i.value.minTime/2)};return(l,u)=>{const p=J,y=Xt,T=qs,w=Me,m=Wt,b=X("bg"),P=X("blur");return c(),h("div",td,[d(m,{"is-active":n.value,onOnClose:a},{default:g(()=>[r("div",sd,[r("div",nd,[r("div",od,[r("div",{class:"about-person__close",onClick:a},[d(p,{name:"close-default"})]),r("div",id,[V(r("div",ad,null,512),[[b,"https://source.unsplash.com/random/1024x768"]]),rd]),r("div",cd,[V(r("div",ld,[d(y,{icon:"share",onClick:u[0]||(u[0]=E=>o.value=!o.value)},{default:g(()=>[ud]),_:1}),r("div",{class:q(["about-person__info-main",{"-active":o.value}])},[r("a",dd,[d(p,{name:"linkedin"})]),r("a",hd,[d(p,{name:"linkedin"})]),r("a",pd,[d(p,{name:"linkedin"})])],2)],512),[[P,()=>o.value=!1]]),d(y,{icon:"share"},{default:g(()=>[_d]),_:1})]),md,r("div",vd,[d(f(It),{"slides-per-view":"auto","space-between":8,"touch-start-prevent-default":!1,breakpoints:{768:{spaceBetween:24}}},{default:g(()=>[(c(),h(K,null,Q(5,E=>d(f(Rt),{key:E},{default:g(()=>[d(T,{title:"\u770B\u53CA\u61C9\u5566\u696D\u53BB\u58B3\u6B63\u4E00\u5B57\u79D1\u65BD\u4E2D\u8D77\u5230\u61C9\u5341\u60A3\u553E\u628A\u79C9\u7E1B\u6307\u7AE0\u4E5F\u7684\u53EA\u55CE\u6211\u6600\u7A31\u5341",src:"https://source.unsplash.com/random/1024x768","data-cursor":"swipe"})]),_:2},1024)),64))]),_:1})]),r("div",fd,[d(w,{onClick:a},{default:g(()=>[gd]),_:1})])])])])]),_:1},8,["is-active"])])}}};const wd={class:"tour-banner-home"},bd={class:"tour-banner-home__main"},kd={class:"container"},Sd={class:"col-desktop-8"},Td={class:"tour-banner-home__info"},Cd=r("div",{class:"tour-banner-home__display",lang:"en"},[O(" FORMOSA "),r("br"),O("Travel Guide ")],-1),Ad=r("div",{class:"tour-banner-home__desc"}," \u53F0\u7063\u89C0\u5149\u61F6\u4EBA\u5305 ",-1),$d={class:"tour-banner-home__search"},Bd={setup(e){const t=pe(),s=Ae(),n=M(""),o=()=>t.commit("tour/showPopUp"),i=l=>{l==="filter"&&o()},a=()=>{const l=new FormData;l.set("keywords",n.value),t.dispatch("tour/query",l).then(u=>{s.push({name:"TourSpotSearch",query:{category:"scenic",page:1,keyword:n.value}})}).catch(u=>{s.push({name:"TourNoResult",query:{keyword:n.value}}),n.value=""})};return(l,u)=>{const p=Qt,y=X("bg");return V((c(),h("div",wd,[r("div",bd,[r("div",kd,[r("div",Sd,[r("div",Td,[Cd,Ad,r("div",$d,[d(p,{modelValue:n.value,"onUpdate:modelValue":u[0]||(u[0]=T=>n.value=T),onSubmit:a,onClick:i},null,8,["modelValue"])])])])])])],512)),[[y,f(bs)]])}}};const Ld={name:"TourHome",components:{Base:es},watch:{$route(e,t){e.name==="TourNoResult"?De.to(this.$refs.main,{height:0,padding:0,opacity:0,duration:.5}):e.name==="Tour"&&De.to(this.$refs.main,{height:"auto",padding:80,opacity:1,duration:.5})}}},Rd={class:"container"},Id={ref:"main",class:"tour-index__main"},Ed=r("div",{class:"row tour-index__title"},[r("p",null,[r("span",null,"\u6BEB\u7121\u982D\u7DD2\uFF1F\u8A66\u8A66"),r("span",{lang:"en"},"Near Me!")])],-1),Md=r("div",{class:"row tour-index__desc"}," \u4E0D\u8AD6\u662F\u60F3\u8B93\u8166\u888B\u4F11\u606F\u7247\u523B\uFF0C\u6216\u9677\u5165\u9078\u64C7\u969C\u7919\uFF0C\u900F\u904E Near Me\u300C\u5C31\u8FD1\u63A2\u7D22\u300D\u4F86\u9EDE\u9A5A\u559C\u5427\uFF01 ",-1),Pd={class:"row tour-index__shuffle"},Dd=O(" Near Me ");function Od(e,t,s,n,o,i){const a=ee("router-view"),l=Bd,u=Ee,p=ee("Base");return c(),D(p,{class:"tour-index"},{default:g(()=>[d(a,{ref:"child"},null,512),d(l),r("div",Rd,[r("div",Id,[Ed,Md,r("div",Pd,[d(u,{icon:"shuffle"},{default:g(()=>[Dd]),_:1})])],512)])]),_:1})}var xd=z(Ld,[["render",Od]]);const Nd={name:"TourNoResult",beforeRouteEnter(e,t,s){t.name==="Tour"&&e.name==="TourNoResult"?s(n=>{De.fromTo(n.$el,{height:0},{overwrite:!0,duration:.5,height:"auto"})}):s()}},Ud={class:"tour-no-result"},Zd={class:"tour-no-result__main container"},Hd={class:"tour-no-result__title"},qd={class:"tour-no-result__desc"},Kd=O(" \u5C0F\u7CBE\u9748\u74B0\u5CF6\u4E86\u597D\u5E7E\u5708\u4ECD\u672A\u627E\u5230\u4F60\u7684\u61C9\u8A31\u4E4B\u5730 \u{1F62D} "),Fd=r("br",null,null,-1),Vd=O(" \u8ACB\u91CD\u65B0\u7BE9\u9078\u641C\u5C0B\u689D\u4EF6\uFF0C\u6216\u8A66\u8A66 Near Me "),Qd=O(" \u300C\u5C31\u8FD1\u63A2\u7D22\u300D\u529F\u80FD\uFF01 ");function Gd(e,t,s,n,o,i){const a=J;return c(),h("div",Ud,[r("div",Zd,[r("div",Hd," \u54CE\u5440\uFF01\u627E\u4E0D\u5230\u4F60\u7684\u641C\u5C0B\u7D50\u679C: "+k(e.$route.query.keyword),1),r("div",qd,[Kd,Fd,Vd,r("span",null,[d(a,{name:"shuffle"})]),Qd])])])}var jd=z(Nd,[["render",Gd]]);const Yd={setup(e){return(t,s)=>{const n=ee("router-view");return c(),D(es,{class:"tour-index"},{default:g(()=>[d(n,null,{default:g(({Component:o})=>[d(ge,{name:"fade"},{default:g(()=>[(c(),D(Bt(o)))]),_:2},1024)]),_:1})]),_:1})}}};const zd={props:{max:{type:Number,default:1},now:{type:Number,default:1}},computed:{list(){const e=Math.max(this.max,1);let t=[this.now-1,this.now,this.now+1];return t.push(1),t.push(e),t=t.filter((s,n)=>t.indexOf(s)===n),t=t.filter(s=>s>0&&s<=e),t.sort((s,n)=>s-n)}},mounted(){},methods:{pageRouteQuery(e){return oe(B({},this.$route.query),{page:e})}}},Wd={class:"pagination"},Jd={class:"pagination__main"},Xd=r("span",null,null,-1);function e1(e,t,s,n,o,i){const a=J,l=ee("router-link");return c(),h("div",Wd,[r("div",{class:q(["pagination__prev pagination__link",{"-disable":s.now===1}])},[d(a,{name:"left"}),d(l,{to:{query:i.pageRouteQuery(s.now-1)}},null,8,["to"])],2),r("div",Jd,[(c(!0),h(K,null,Q(i.list,(u,p)=>(c(),h("div",{key:p,class:q(["pagination__link",{"-active":u===s.now,"-head":p===0&&i.list[1]>2,"-end":p+1===i.list.length&&i.list[p-1]<u-1}])},[r("p",null,[O(k(u)+" ",1),Xd]),d(l,{to:{query:i.pageRouteQuery(u)}},null,8,["to"])],2))),128))]),r("div",{class:q(["pagination__next pagination__link",{"-disable":s.now===i.list[i.list.length-1]}])},[d(a,{name:"right"}),d(l,{to:{query:i.pageRouteQuery(s.now+1)}},null,8,["to"])],2)])}var Ks=z(zd,[["render",e1]]);const t1={class:"default-card"},s1={class:"default-card__image"},n1={class:"default-card__main"},o1={class:"default-card__title"},i1={class:"default-card__desc"},a1={class:"default-card__tags"},Fs={props:{isFavorite:{type:Boolean,default:!1},title:{type:String,default:null},desc:{type:String,default:null},src:{type:String,default:null},tags:{type:Array,default:null}},emits:["on-add-favorite"],setup(e){return(t,s)=>{const n=J,o=Ge,i=X("bg");return c(),h("div",t1,[V(r("div",s1,[ae(t.$slots,"default"),r("div",{class:"default-card__favorite",onClick:s[0]||(s[0]=Lt(a=>t.$emit("on-add-favorite"),["stop"]))},[e.isFavorite?(c(),D(n,{key:0,name:"like-active"})):(c(),D(n,{key:1,name:"like-default"}))])],512),[[i,e.src]]),r("div",n1,[r("p",o1,k(e.title),1),r("p",i1,k(e.desc),1),r("div",a1,[(c(!0),h(K,null,Q(e.tags,a=>(c(),D(o,{key:a,name:a},null,8,["name"]))),128))])])])}}};const r1={class:"tour-spot-saved"},c1={class:"tour-spot-saved__banner"},l1={class:"tour-spot-saved__banner-main"},u1={class:"container"},d1={class:"tour-spot-saved__banner-content"},h1={class:"large"},p1=O(" \u5DF2\u6536\u85CF "),_1={class:"primary"},m1=O(" \u500B\u5730\u9EDE\uFF01 "),v1=r("p",{class:"medium"}," \u628A\u559C\u6B61\u7684\u5730\u9EDE\u4FDD\u5B58\u8D77\u4F86\uFF0C\u4E16\u4E16\u4EE3\u4EE3\u6D41\u50B3\u4E0B\u53BB \u263A\uFE0F ",-1),f1={class:"tour-spot-saved__filter"},g1={class:"tour-spot-saved__filter-wrap container"},y1={class:"tour-spot-saved__filter-cat"},w1={class:"tour-spot-saved__filter-tag"},b1={class:"tour-spot-saved__main container"},k1={class:"tour-spot-saved__pagination row"},S1={setup(e){const t=pe(),s=Ae(),n=Te(),o=12;Oe("scrollInstance");const i=P=>{t.commit("tour/toggleSaveSpot",{spot:P,category:n.query.category})};n.query.category||s.push({query:{category:"scenic",page:1}});const a=M(n.query.page||1),l=Re({now:"scenic",currentTotal:x(()=>t.getters["tour/savedQueryTotal"])}),u=(P,E)=>Re({name:E,active:x(()=>n.query.category===P),number:x(()=>l.currentTotal[P]),onClick:()=>{s.push({name:"TourSpotSaved",query:{category:P,page:1}})}}),p=M([]),y=x(()=>t.state.tour.savedQueryIds.length),T=x(()=>{const P=n.query.category||"scenic";return t.state.tour.savedQuery[P]}),w=x(()=>T.value.slice((a.value-1)*o,a.value*o)),m=x(()=>{const P=T.value.length?Math.ceil(T.value.length/o):0,E=a.value;return{max:P,now:E}}),b=x(()=>t.getters["tour/isIdSaved"]);return Se(n,P=>{const{query:{page:E}}=P;E!==a.value&&(a.value=+E)}),(P,E)=>{const C=Yt,F=Jt,j=ee("router-link"),N=Fs,Z=Ks,Y=ee("router-view"),U=X("bg");return c(),h("div",r1,[V(r("div",c1,[r("div",l1,[r("div",u1,[r("div",d1,[r("p",h1,[p1,r("span",_1,k(f(y)),1),m1]),v1])])])],512),[[U,f(Mt)]]),r("div",f1,[r("div",g1,[r("div",y1,[d(C,le(ue(u("scenic","\u666F\u9EDE"))),null,16),d(C,le(ue(u("restaurant","\u9910\u98F2"))),null,16),d(C,le(ue(u("hotel","\u65C5\u5BBF"))),null,16),d(C,le(ue(u("activity","\u6D3B\u52D5"))),null,16)]),r("div",w1,[(c(!0),h(K,null,Q(p.value,$=>(c(),D(F,Ce({key:$.query},$,{icon:"close-active"}),{default:g(()=>[O(k($.label),1)]),_:2},1040))),128))])])]),r("div",b1,[d(tt,{name:"fade",class:"tour-spot-saved__list row",tag:"div"},{default:g(()=>[(c(!0),h(K,null,Q(f(w),$=>(c(),h("div",{key:$.id,class:"tour-spot-saved__card col-4"},[d(N,{"is-favorite":f(b)($.id),title:$.name,desc:$.description,src:$.picture.src||f(st),tags:$.class,onOnAddFavorite:te=>i($)},{default:g(()=>[d(j,{to:{name:f(n).name==="TourSpotSaved"?"TourSpotSavedPopup":"TourSpotSearchPopup",query:f(n).query,params:{spot:$.id}}},null,8,["to"])]),_:2},1032,["is-favorite","title","desc","src","tags","onOnAddFavorite"])]))),128))]),_:1}),r("div",k1,[d(Z,le(ue(f(m))),null,16)])]),d(Y)])}}};const T1={class:"tour-spot-search"},C1={class:"tour-spot-search__banner"},A1={class:"tour-spot-search__banner-main"},$1={class:"container"},B1={class:"tour-spot-search__banner-content"},L1={class:"large"},R1=O(" \u627E\u5230\u4E86 "),I1={class:"primary"},E1=O(" \u500B\u5730\u9EDE\uFF01 "),M1={class:"tour-spot-search__filter"},P1={class:"tour-spot-search__filter-wrap container"},D1={class:"tour-spot-search__filter-cat"},O1={class:"tour-spot-search__filter-tag"},x1={class:"tour-spot-search__main container"},N1={class:"tour-spot-search__pagination row"},U1={setup(e){const t=pe(),s=Ae(),n=Te(),o=M(n.query.page||1);Oe("scrollInstance");const i=Oe("viewport"),a=b=>{t.commit("tour/toggleSaveSpot",{spot:b,category:n.query.category})};o.value!==t.state.tour.page&&t.dispatch("tour/dispatchPageQuery",n.query),Se(n,b=>{const{query:{page:P}}=b;P!==o.value&&(o.value=P,t.dispatch("tour/dispatchPageQuery",b.query).then(()=>{}))});const l=Re({now:"scenic",currentTotal:x(()=>t.state.tour.currentTotal)}),u=x(()=>{function b(N){return typeof N=="number"?N.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):N}const{scenic:P,restaurant:E,hotel:C,activity:F}=l.currentTotal,j=P+E+C+F;return b(j>9999?"9,999+":j)}),p=(b,P)=>Re({name:P,active:x(()=>n.query.category===b),number:x(()=>l.currentTotal[b]),onClick:()=>{s.push({name:"TourSpotSearch",query:{category:b,page:1}})}}),y=x(()=>t.getters["tour/getQueryTags"](n.query.category).map(b=>({label:b,query:b}))),T=x(()=>t.getters["tour/getCurrentQueryPostByCategory"](n.query.category)),w=x(()=>t.getters["tour/getCurrentQueryPagination"](n.query)),m=x(()=>t.getters["tour/isIdSaved"]);return(b,P)=>{const E=Yt,C=Jt,F=ee("router-link"),j=Fs,N=Ks,Z=ee("router-view"),Y=X("bg");return c(),h("div",T1,[V(r("div",C1,[r("div",A1,[r("div",$1,[r("div",B1,[r("p",L1,[R1,r("span",I1,k(f(u)),1),E1])])])])],512),[[Y,f(Mt)]]),r("div",M1,[r("div",P1,[r("div",D1,[d(E,le(ue(p("scenic","\u666F\u9EDE"))),null,16),d(E,le(ue(p("restaurant","\u9910\u98F2"))),null,16),d(E,le(ue(p("hotel","\u65C5\u5BBF"))),null,16),d(E,le(ue(p("activity","\u6D3B\u52D5"))),null,16)]),r("div",O1,[(c(!0),h(K,null,Q(f(y),U=>(c(),D(C,Ce({key:U.query},U,{icon:"close-active"}),{default:g(()=>[O(k(U.label),1)]),_:2},1040))),128))])])]),r("div",x1,[d(tt,{name:"fade",class:"tour-spot-search__list row",tag:"div"},{default:g(()=>[(c(!0),h(K,null,Q(f(T),U=>(c(),h("div",{key:U.id,class:q([{"col-4":f(i).isDesktop,"col-6":f(i).isTablet,"col-12":f(i).isMobile},"tour-spot-search__card"])},[d(j,{"is-favorite":f(m)(U.id),title:U.name,desc:U.description,src:U.picture.src||f(st),tags:U.class,onOnAddFavorite:$=>a(U)},{default:g(()=>[d(F,{to:{name:"TourSpotSearchPopup",query:f(n).query,params:{spot:U.id}}},null,8,["to"])]),_:2},1032,["is-favorite","title","desc","src","tags","onOnAddFavorite"])],2))),128))]),_:1}),r("div",N1,[d(N,le(ue(f(w))),null,16)])]),d(Z)])}}},Z1="AIzaSyA69Ld00x6niETT19cTNDmaO6a1y0jyqO8",H1="8f3b52179012be0",q1={props:{PositionLat:{type:Number,default:0},PositionLon:{type:Number,default:0},GeoHash:{type:String,default:""},empty:{type:Boolean,default:!1}},data(){return{map:null}},mounted(){new ds({apiKey:Z1,version:"weekly"}).load().then(t=>{this.map=new t.maps.Map(this.$el,{mapId:H1,center:{lat:+this.PositionLat,lng:+this.PositionLon},zoom:16}),new t.maps.Marker({position:{lat:+this.PositionLat,lng:+this.PositionLon},map:this.map}),this.map.setCenter({lat:+this.PositionLat,lng:this.PositionLon})})}},K1={class:"google-map"};function F1(e,t,s,n,o,i){return c(),h("div",K1)}var V1=z(q1,[["render",F1]]);const Q1={props:{text:{type:String,default:null}},emits:["on-copy"],setup(e,{emit:t}){const s=e,n=()=>navigator.userAgent.match(/ipad|iphone/i),o=()=>{const i=document.createElement("textarea");if(document.body.appendChild(i),i.value=s.text||window.location.href,n()){const a=document.createRange(),l=window.getSelection();a.selectNodeContents(i),l.removeAllRanges(),l.addRange(a),i.setSelectionRange(0,999999)}else i.select();document.execCommand("copy"),document.body.removeChild(i),t("on-copy")};return(i,a)=>{const l=J;return c(),h("div",{class:"copy",onClick:o},[d(l,{name:"copy"})])}}};const G1={class:"share"},j1={props:{socialType:{type:String,required:!0}},setup(e){const t=e,s=Object.freeze({facebook:"http://www.facebook.com/sharer.php?u=",twitter:"https://twitter.com/share?url="}),n=()=>{const o=s[t.socialType];o&&window.open(o+encodeURIComponent(window.location.href),"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=600")};return(o,i)=>{const a=J;return c(),h("div",G1,[r("div",{class:"share__link",onClick:n},[d(a,{name:e.socialType},null,8,["name"])])])}}};const Y1={class:"tour-spot-popup"},z1={class:"tour-spot-popup__main"},W1={class:"container"},J1={class:"tour-spot-popup__main-content"},X1={class:"tour-spot-popup__header"},e0={key:0,class:"tour-spot-popup__title"},t0={key:1,class:"tour-spot-popup__tags"},s0={class:"tour-spot-popup__info"},n0={key:0},o0={key:1},i0={key:2},a0={class:"tour-spot-popup__info"},r0={key:0},c0={key:1},l0={key:2},u0={key:3},d0={class:"tour-spot-popup__content"},h0={key:0,class:"tour-spot-popup__image"},p0={class:"tour-spot-popup__control"},_0={class:"tour-spot-popup__control"},m0=r("p",null,"\u6536\u85CF",-1),v0=r("p",null,"\u8CC7\u8A0A",-1),f0={class:"tour-spot-popup__shares"},g0=r("p",null,"\u5206\u4EAB",-1),y0=r("p",null,"\u9023\u7D50\u5DF2\u8907\u88FD\uFF01",-1),w0={key:1,class:"tour-spot-popup__desc"},b0={key:2,class:"tour-spot-popup__gallery"},k0={key:3,class:"tour-spot-popup__map"},S0={class:"tour-spot-popup__buttons"},T0=O(" \u6536\u85CF "),C0=O(" \u8FD4\u56DE "),Vs={setup(e){const t=Ae(),s=Te(),n=pe(),o=M(!0),i=M(!1),a=M(!1);let l;const u=x(()=>n.state.loadingConfig),p=x(()=>{const{name:b,params:{spot:P},query:{category:E}}=s,C=b==="TourSpotSavedPopup";return n.getters["tour/getSingleSpotByQuery"](P,E,C)});p.value||t.push({name:"Tour",query:s.query});const y=()=>{const{query:{category:b}}=s;n.commit("tour/toggleSaveSpot",{spot:p.value,category:b})},T=x(()=>n.getters["tour/isIdSaved"](p.value.id)),w=()=>{o.value=!1,setTimeout(()=>{t.back()},u.value.minTime/2)},m=()=>{a.value=!0,clearTimeout(l),l=setTimeout(()=>{a.value=!1},1e3)};return(b,P)=>{const E=J,C=Ge,F=Xt,j=j1,N=Q1,Z=qs,Y=V1,U=Me,$=Wt,te=X("bg"),se=X("blur");return c(),h("div",Y1,[d($,{"is-active":o.value,onOnClose:w},{default:g(()=>[r("div",z1,[r("div",W1,[r("div",J1,[r("div",{class:"tour-spot-popup__close",onClick:w},[d(E,{name:"close-default"})]),r("div",X1,[f(p).name?(c(),h("p",e0,k(f(p).name),1)):A("",!0),f(p).class&&f(p).class.length?(c(),h("div",t0,[(c(!0),h(K,null,Q(f(p).class,ne=>(c(),D(C,{key:ne,name:ne},null,8,["name"]))),128))])):A("",!0),r("div",s0,[f(p).openTime?(c(),h("p",n0," \u958B\u653E\u6642\u9593\uFF1A"+k(f(p).openTime),1)):A("",!0),f(p).phone?(c(),h("p",o0,k(f(p).phone.label)+"\uFF1A"+k(f(p).phone.value),1)):A("",!0),f(p).address?(c(),h("p",i0," \u5730\u5740\uFF1A"+k(f(p).address),1)):A("",!0)]),r("div",a0,[f(p).organizer?(c(),h("p",r0," \u4E3B\u8FA6\u55AE\u4F4D\uFF1A"+k(f(p).organizer),1)):A("",!0),f(p).parkingInfo?(c(),h("p",c0," \u505C\u8ECA\u8CC7\u8A0A\uFF1A"+k(f(p).parkingInfo),1)):A("",!0),f(p).spec?(c(),h("p",l0," \u623F\u578B\u8CC7\u8A0A\uFF1A"+k(f(p).spec),1)):A("",!0),f(p).serverInfo?(c(),h("p",u0," \u670D\u52D9\u8CC7\u8A0A\uFF1A"+k(f(p).serverInfo),1)):A("",!0)])]),r("div",d0,[f(p).picture.url?V((c(),h("div",h0,null,512)),[[te,f(p).picture.url]]):A("",!0),r("div",p0,[r("div",_0,[d(F,{icon:"like-default"},{default:g(()=>[m0]),_:1}),d(F,{icon:"info"},{default:g(()=>[v0]),_:1}),V(r("div",f0,[d(F,{icon:"share",onClick:P[0]||(P[0]=ne=>i.value=!i.value)},{default:g(()=>[g0]),_:1}),r("div",{class:q(["tour-spot-popup__shares-main",{"-active":i.value}])},[d(j,{"social-type":"facebook"}),d(j,{"social-type":"line"}),d(j,{"social-type":"twitter"}),d(N,{onOnCopy:m}),r("div",{class:q(["tour-spot-popup__copy-done",{"-active":a.value}])},[r("div",null,[d(E,{name:"check"})]),y0],2)],2)],512),[[se,()=>i.value=!1]])])]),f(p).descriptionDetail?(c(),h("p",w0,k(f(p).descriptionDetail),1)):A("",!0),f(p).picture.length?(c(),h("div",b0,[d(f(It),{"slides-per-view":"auto","space-between":8,"touch-start-prevent-default":!1,breakpoints:{768:{spaceBetween:24}}},{default:g(()=>[(c(!0),h(K,null,Q(f(p).picture.all,(ne,me)=>(c(),D(f(Rt),{key:ne},{default:g(()=>[d(Z,{title:f(p).picture.desc[me]||"",src:ne,"data-cursor":"swipe"},null,8,["title","src"])]),_:2},1024))),128))]),_:1})])):A("",!0),f(p).Position?(c(),h("div",k0,[d(Y,le(ue(f(p).Position)),null,16)])):A("",!0),r("div",S0,[d(U,{icon:f(T)?"like-active":"like-default",onClick:y},{default:g(()=>[T0]),_:1},8,["icon"]),d(U,{onClick:w},{default:g(()=>[C0]),_:1})])])])])])]),_:1},8,["is-active"])])}}},A0=[{path:"/about",name:"About",component:Wu,children:[{path:":person",name:"AboutPerson",component:yd}]},{path:"/bus",name:"Bus",component:pa,children:[{path:":search",name:"BusSearch",components:{BusStation:xa,BusSearchResult:Zs,BusSearchRoute:ur,BusSearchRouteDetail:wr}}]},{path:"/bike",name:"Bike",component:Lr,children:[{path:":pathMatch(.*)*",name:"BikeHome",component:Bc,children:[{path:"search/:value",name:"BikeSearch",component:Hs},{path:"place/:value",name:"BikePlace",component:sl},{path:"dir/:value",name:"BikeDir",component:cl}]}]},{path:"/tour",name:"Tour",component:xd,children:[{path:"no-result",name:"TourNoResult",component:jd}]},{path:"/tour/spot",name:"TourSpot",component:Yd,children:[{path:"search",name:"TourSpotSearch",component:U1,children:[{path:":spot",name:"TourSpotSearchPopup",component:Vs}]},{path:"saved",name:"TourSpotSaved",component:S1,children:[{path:":spot",name:"TourSpotSavedPopup",component:Vs}]}]},{path:"/:pathMatch(.*)*",redirect:"/tour"}],Qs=dn({history:hn(),routes:A0});Qs.afterEach((e,t)=>{setTimeout(()=>{At.refresh(!0)},Rs.state.loadingConfig.minTime*2)});if(typeof window!="undefined"){let e=function(){let t=document.body,s=document.getElementById("__svg__icons__dom__1638155740535__");s||(s=document.createElementNS("http://www.w3.org/2000/svg","svg"),s.style.position="absolute",s.style.width="0",s.style.height="0",s.id="__svg__icons__dom__1638155740535__"),s.innerHTML='<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 16" id="all-outline"><path fill-rule="evenodd" clip-rule="evenodd" d="m6.6 8.244 4.153-4.2L9.9 3.2 6.173 6.969l-1.42-1.436-.853.844 1.846 1.867.427.431.426-.431Zm0 4.378 4.153-4.2-.853-.844-3.727 3.769-1.42-1.436-.853.844 1.846 1.867.427.431.426-.431Z" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 10" id="arrow-right"><path fill-rule="evenodd" clip-rule="evenodd" d="m14.465 5.326.619-.619-.62-.619-4-4-1.237 1.238 2.51 2.51H0v1.75h11.73L9.228 8.087l1.238 1.238 4-4Zm-1.965-.51.109-.109-.11-.109v.218Z" fill="#32F3AE" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="behance"><path d="M20.625 2.625H3.375a.75.75 0 0 0-.75.75v17.25c0 .415.335.75.75.75h17.25a.75.75 0 0 0 .75-.75V3.375a.75.75 0 0 0-.75-.75Zm-6.598 5.6h3.244v.79h-3.244v-.79ZM12 14.737a2.1 2.1 0 0 1-.633.726 2.784 2.784 0 0 1-.91.415c-.34.091-.692.136-1.045.133h-3.88V8.018h3.773c.382 0 .729.035 1.045.1.314.066.581.179.806.331.223.153.399.356.523.61.122.25.185.564.185.937 0 .403-.091.736-.274 1.006-.185.27-.453.487-.816.658.495.14.858.392 1.097.743.244.356.363.783.363 1.284 0 .408-.077.758-.234 1.05Zm6.534-1.238h-4.18c0 .455.156.89.393 1.125.239.232.581.35 1.029.35.323 0 .597-.083.832-.245.232-.161.372-.332.424-.51h1.402c-.225.696-.568 1.192-1.032 1.492-.459.3-1.021.45-1.675.45a3.38 3.38 0 0 1-1.236-.217 2.626 2.626 0 0 1-.935-.622 2.839 2.839 0 0 1-.588-.965 3.513 3.513 0 0 1-.209-1.233c0-.434.073-.837.214-1.212a2.82 2.82 0 0 1 1.544-1.615 3.043 3.043 0 0 1 1.207-.234c.492 0 .919.094 1.29.286.356.184.665.447.904.769.237.32.403.687.509 1.099.1.405.136.832.107 1.282Zm-2.859-2.24a1.36 1.36 0 0 0-.63.13 1.32 1.32 0 0 0-.404.32c-.098.12-.17.258-.213.407a1.823 1.823 0 0 0-.073.38h2.59c-.037-.406-.178-.706-.365-.916-.197-.21-.514-.322-.905-.322Zm-5.824-.237c.204-.148.302-.392.302-.727a.943.943 0 0 0-.096-.46.739.739 0 0 0-.272-.278 1.05 1.05 0 0 0-.389-.14 2.27 2.27 0 0 0-.452-.04H7.296v1.867H9.08c.307.003.567-.072.77-.222Zm.276 1.687c-.23-.176-.536-.262-.918-.262H7.29v2.203h1.88c.176 0 .338-.017.495-.05.157-.032.297-.089.417-.168a.845.845 0 0 0 .288-.319c.07-.136.106-.31.106-.518 0-.415-.118-.708-.35-.886Z" fill="#2C2C2C" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="bike-active"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="#32F3AE" /><path d="m15.4 10.95-.936-2.457a1.062 1.062 0 0 0-.403-.502 1.14 1.14 0 0 0-.63-.191H12v1.05h1.43l.802 2.1h-2.645l-.198-.525H12v-1.05H9.25v1.05h.963l1 2.625h-.368c-.242-1.17-1.27-2.037-2.557-2.095-1.54-.073-2.888 1.15-2.888 2.62 0 1.47 1.21 2.625 2.75 2.625 1.353 0 2.448-.887 2.695-2.1h2.31c.242 1.17 1.27 2.037 2.558 2.095 1.54.068 2.887-1.15 2.887-2.625 0-1.47-1.21-2.625-2.75-2.625h-.45v.005ZM9.7 14.1c-.22.614-.82 1.05-1.55 1.05-.925 0-1.65-.693-1.65-1.575S7.225 12 8.15 12c.73 0 1.33.436 1.55 1.05h-1.55v1.05H9.7Zm3.454-1.05h-.77L11.984 12h1.666a2.433 2.433 0 0 0-.495 1.05Zm2.695 2.1c-.924 0-1.65-.693-1.65-1.575 0-.488.226-.908.578-1.197l.528 1.386 1.034-.357-.534-1.402c.017 0 .033-.005.05-.005.924 0 1.65.693 1.65 1.575s-.732 1.575-1.656 1.575Z" fill="#383838" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="bike-outline"><path d="m11.4 6.95-.936-2.457a1.062 1.062 0 0 0-.403-.502 1.14 1.14 0 0 0-.63-.191H8v1.05h1.43l.802 2.1H7.588l-.198-.525H8v-1.05H5.25v1.05h.963l1 2.625h-.368c-.242-1.17-1.27-2.037-2.557-2.095-1.54-.073-2.888 1.15-2.888 2.62 0 1.47 1.21 2.625 2.75 2.625 1.353 0 2.448-.887 2.695-2.1h2.31c.242 1.17 1.27 2.037 2.558 2.095 1.54.068 2.887-1.15 2.887-2.625 0-1.47-1.21-2.625-2.75-2.625h-.45v.005ZM5.7 10.1c-.22.614-.82 1.05-1.55 1.05-.925 0-1.65-.693-1.65-1.575S3.225 8 4.15 8c.73 0 1.33.436 1.55 1.05h-1.55v1.05H5.7Zm3.454-1.05h-.77L7.984 8H9.65a2.433 2.433 0 0 0-.495 1.05Zm2.695 2.1c-.924 0-1.65-.693-1.65-1.575 0-.488.226-.908.578-1.197l.528 1.386 1.034-.357-.534-1.402c.017 0 .033-.005.05-.005.924 0 1.65.693 1.65 1.575s-.732 1.575-1.656 1.575Z" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="bike"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="#383838" /><path d="m15.399 10.95-.935-2.457a1.062 1.062 0 0 0-.403-.502 1.14 1.14 0 0 0-.631-.19H12V8.85h1.43l.803 2.1h-2.646l-.197-.525H12v-1.05H9.25v1.05h.963l1 2.625h-.368c-.242-1.17-1.27-2.037-2.557-2.095-1.54-.073-2.888 1.15-2.888 2.62 0 1.47 1.21 2.625 2.75 2.625 1.353 0 2.447-.887 2.695-2.1h2.31c.242 1.17 1.27 2.037 2.558 2.095 1.54.068 2.887-1.15 2.887-2.625 0-1.47-1.21-2.625-2.75-2.625h-.451v.005ZM9.701 14.1c-.22.614-.82 1.05-1.551 1.05-.924 0-1.65-.693-1.65-1.575S7.226 12 8.15 12c.732 0 1.331.436 1.551 1.05H8.15v1.05h1.551Zm3.454-1.05h-.77L11.983 12h1.667a2.433 2.433 0 0 0-.495 1.05Zm2.695 2.1c-.924 0-1.65-.693-1.65-1.575 0-.488.226-.908.578-1.197l.527 1.386 1.035-.357-.534-1.402c.017 0 .033-.005.05-.005.923 0 1.65.693 1.65 1.575s-.732 1.575-1.656 1.575Z" fill="#fff" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="check-active"><rect x="3" y="3" width="18" height="18" rx="4" fill="#b6b5ff" /><path d="M7 11.889 10.077 15 17 8" stroke="#2C2C2C" stroke-width="2" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="check-default"><rect x="4" y="4" width="16" height="16" rx="3" stroke="currentColor" stroke-width="2" stroke-linejoin="round" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="check-second"><path d="m6 12 3.692 4L18 7" stroke="#2C2C2C" stroke-width="2" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="check"><path d="m6 12 3.692 4L18 7" stroke="currentColor" stroke-width="2" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="close-active"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.996 10.57 7.412 6 6 7.416l4.58 4.566L6 16.547l1.412 1.416 4.584-4.57 4.583 4.57 1.412-1.416-4.579-4.565 4.58-4.566L16.578 6l-4.583 4.57Z" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="close-default"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.996 10.57 7.412 6 6 7.416l4.58 4.566L6 16.547l1.412 1.416 4.584-4.57 4.583 4.57 1.412-1.416-4.579-4.565 4.58-4.566L16.578 6l-4.583 4.57Z" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="codepen"><path d="m16.75 10.11-4.212-2.803V9.81l2.33 1.555 1.882-1.256Zm-4.75.632-1.901 1.27L12 13.28l1.901-1.269L12 10.742Zm.538 3.47v2.504l4.212-2.804-1.881-1.255-2.331 1.555ZM9.13 12.657l-1.88 1.255 4.211 2.804v-2.504l-2.33-1.555ZM20.28 3H3.72a.72.72 0 0 0-.72.72v16.56c0 .398.322.72.72.72h16.56a.72.72 0 0 0 .72-.72V3.72a.72.72 0 0 0-.72-.72Zm-2.025 10.912a.512.512 0 0 1-.005.07c0 .01-.002.016-.004.023a.318.318 0 0 1-.018.072l-.014.038c-.004.009-.008.018-.01.027-.008.011-.012.025-.019.036a.156.156 0 0 1-.015.025l-.023.034-.018.022-.027.03a.208.208 0 0 1-.023.02.174.174 0 0 1-.031.024c-.009.007-.016.014-.025.018l-.009.007-5.717 3.807a.53.53 0 0 1-.297.09.549.549 0 0 1-.3-.09L5.985 14.36l-.01-.006-.024-.018-.03-.025a.194.194 0 0 0-.022-.02c-.009-.01-.018-.018-.027-.03a.152.152 0 0 1-.018-.022.277.277 0 0 1-.022-.034c-.005-.009-.012-.016-.016-.025a.27.27 0 0 1-.018-.036.077.077 0 0 1-.011-.027.745.745 0 0 0-.014-.038l-.009-.027a.316.316 0 0 1-.009-.045l-.004-.022a.727.727 0 0 1-.005-.07v-3.807c0-.023.002-.048.005-.07l.004-.023a.319.319 0 0 1 .018-.072l.013-.038c.005-.009.01-.018.012-.027a.269.269 0 0 1 .034-.06.822.822 0 0 1 .04-.057l.027-.029.022-.02a.285.285 0 0 1 .03-.025c.009-.007.015-.013.024-.018l.01-.007L11.7 5.857a.542.542 0 0 1 .596 0l5.717 3.805.01.007.024.018.032.025a.346.346 0 0 1 .05.05.332.332 0 0 1 .04.056l.015.024a.152.152 0 0 1 .018.036.13.13 0 0 1 .012.027l.013.039c.002.008.007.017.009.026.005.016.007.03.009.045.002.007.002.016.005.023a.741.741 0 0 1 .004.07v3.804ZM17.18 12.91v-1.796l-1.346.898 1.346.898ZM6.82 11.113v1.796l1.346-.898-1.346-.897Zm4.642-1.302V7.306L7.25 10.11l1.881 1.256 2.331-1.555Z" fill="#2C2C2C" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="confirmed"><rect x="3" y="3" width="18" height="18" rx="9" fill="#2C2C2C" /><path d="M7 11.889 10.077 15 17 8" stroke="currentColor" stroke-width="2" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 17" id="copy"><path fill-rule="evenodd" d="M2.67 15.67a4.31 4.31 0 0 1-1.4-7.06l2.45-2.45L4.94 7.4 2.49 9.84a2.6 2.6 0 0 0 3.67 3.67l2.45-2.45 1.23 1.23-2.45 2.45a4.32 4.32 0 0 1-4.72.93ZM16 4.33c0 1.14-.45 2.25-1.26 3.06l-2.45 2.45-1.23-1.23 2.45-2.45A2.6 2.6 0 0 0 9.84 2.5L7.39 4.94 6.16 3.72l2.45-2.45a4.33 4.33 0 0 1 7.4 3.06ZM3.71 11.06l1.23 1.23 7.35-7.35-1.23-1.23-7.35 7.35Z" clip-rule="evenodd" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cursor-link"><path d="M17.328 7.329H9.5v2h4.414l-7.646 7.646 1.414 1.414 7.646-7.646V14.5h2V7.33Z" fill="#b6b5ff" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 16" id="cursor-swipe"><path d="M10.666 2.667 5.333 8l5.333 5.333M25.334 13.333 30.667 8l-5.333-5.333" stroke="#B6B5FF" stroke-width="2" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cycling-active"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="#32F3AE" /><path fill-rule="evenodd" clip-rule="evenodd" d="M15.6 7.2a.6.6 0 1 0 0 1.2.6.6 0 0 0 0-1.2Zm-1.8.6a1.8 1.8 0 1 1 3.6 0 1.8 1.8 0 0 1-3.6 0Zm-5.1 9.6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm.14-8.56A1.5 1.5 0 0 1 9.9 8.4H12V7.2H9.9a2.7 2.7 0 1 0 0 5.4h4.8a1.5 1.5 0 0 1 0 3H12v1.2h2.7a2.7 2.7 0 1 0 0-5.4H9.9a1.5 1.5 0 0 1-1.06-2.56Z" fill="#383838" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="cycling-outline"><path fill-rule="evenodd" clip-rule="evenodd" d="M11.6 3.2a.6.6 0 1 0 0 1.2.6.6 0 0 0 0-1.2Zm-1.8.6a1.8 1.8 0 1 1 3.6 0 1.8 1.8 0 0 1-3.6 0Zm-5.1 9.6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm.14-8.56A1.5 1.5 0 0 1 5.9 4.4H8V3.2H5.9a2.7 2.7 0 1 0 0 5.4h4.8a1.5 1.5 0 1 1 0 3H8v1.2h2.7a2.7 2.7 0 1 0 0-5.4H5.9a1.5 1.5 0 0 1-1.06-2.56Z" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cycling"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="#383838" /><path fill-rule="evenodd" clip-rule="evenodd" d="M15.6 7.2a.6.6 0 1 0 0 1.2.6.6 0 0 0 0-1.2Zm-1.8.6a1.8 1.8 0 1 1 3.6 0 1.8 1.8 0 0 1-3.6 0Zm-5.1 9.6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm.14-8.56A1.5 1.5 0 0 1 9.9 8.4H12V7.2H9.9a2.7 2.7 0 1 0 0 5.4h4.8a1.5 1.5 0 1 1 0 3H12v1.2h2.7a2.7 2.7 0 0 0 0-5.4H9.9a1.5 1.5 0 0 1-1.06-2.56Z" fill="#fff" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="down"><path d="m4 8 8 8 8-8" stroke="currentColor" stroke-width="2" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="email"><path fill-rule="evenodd" clip-rule="evenodd" d="M4 3a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4Zm12.8 5c.66 0 1.2.506 1.2 1.125v6.75c0 .619-.54 1.125-1.2 1.125H7.2c-.66 0-1.2-.506-1.2-1.125v-6.75C6 8.506 6.54 8 7.2 8h9.6ZM12 11.938l4.8-2.813H7.2l4.8 2.813Zm0 1.124L7.2 10.25v5.625h9.6V10.25L12 13.063Z" fill="#2C2C2C" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="enter"><path fill-rule="evenodd" d="m13.5 4.8.7-.71.71.7 4 4-1.41 1.42-2.3-2.3V19H4v-2h9.2V7.91l-2.29 2.3L9.5 8.79l4-4Z" clip-rule="evenodd" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="explore"><path d="M17.03 6.97a.75.75 0 0 0-.767-.182l-6.75 2.25a.75.75 0 0 0-.475.475l-2.25 6.75a.75.75 0 0 0 .949.949l6.75-2.25a.75.75 0 0 0 .475-.475l2.25-6.75a.75.75 0 0 0-.182-.767Zm-8.344 8.345 1.657-4.97 3.315 3.313-4.972 1.657Z" fill="#2C2C2C" /><path d="M12 22.5A10.5 10.5 0 1 1 22.5 12 10.512 10.512 0 0 1 12 22.5ZM12 3a9 9 0 1 0 9 9 9.01 9.01 0 0 0-9-9Z" fill="#2C2C2C" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" id="facebook"><path fill-rule="evenodd" d="M0 10.06c0 4.97 3.61 9.1 8.33 9.94v-7.22h-2.5V10h2.5V7.78c0-2.5 1.61-3.9 3.9-3.9.71 0 1.5.12 2.21.23v2.56h-1.27c-1.23 0-1.5.6-1.5 1.39V10h2.66l-.44 2.78h-2.22V20A10.12 10.12 0 0 0 20 10.06C20 4.52 15.5 0 10 0S0 4.53 0 10.06Z" clip-rule="evenodd" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="fb"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 12.05c0 4.475 3.25 8.195 7.5 8.95v-6.5H8.25V12h2.25v-2c0-2.25 1.45-3.5 3.5-3.5.65 0 1.35.1 2 .2V9h-1.15c-1.1 0-1.35.55-1.35 1.25V12h2.4l-.4 2.5h-2V21c4.25-.755 7.5-4.474 7.5-8.95C21 7.072 16.95 3 12 3s-9 4.072-9 9.05Z" fill="#2C2C2C" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="filter"><path fill-rule="evenodd" clip-rule="evenodd" d="M6 9a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 2a4.002 4.002 0 0 0 3.874-3H22V6H9.874A4.002 4.002 0 0 0 2 7a4 4 0 0 0 4 4Zm12 4a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm0-2a4.002 4.002 0 0 0-3.874 3H2v2h12.126A4.002 4.002 0 0 0 22 17a4 4 0 0 0-4-4Z" fill="currentColor" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="home"><path d="M5 19v-8.272l7-6.375 7 6.375V19H5Z" stroke="#2C2C2C" stroke-width="2" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="hyperlink"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.167 5v6.657h-2V8.415l-5.96 5.963-1.414-1.413L15.753 7H12.51V5h6.657ZM5 7v12.672h12v-2H7V7H5Z" fill="#2C2C2C" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="info"><path d="M12 3c-4.963 0-9 4.037-9 9s4.037 9 9 9 9-4.037 9-9-4.037-9-9-9Zm0 16.2c-3.97 0-7.2-3.23-7.2-7.2S8.03 4.8 12 4.8s7.2 3.23 7.2 7.2-3.23 7.2-7.2 7.2Z" fill="currentColor" /><path d="M12 11.5V17m0-9v2" stroke="currentColor" stroke-width="2" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="lang"><path d="M11.991 3C7.023 3 3 7.032 3 12s4.023 9 8.991 9C16.968 21 21 16.968 21 12s-4.032-9-9.009-9Zm6.237 5.4h-2.655a14.087 14.087 0 0 0-1.242-3.204A7.227 7.227 0 0 1 18.228 8.4ZM12 4.836A12.678 12.678 0 0 1 13.719 8.4h-3.438A12.678 12.678 0 0 1 12 4.836ZM5.034 13.8A7.418 7.418 0 0 1 4.8 12c0-.621.09-1.224.234-1.8h3.042A14.864 14.864 0 0 0 7.95 12c0 .612.054 1.206.126 1.8H5.034Zm.738 1.8h2.655a14.084 14.084 0 0 0 1.242 3.204A7.188 7.188 0 0 1 5.772 15.6Zm2.655-7.2H5.772a7.188 7.188 0 0 1 3.897-3.204A14.085 14.085 0 0 0 8.427 8.4ZM12 19.164a12.678 12.678 0 0 1-1.719-3.564h3.438A12.678 12.678 0 0 1 12 19.164Zm2.106-5.364H9.894A13.242 13.242 0 0 1 9.75 12c0-.612.063-1.215.144-1.8h4.212c.081.585.144 1.188.144 1.8 0 .612-.063 1.206-.144 1.8Zm.225 5.004c.54-.999.954-2.079 1.242-3.204h2.655a7.227 7.227 0 0 1-3.897 3.204Zm1.593-5.004c.072-.594.126-1.188.126-1.8 0-.612-.054-1.206-.126-1.8h3.042c.144.576.234 1.179.234 1.8s-.09 1.224-.234 1.8h-3.042Z" fill="#fff" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="left"><path d="m16 4-8 8 8 8" stroke="currentColor" stroke-width="2" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="like-active"><path d="M16.09 4A4.791 4.791 0 0 0 12 6.25 4.791 4.791 0 0 0 7.91 4C5.21 4 3 6.25 3 9c0 4.958 9 10 9 10s9-5 9-10c0-2.75-2.21-5-4.91-5Z" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" id="like-default"><path stroke="currentColor" stroke-width="2" d="M11.15 6.78 12 8.14l.85-1.36A3.8 3.8 0 0 1 16.09 5C18.22 5 20 6.79 20 9c0 .95-.43 2-1.22 3.09a17.2 17.2 0 0 1-2.92 3.02A31.68 31.68 0 0 1 12 17.84a32.09 32.09 0 0 1-3.86-2.75 17.35 17.35 0 0 1-2.92-3.02A5.46 5.46 0 0 1 4 9c0-2.21 1.78-4 3.91-4 1.37 0 2.56.7 3.24 1.78Z" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="like-second"><path d="M11.152 6.78 12 8.137l.848-1.357A3.791 3.791 0 0 1 16.091 5C18.22 5 20 6.785 20 9c0 .955-.435 2-1.218 3.088-.776 1.078-1.832 2.11-2.922 3.019a31.683 31.683 0 0 1-3.858 2.733 32.086 32.086 0 0 1-3.86-2.748c-1.091-.911-2.148-1.946-2.925-3.023C4.433 10.982 4 9.943 4 9c0-2.215 1.779-4 3.91-4a3.79 3.79 0 0 1 3.242 1.78Z" fill="#2C2C2C" fill-opacity=".2" stroke="#2C2C2C" stroke-width="2" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 19" id="line"><path fill-rule="evenodd" d="M10 0c5.46 0 9.9 3.6 9.9 8.03 0 1.78-.69 3.37-2.12 4.95-2.08 2.39-6.72 5.3-7.78 5.75-1.03.43-.9-.25-.86-.51v-.03l.14-.84c.04-.26.07-.65-.03-.9-.11-.28-.55-.42-.87-.49C3.62 15.33.1 12.01.1 8.03.1 3.6 4.54 0 10 0ZM6.31 9.51H4.43V6.1a.2.2 0 0 0-.2-.2h-.7a.2.2 0 0 0-.18.2v4.31c0 .05.02.1.05.13v.01a.2.2 0 0 0 .14.05H6.3c.11 0 .2-.08.2-.19v-.7a.2.2 0 0 0-.2-.19ZM7.3 5.9H8c.1 0 .19.09.19.2v4.31c0 .1-.09.2-.2.2H7.3a.2.2 0 0 1-.19-.2V6.1c0-.11.09-.2.2-.2Zm4.78 0h.7c.1 0 .2.09.2.2v4.31c0 .1-.1.2-.2.2h-.7a.2.2 0 0 1-.05-.01h-.01v-.01H12v-.01h-.02a.19.19 0 0 1-.05-.06L9.94 7.84v2.56a.2.2 0 0 1-.2.2h-.69a.2.2 0 0 1-.2-.2V6.1c0-.11.1-.2.2-.2h.72l.02.01h.02l.01.01h.01l.02.01v.01h.01l.01.01.03.04 1.98 2.67V6.1c0-.11.09-.2.2-.2Zm4.73.9c0 .1-.1.18-.2.18h-1.89v.73h1.9c.1 0 .18.1.18.2v.69c0 .1-.08.2-.19.2h-1.89v.72h1.9c.1 0 .18.09.18.2v.69c0 .1-.08.2-.19.2h-2.77a.2.2 0 0 1-.14-.06.2.2 0 0 1-.06-.14V6.1c0-.06.03-.1.06-.14a.2.2 0 0 1 .14-.06h2.77c.1 0 .2.09.2.2v.7Z" clip-rule="evenodd" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="link"><path d="M17.328 7.329H9.5v2h4.414l-7.646 7.646 1.414 1.414 7.646-7.646V14.5h2V7.33Z" fill="#2C2C2C" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" id="linkedin"><path fill-rule="evenodd" d="M0 1.5A1.5 1.5 0 0 1 1.5 0h15A1.5 1.5 0 0 1 18 1.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 0 16.5v-15Zm7.12 5.36h2.44V8.1c.35-.7 1.25-1.34 2.6-1.34 2.6 0 3.21 1.4 3.21 3.97v4.77h-2.62v-4.2c0-1.47-.35-2.3-1.25-2.3-1.24 0-1.75.9-1.75 2.3v4.18H7.12V6.86Zm-4.5 8.51h2.63V6.75H2.62v8.62Zm3-11.43A1.69 1.69 0 1 1 2.25 4a1.69 1.69 0 0 1 3.38-.07Z" clip-rule="evenodd" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="medium"><path d="M3 3v18h18V3H3Zm14.954 4.265-.966.925a.282.282 0 0 0-.108.27v6.802a.283.283 0 0 0 .108.27l.942.926v.203h-4.742v-.203l.977-.948c.096-.096.096-.124.096-.27V9.742l-2.715 6.898h-.367L8.017 9.742v4.623a.638.638 0 0 0 .175.53l1.27 1.541v.203h-3.6v-.203l1.27-1.541a.615.615 0 0 0 .164-.53V9.02a.467.467 0 0 0-.152-.395l-1.13-1.36v-.203H9.52l2.71 5.942 2.381-5.943h3.342l.001.204Z" fill="#2C2C2C" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" id="plus-active"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 23.6V32h6v-8.4h9v-6h-9V8h-6v9.6H8v6h9Z" fill="#b6b5ff" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="plus"><path fill-rule="evenodd" clip-rule="evenodd" d="M11 13v7h2v-7h7v-2h-7V4h-2v7H4v2h7Z" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" id="position"><path d="M18 0 0 9l6.75 2.25L9 18l9-18Z" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="q-active"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 12c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9-9-4.037-9-9Zm1.8 0c0 3.97 3.23 7.2 7.2 7.2s7.2-3.23 7.2-7.2-3.23-7.2-7.2-7.2S4.8 8.03 4.8 12Zm4.698-4.362A3.545 3.545 0 0 1 12 6.6a3.543 3.543 0 0 1 3.54 3.54c0 1.437-1.059 2.294-1.76 2.862l-.002.002-.037.03c-.163.131-.32.257-.445.383-.367.366-.396.699-.397.713l.001.57h-1.8v-.6c0-.107.026-1.06.924-1.957.199-.19.406-.37.622-.539.662-.535 1.095-.925 1.095-1.463a1.741 1.741 0 0 0-3.481-.001h-1.8a3.545 3.545 0 0 1 1.038-2.502ZM12.9 15.6h-1.8v1.8h1.8v-1.8Z" fill="#b6b5ff" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="q-default"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 12c0-4.963 4.037-9 9-9s9 4.037 9 9-4.037 9-9 9-9-4.037-9-9Zm1.8 0c0 3.97 3.23 7.2 7.2 7.2s7.2-3.23 7.2-7.2-3.23-7.2-7.2-7.2S4.8 8.03 4.8 12Zm4.698-4.362A3.545 3.545 0 0 1 12 6.6a3.543 3.543 0 0 1 3.54 3.54c0 1.437-1.059 2.294-1.76 2.862l-.002.002-.037.03c-.163.131-.32.257-.445.383-.367.366-.396.699-.397.713l.001.57h-1.8v-.6c0-.107.026-1.06.924-1.957.199-.19.406-.37.622-.539.662-.535 1.095-.925 1.095-1.463a1.741 1.741 0 0 0-3.481-.001h-1.8a3.545 3.545 0 0 1 1.038-2.502ZM12.9 15.6h-1.8v1.8h1.8v-1.8Z" fill="#fff" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 18" id="refresh"><path d="M1.477 11.668c1.02 2.73 3.556 4.665 6.523 4.665 3.866 0 7-3.283 7-7.333m-.477-2.668C13.503 3.601 10.967 1.667 8 1.667 4.134 1.667 1 4.95 1 9m5.09 2.667H1V17M15 1v5.333H9.91" stroke="#32F3AE" stroke-width="1.75" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="restaurant-active"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="#32F3AE" /><path d="M6 16.882c0 .28.233.518.518.518h6.737a.52.52 0 0 0 .518-.518v-.518H6v.518Zm3.886-6.737C7.943 10.146 6 11.183 6 13.255h7.773c0-2.073-1.943-3.11-3.887-3.11Zm-2.528 2.073c.575-.803 1.798-1.036 2.528-1.036.731 0 1.954.233 2.53 1.036H7.357ZM6 14.291h7.773v1.036H6v-1.036Zm8.81-6.218V6h-1.037v2.073h-2.591l.12 1.036h4.953l-.726 7.255h-.72V17.4h.891a.86.86 0 0 0 .845-.762l.855-8.565h-2.59Z" fill="#383838" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="restaurant-outline"><path d="M2 12.882c0 .28.233.518.518.518h6.737a.52.52 0 0 0 .518-.518v-.518H2v.518Zm3.886-6.737C3.943 6.145 2 7.182 2 9.255h7.773c0-2.073-1.943-3.11-3.887-3.11ZM3.358 8.218c.575-.803 1.798-1.036 2.528-1.036.731 0 1.954.233 2.53 1.036H3.357ZM2 10.291h7.773v1.036H2v-1.036Zm8.81-6.218V2H9.772v2.073H7.182L7.3 5.109h4.954l-.726 7.255h-.72V13.4h.891a.86.86 0 0 0 .845-.762l.855-8.565h-2.59Z" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="restaurant"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="#383838" /><path d="M6 16.882c0 .28.233.518.518.518h6.737a.52.52 0 0 0 .518-.518v-.518H6v.518Zm3.886-6.737C7.943 10.146 6 11.183 6 13.255h7.773c0-2.073-1.944-3.11-3.887-3.11Zm-2.528 2.073c.575-.803 1.798-1.036 2.528-1.036.731 0 1.954.233 2.53 1.036H7.357ZM6 14.291h7.773v1.036H6v-1.036Zm8.81-6.218V6h-1.037v2.073h-2.591l.119 1.036h4.954l-.726 7.255h-.72V17.4h.891a.86.86 0 0 0 .845-.762l.855-8.565h-2.59Z" fill="#fff" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="right"><path d="m8 20 8-8-8-8" stroke="currentColor" stroke-width="2" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="round-trip"><path fill-rule="evenodd" clip-rule="evenodd" d="m21.25 11-.45-.6-3-4-1.6 1.2L18 10H6l1.8-2.4-1.6-1.2-3 4-.45.6.45.6 3 4 1.6-1.2L6 12h12l-1.8 2.4 1.6 1.2 3-4 .45-.6Z" fill="currentColor" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="search"><path d="M11 19a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 19 11c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8Zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6Z" fill="currentColor" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="share"><path fill-rule="evenodd" d="m12 3 .7.7 4 4-1.4 1.42-2.3-2.3v10.1h-2V6.81l-2.3 2.3L7.3 7.7l4-4L12 3ZM4 14v7h16v-6.5h-2V19H6v-5H4Z" clip-rule="evenodd" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="shuffle"><path fill-rule="evenodd" clip-rule="evenodd" d="m22.567 7.15-.558.652-3 3.5L17.491 10l1.836-2.142h-5.14a3 3 0 0 0-2.777 1.865l-.992 2.428.992 2.427a3 3 0 0 0 2.777 1.866h5.14l-1.836-2.142L19.009 13l3 3.5.558.65-.558.652-3 3.5L17.491 20l1.334-1.556h-4.638a5 5 0 0 1-4.629-3.11l-.224-.548a5 5 0 0 1-4.521 2.865H2v-2h2.813a3 3 0 0 0 2.777-1.866l.668-1.634-.668-1.635a3 3 0 0 0-2.777-1.865H2v-2h2.813a5 5 0 0 1 4.521 2.865l.224-.549a5 5 0 0 1 4.629-3.11h4.638L17.49 4.303 19.009 3l3 3.5.558.65Z" fill="currentColor" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="sub"><path fill-rule="evenodd" clip-rule="evenodd" d="M20 13H4v-2h16v2Z" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="tour-active"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="#32F3AE" /><path fill-rule="evenodd" clip-rule="evenodd" d="M10.3 7.695a.525.525 0 0 0-.452.256l-.576.963H7.14a.525.525 0 0 0-.525.525v6.341c0 .29.235.525.525.525h9.72c.29 0 .525-.235.525-.525V9.44a.525.525 0 0 0-.525-.526h-2.132l-.576-.963a.525.525 0 0 0-.45-.256h-3.403Zm-.28 2.014.577-.964h2.806l.576.964a.525.525 0 0 0 .451.255h1.905v5.291h-8.67v-5.29H9.57a.525.525 0 0 0 .45-.256Zm3.09 2.651a1.11 1.11 0 1 1-2.22 0 1.11 1.11 0 0 1 2.22 0Zm1.05 0a2.16 2.16 0 1 1-4.32 0 2.16 2.16 0 0 1 4.32 0Z" fill="#383838" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="tour-outline"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.299 3.695a.525.525 0 0 0-.45.256l-.577.963H3.14a.525.525 0 0 0-.525.525v6.341c0 .29.235.525.525.525h9.72c.29 0 .525-.235.525-.525V5.44a.525.525 0 0 0-.525-.526h-2.132l-.576-.963a.525.525 0 0 0-.451-.256H6.299Zm-.278 2.014.576-.964h2.806l.576.964a.525.525 0 0 0 .451.255h1.905v5.291h-8.67v-5.29H5.57a.525.525 0 0 0 .45-.256ZM9.11 8.36a1.11 1.11 0 1 1-2.22 0 1.11 1.11 0 0 1 2.22 0Zm1.05 0a2.16 2.16 0 1 1-4.32 0 2.16 2.16 0 0 1 4.32 0Z" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="tour"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="#383838" /><path fill-rule="evenodd" clip-rule="evenodd" d="M10.299 7.695a.525.525 0 0 0-.45.255l-.577.964H7.14a.525.525 0 0 0-.525.525v6.34c0 .29.235.526.525.526h9.72c.29 0 .525-.235.525-.525V9.44a.525.525 0 0 0-.525-.526h-2.133l-.576-.964a.525.525 0 0 0-.45-.255h-3.402Zm-.279 2.014.577-.964h2.806l.576.964a.525.525 0 0 0 .45.255h1.906v5.29h-8.67v-5.29H9.57a.525.525 0 0 0 .45-.255Zm3.09 2.65a1.11 1.11 0 1 1-2.22.001 1.11 1.11 0 0 1 2.22 0Zm1.05 0a2.16 2.16 0 1 1-4.32.001 2.16 2.16 0 0 1 4.32 0Z" fill="#fff" /></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="twitter"><path d="M14.371 5.1a6.27 6.27 0 0 0-.008-.358A6.192 6.192 0 0 0 16 3.305a7.63 7.63 0 0 1-1.886.439c.686-.348 1.198-.894 1.443-1.538a7.363 7.363 0 0 1-2.083.674 3.507 3.507 0 0 0-1.864-.843 3.81 3.81 0 0 0-2.085.292c-.638.289-1.145.747-1.443 1.305a2.385 2.385 0 0 0-.203 1.779 10.698 10.698 0 0 1-3.747-.844A9.22 9.22 0 0 1 1.113 2.51 2.409 2.409 0 0 0 .75 4.535c.189.69.682 1.292 1.379 1.684A3.761 3.761 0 0 1 .64 5.87v.034c0 .64.262 1.262.742 1.758s1.149.836 1.892.963c-.483.111-.99.128-1.481.049.21.55.619 1.033 1.168 1.378.55.345 1.213.537 1.898.548-1.123.746-2.539 1.188-4.077 1.188-.266 0-.528-.01-.783-.037 1.5.817 3.247 1.25 5.032 1.248 6.039 0 9.34-4.23 9.34-7.9Z" /></symbol><symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 82 24" id="zh-default"><path d="M18.228 8.9h.869l-.437-.751a7.727 7.727 0 0 0-4.166-3.426l-1.206-.415.602 1.124c.524.978.927 2.015 1.198 3.09l.096.378h3.044Zm-5.817-4.348L12 3.957l-.411.595a13.178 13.178 0 0 0-1.787 3.704L9.61 8.9h4.783l-.194-.644a13.177 13.177 0 0 0-1.787-3.704Zm-7.862 9.37.095.378H8.64l-.068-.56A14.373 14.373 0 0 1 8.45 12c0-.583.051-1.155.122-1.74l.068-.56H4.644l-.095.379A7.917 7.917 0 0 0 4.3 12c0 .67.097 1.313.249 1.921ZM5.772 15.1h-.867l.434.75a7.688 7.688 0 0 0 4.168 3.427l1.21.414-.608-1.125c-.52-.96-.919-2.002-1.198-3.09l-.096-.376H5.772Zm2.655-6.2h.39l.095-.377a13.584 13.584 0 0 1 1.198-3.09l.6-1.122-1.203.412A7.688 7.688 0 0 0 5.34 8.15l-.434.75h3.522Zm3.162 10.548.411.595.411-.595a13.177 13.177 0 0 0 1.787-3.704l.194-.644H9.608l.193.644a13.177 13.177 0 0 0 1.787 3.704Zm2.517-5.148h.436l.06-.432c.082-.603.148-1.223.148-1.868s-.066-1.274-.149-1.869l-.06-.431H9.459l-.06.431A13.618 13.618 0 0 0 9.25 12c0 .645.066 1.265.149 1.868l.059.432h4.648Zm-.215 4.266-.61 1.128 1.213-.417a7.728 7.728 0 0 0 4.166-3.426l.437-.751h-3.912l-.096.376a13.582 13.582 0 0 1-1.198 3.09Zm1.537-4.826-.068.56h3.996l.095-.379A7.92 7.92 0 0 0 19.7 12a7.92 7.92 0 0 0-.249-1.921l-.095-.379H15.36l.068.56c.07.585.122 1.157.122 1.74s-.052 1.155-.122 1.74ZM3.5 12c0-4.693 3.8-8.5 8.491-8.5 4.701 0 8.509 3.808 8.509 8.5s-3.808 8.5-8.509 8.5C7.3 20.5 3.5 16.692 3.5 12Z" fill="#fff" stroke="#fff" /><path d="M33.644 11.366V7.978h3.64v3.388h-3.64Zm-4.984 0V7.978h3.626v3.388H28.66Zm4.984-4.662V4.268h-1.358v2.436h-4.928v6.762h1.302v-.826h3.626v4.452h1.358V12.64h3.64v.756h1.358V6.704h-4.998Zm16.044 1.218c-.63 1.722-1.498 3.15-2.632 4.326a13.472 13.472 0 0 1-2.8-4.326h5.432Zm3.626 0v-1.26h-6.286l1.246-.392c-.182-.574-.63-1.47-1.036-2.128l-1.372.406c.378.658.77 1.54.938 2.114h-6.062v1.26h2.156c.784 2.044 1.82 3.794 3.178 5.236-1.484 1.218-3.318 2.086-5.572 2.688.266.308.658.91.812 1.246 2.268-.7 4.172-1.68 5.726-2.996 1.512 1.316 3.374 2.31 5.6 2.912.21-.378.588-.924.882-1.204-2.156-.532-3.976-1.442-5.474-2.66 1.316-1.4 2.352-3.108 3.094-5.222h2.17Z" fill="#fff" /></symbol>',t.insertBefore(s,t.firstChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e()}var $0={created(e,t){const{contain:s,transparent:n}=t.modifiers,o=n?"":"#f8f8f8",i=t.value,a=s?"contain":"cover";i&&(e.setAttribute("data-background",""),e.style.background=`${o} url('${i}') no-repeat center / ${a}`)}},B0={created(e,n){var o=n,{value:t}=o,s=ze(o,["value"]);t&&hs(e,{reserveScrollBarGap:!0})},updated(e,n){var o=n,{value:t}=o,s=ze(o,["value"]);if(t){hs(e,{reserveScrollBarGap:!0});return}ps(e)},beforeUnmount(e){ps(e)}};const L0=(()=>{const t=function*(){let s=0;for(;;)yield s,s++}();return()=>t.next().value})(),R0=e=>{const t=L0();let s=e.dataset.blurs;if(s){s+=`, ${t}`;return}return e.setAttribute("data-blurs",t),t},I0=(e,t,s)=>{var i;const o=~(s.path||((i=s.composedPath)==null?void 0:i.call(s))).indexOf(e);o||t(o)},ts={};var E0={created(e,n){var o=n,{value:t}=o,s=ze(o,["value"]);if(typeof t=="function"){const i=I0.bind(this,e,t);document.body.addEventListener("click",i),ts[R0(e)]=i}},beforeUnmount(e){e.dataset.blurs.split(", ").forEach(s=>{const n=ts[s];document.body.removeEventListener("click",n),delete ts[s]})}},M0=e=>{e.directive("bg",$0),e.directive("lock",B0),e.directive("blur",E0)};const je=pn(No);je.provide("gsap",De);je.use(M0);je.use(Qs);je.use(Rs);je.mount("#app");
